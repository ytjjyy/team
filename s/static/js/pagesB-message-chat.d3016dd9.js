(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesB-message-chat"],{"011b":function(t,e,i){"use strict";var n=i("9932"),a=i.n(n);a.a},"058e":function(t,e,i){"use strict";i.r(e);var n=i("aa15"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"091f":function(t,e,i){var n=i("ff39");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("41393b06",n,!0,{sourceMap:!1,shadowMode:!1})},"0a53":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("498a");var n={name:"chat-input",data:function(){return{val:""}},props:["focus","inputValue","isShow"],methods:{sendMessge:function(){""==this.val.trim()?this.val="":(this.$emit("send-message",{type:"text",content:this.val}),this.val="",uni.hideKeyboard())},onTap:function(){this.$emit("show-emoji"),this.$emit("updata-val",this.val)},uploadImg:function(){this.$emit("on-upload")}},watch:{isShow:function(t){this.val=this.inputValue}}};e.default=n},"188c":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n  * @Description: WoShop\n  * @Author: Parker\n  * @Copyright: 武汉一一零七科技有限公司©版权所有\n  * @Link: www.wo-shop.net\n  * @Contact: QQ:2487937004\n  * =======================================================================================\n  * 这里是uni-app内置的常用样式变量\n  * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n  * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n  *\n */\n/**\n  * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n  *\n  * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */@font-face{font-family:webfont;font-display:swap;src:url(//at.alicdn.com/t/webfont_li5p20ilokm.eot);\n  /* IE9*/src:url(//at.alicdn.com/t/webfont_li5p20ilokm.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/webfont_li5p20ilokm.woff2) format("woff2"),url(//at.alicdn.com/t/webfont_li5p20ilokm.woff) format("woff"),url(//at.alicdn.com/t/webfont_li5p20ilokm.ttf) format("truetype"),url(//at.alicdn.com/t/webfont_li5p20ilokm.svg#Alibaba-PuHuiTi-Regular) format("svg")\n  /* iOS 4.1- */}.textEllipsis[data-v-16f83530]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.liveStatus[data-v-16f83530]{position:absolute;top:%?8?%;left:%?10?%;z-index:99;background-color:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:row;border-radius:100px;padding-right:%?16?%}.liveAn[data-v-16f83530]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:row;background-image:linear-gradient(90deg,#ffa468,#fa3f3f);width:%?28?%;height:%?24?%;border-radius:100px;padding:%?4?% %?8?%;margin-right:%?8?%;border-top-right-radius:%?20?%}.seeNum[data-v-16f83530]{font-size:%?24?%;color:#fff;line-height:%?24?%}.footer[data-v-16f83530]{display:flex;flex-direction:row;align-items:center;width:100%;height:100%;padding:0 %?30?%;box-shadow:0 0 %?2?% rgba(0,0,0,.16);overflow:hidden;box-sizing:border-box;background:#fff}.footer-left[data-v-16f83530]{display:flex;justify-content:center;align-items:center}.footer-left .face[data-v-16f83530]{width:%?64?%;height:%?64?%}.footer-left .album[data-v-16f83530]{width:%?68?%;height:%?55?%}.footer-left i[data-v-16f83530]{font-size:%?60?%;color:#333;padding-right:%?26?%}.footer-left i[data-v-16f83530]:last-child{position:relative;top:%?3?%;padding-right:%?0?%}.footer-right[data-v-16f83530]{font-size:%?34?%;color:#333}.footer-center[data-v-16f83530]{flex:1;height:%?70?%;margin:0 %?20?%}.footer-center .input-text[data-v-16f83530]{height:%?70?%;line-height:%?70?%;background:#fff;border:solid %?1?% #d2d2d2;overflow:hidden;padding:0 %?20?%;border-radius:%?30?%;font-size:%?28?%}.emoji[data-v-16f83530]{position:fixed;bottom:0;left:0;z-index:99;width:100%;background:#fff;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}.emoji .emoji-content-swiper[data-v-16f83530]{width:100%;height:%?390?%}.emoji .input-wrap[data-v-16f83530]{height:%?110?%}.show[data-v-16f83530]{-webkit-transform:translateZ(0);transform:translateZ(0)}\n/*内容  */.emoji-content[data-v-16f83530]{width:100%;height:%?400?%;\n  /* padding-top: 30rpx; */padding-left:%?20?%;box-sizing:border-box}.emoji-content-item[data-v-16f83530]{display:inline-block;padding:%?20?%}.emoji-content-img-emoji[data-v-16f83530]{width:%?50?%;height:%?50?%}.emoji-content-img-other[data-v-16f83530]{width:%?100?%;height:%?100?%}\n/*底部类别  */.emoji-album[data-v-16f83530]{width:100%;height:%?70?%;border:%?2?% solid #999;box-sizing:border-box;background-color:#fff}.emoji-album-left[data-v-16f83530]{display:inline-block;height:100%}.emoji-album-left-img[data-v-16f83530]{width:%?70?%;height:100%;padding:%?8?% %?10?%;box-sizing:border-box;border-right:%?2?% soild #999}.emoji-send[data-v-16f83530]{width:%?80?%;height:100%;line-height:%?70?%;background-color:#0091e4;text-align:center;float:right;color:#fff}.album-active[data-v-16f83530]{background-color:#aaa}',""]),t.exports=e},"1d77":function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("2909"));i("b64b"),i("fb6a"),i("14d9"),i("d81d"),i("baa5"),i("99af");var o=n(i("a6c2")),s=n(i("a8ce")),r={data:function(){return{localAlbumImages:["/images/album-emoji.png"],albumArr:[],currentAlbum:"emoji",emojiList:{},currentAlbumKeys:[],content:""}},props:["isShow","inputValue","type"],components:{chatInput:s.default},mounted:function(){var t=this.splitAlbumKeys(Object.keys(o.default.emojiList[this.currentAlbum]),"emoji"==this.currentAlbum?23:10);this.currentAlbumKeys=t,this.albumArr=o.default.albumArr,this.emojiList=o.default.emojiList,this.content=this.inputValue},methods:{splitAlbumKeys:function(t,e,i){var n=this,o=e||23,s=[],r=Math.ceil(t.length/o),d=0;if(1==r)s=[(0,a.default)(t)];else{for(var f=1;f<r;f++){var l;l=(0,a.default)(t.slice(d,f*o)),d=f*o,s.push(l)}s.push((0,a.default)(t.slice(o*(r-1),t.length)))}return"emoji"!=i&&"emoji"!=this.currentAlbum||s.map((function(t,e){e!=s.length-1&&t.push(n.$t("[删除]"))})),s},sendMessge:function(t){if(!this.content)return!1;this.$emit("send-message",{type:"text",content:this.content}),this.content=""},hideShowEmoji:function(){this.$emit("show-emoji",1,this.content),this.$emit("updata-val",this.content)},emojiTap:function(t){if(t===this.$t("[删除]"))return!!this.content&&(this.content=this.content.substr(0,this.content.lastIndexOf("face")),!1);this.content="".concat(this.content).concat(t)},upload:function(){this.$emit("on-upload")}},watch:{isShow:function(){this.content=this.inputValue}}};e.default=r},"298b":function(t,e,i){"use strict";i.r(e);var n=i("32bb"),a=i("7ee3");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("011b");var s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"16f83530",null,!1,n["a"],void 0);e["default"]=r.exports},"32bb":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"emoji",class:{show:t.isShow}},[i("div",{staticClass:"input-wrap"},[i("div",{staticClass:"footer"},[i("div",{staticClass:"footer-left"},[i("i",{staticClass:"iconfont",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upload.apply(void 0,arguments)}}},[t._v("")]),i("i",{staticClass:"iconfont",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideShowEmoji.apply(void 0,arguments)}}},[t._v("")])]),i("div",{staticClass:"footer-center"},[i("div",{staticClass:"input-text",attrs:{placeholder:t.$t("请输入消息"),type:"text"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideShowEmoji.apply(void 0,arguments)}}},[t._v(t._s(t.content))])]),i("div",{staticClass:"footer-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendMessge.apply(void 0,arguments)}}},[t._v(t._s(t.$t("发送")))])])]),i("v-uni-swiper",{staticClass:"emoji-content-swiper",attrs:{"indicator-dots":!0}},[t._l(t.currentAlbumKeys,(function(e,n){return n<4?[i("v-uni-swiper-item",t._l(e,(function(e,n){return i("v-uni-view",{key:n,staticClass:"emoji-content-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.emojiTap(e)}}},[i("v-uni-image",{class:["emoji"==t.currentAlbum?"emoji-content-img-emoji":"emoji-content-img-other"],attrs:{src:t.emojiList[t.currentAlbum][e].img}})],1)})),1)]:t._e()}))],2)],1)},a=[]},3743:function(t,e,i){"use strict";i.r(e);var n=i("52aa"),a=i("058e");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("92fd");var s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"66f73582",null,!1,n["a"],void 0);e["default"]=r.exports},3965:function(t,e,i){"use strict";var n=i("091f"),a=i.n(n);a.a},"4a08":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-uni-view",{staticClass:"m-item",attrs:{id:"message"+t.num}},[i("v-uni-view",{staticClass:"m-left"},["home"===t.message.userType?i("v-uni-image",{staticClass:"head_icon",attrs:{src:t.message.to_headimgurl}}):t._e()],1),i("v-uni-view",{staticClass:"m-content",class:["customer"===t.message.userType?"":"m-content__left"]},["home"===t.message.userType?i("v-uni-view",{staticClass:"m-content-head",class:{"m-content-head-left":"home"===t.message.userType}},["img"===t.message.message_type?i("v-uni-view",{staticClass:"msg-img",class:"m-content-head-"+t.message.userType},[i("v-uni-image",{style:{width:t.message.width+"px",height:t.message.height+"px"},attrs:{src:t.message.message},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.preview(t.message.message)}}})],1):t._e(),3===t.message.message_type?i("v-uni-view",{staticClass:"msg-img",class:"m-content-head-"+t.message.userType},[i("v-uni-image",{staticStyle:{width:"150px",height:"150px","margin-bottom":"6px"},attrs:{src:t.message.message},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.preview(t.message.message)}}}),i("span",{staticClass:"gift-text"},[t._v(t._s(t.$t("礼物")))])],1):t._e(),"text"===t.message.message_type?i("v-uni-view",{class:"m-content-head-"+t.message.userType},[t._l(t.message.message,(function(e,n){return[["emoji"===e.type?i("v-uni-image",{staticClass:"msg-emoji",attrs:{src:e.content}}):t._e(),"text"===e.type?i("v-uni-text",[t._v(t._s(e.content))]):t._e()]]}))],2):t._e()],1):t._e(),"customer"===t.message.userType?i("v-uni-view",{staticClass:"m-content-head",class:{"m-content-head-right":"customer"===t.message.userType}},["img"===t.message.message_type?i("v-uni-view",{staticClass:"msg-img",class:"m-content-head-"+t.message.userType},[i("v-uni-image",{style:{width:t.message.width+"px",height:t.message.height+"px"},attrs:{src:t.message.message},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.preview(t.message.message)}}})],1):t._e(),3===t.message.message_type?i("v-uni-view",{staticClass:"msg-img",class:"m-content-head-"+t.message.userType},[i("v-uni-image",{staticStyle:{width:"150px",height:"150px","margin-bottom":"6px"},attrs:{src:t.message.message},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.preview(t.message.message)}}}),i("span",{staticClass:"gift-text"},[t._v(t._s(t.$t("礼物")))])],1):t._e(),"text"===t.message.message_type?i("v-uni-view",{class:"m-content-head-"+t.message.userType},[t._l(t.message.message,(function(e,n){return[["emoji"===e.type?i("v-uni-image",{staticClass:"msg-emoji",attrs:{src:e.content}}):t._e(),"text"===e.type?i("v-uni-text",[t._v(t._s(e.content))]):t._e()]]}))],2):t._e()],1):t._e()],1),i("v-uni-view",{staticClass:"m-right"},["customer"==t.message.userType?i("v-uni-image",{staticClass:"head_icon",attrs:{src:t.avatar}}):t._e()],1)],1)],1)},a=[]},"52aa":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-column chat"},[t.pageShow?i("div",[i("v-uni-view",{staticClass:"content",attrs:{id:"content"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideKeyboard.apply(void 0,arguments)}}},[i("div",{attrs:{id:"scrollview"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isMore,expression:"!isMore"}],staticClass:"loading no-more"},[t._v(t._s(t.$t("没有更多了")))]),t._l(t.msgList,(function(e,n){return i("message-show",{key:n,attrs:{avatar:t.avatar,message:e}})})),i("v-uni-view",{attrs:{id:"bottom"}})],2)]),t.showEoji?i("Emoji",{attrs:{"input-value":t.inputValue,isShow:t.showEoji},on:{"updata-val":function(e){arguments[0]=e=t.$handleEvent(e),t.updataVal.apply(void 0,arguments)},"on-upload":function(e){arguments[0]=e=t.$handleEvent(e),t.onUpload.apply(void 0,arguments)},"send-message":function(e){arguments[0]=e=t.$handleEvent(e),t.getInputMessage.apply(void 0,arguments)},"show-emoji":function(e){arguments[0]=e=t.$handleEvent(e),t.onShowEmoji.apply(void 0,arguments)}}}):t._e(),i("v-uni-view",{staticClass:"chat-footer"},[i("chat-input",{attrs:{focus:t.focus,"input-value":t.inputValue,isShow:t.showEoji},on:{"send-message":function(e){arguments[0]=e=t.$handleEvent(e),t.getInputMessage.apply(void 0,arguments)},"updata-val":function(e){arguments[0]=e=t.$handleEvent(e),t.updataVal.apply(void 0,arguments)},"on-upload":function(e){arguments[0]=e=t.$handleEvent(e),t.onUpload.apply(void 0,arguments)},"show-emoji":function(e){arguments[0]=e=t.$handleEvent(e),t.onShowEmoji.apply(void 0,arguments)}}})],1)],1):t._e()])},a=[]},"7cd0":function(t,e,i){"use strict";i.r(e);var n=i("9468"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"7ee3":function(t,e,i){"use strict";i.r(e);var n=i("1d77"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"822d":function(t,e,i){"use strict";i.r(e);var n=i("0a53"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"85f3":function(t,e,i){"use strict";var n=i("feaf"),a=i.n(n);a.a},"92fd":function(t,e,i){"use strict";var n=i("98c0"),a=i.n(n);a.a},9468:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:["message","num","avatar"],data:function(){return{from_headimgurl:this.message.from_headimgurl}},onLoad:function(){},methods:{preview:function(t){uni.previewImage({current:0,urls:[t]})}}};e.default=n},"955b":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n  * @Description: WoShop\n  * @Author: Parker\n  * @Copyright: 武汉一一零七科技有限公司©版权所有\n  * @Link: www.wo-shop.net\n  * @Contact: QQ:2487937004\n  * =======================================================================================\n  * 这里是uni-app内置的常用样式变量\n  * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n  * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n  *\n */\n/**\n  * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n  *\n  * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */@font-face{font-family:webfont;font-display:swap;src:url(//at.alicdn.com/t/webfont_li5p20ilokm.eot);\n  /* IE9*/src:url(//at.alicdn.com/t/webfont_li5p20ilokm.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/webfont_li5p20ilokm.woff2) format("woff2"),url(//at.alicdn.com/t/webfont_li5p20ilokm.woff) format("woff"),url(//at.alicdn.com/t/webfont_li5p20ilokm.ttf) format("truetype"),url(//at.alicdn.com/t/webfont_li5p20ilokm.svg#Alibaba-PuHuiTi-Regular) format("svg")\n  /* iOS 4.1- */}.textEllipsis[data-v-4116f515]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.liveStatus[data-v-4116f515]{position:absolute;top:%?8?%;left:%?10?%;z-index:99;background-color:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:row;border-radius:100px;padding-right:%?16?%}.liveAn[data-v-4116f515]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:row;background-image:linear-gradient(90deg,#ffa468,#fa3f3f);width:%?28?%;height:%?24?%;border-radius:100px;padding:%?4?% %?8?%;margin-right:%?8?%;border-top-right-radius:%?20?%}.seeNum[data-v-4116f515]{font-size:%?24?%;color:#fff;line-height:%?24?%}.m-item[data-v-4116f515]{display:flex;flex-direction:row;padding-top:%?40?%}.m-left[data-v-4116f515]{display:flex;width:%?120?%;justify-content:center;align-items:flex-start}.m-content[data-v-4116f515]{display:flex;flex:1;flex-direction:column;justify-content:center;font-size:%?28?%;color:#333;word-break:break-all}.m-content uni-image[data-v-4116f515]{max-width:%?400?%}.m-right[data-v-4116f515]{display:flex;width:%?120?%;justify-content:center;align-items:flex-start}.head_icon[data-v-4116f515]{width:%?80?%;height:%?80?%;border-radius:50%}.m-content-head[data-v-4116f515]{position:relative}.m-content-head-right[data-v-4116f515]{display:flex;justify-content:flex-end}.m-content-head-home[data-v-4116f515]{position:relative;text-align:left;background:#fff;border-radius:%?16?%;padding:%?20?%;color:#333}.m-content-head-home[data-v-4116f515]:before{position:absolute;left:%?-26?%;top:%?26?%;width:0;height:0;border:%?15?% solid transparent;border-right:%?15?% solid #fff;content:" "}.m-content-head-customer[data-v-4116f515]{background:#fff;border-radius:%?16?%;font-size:%?28?%;color:#333;padding:%?20?%;text-align:left}.m-content__left[data-v-4116f515]{flex:inherit;max-width:%?510?%}.gift-text[data-v-4116f515]{display:block;margin-bottom:%?20?%;text-align:center;font-size:%?24?%;color:#f69a30}.m-content-head-customer[data-v-4116f515]:after{position:absolute;top:%?26?%;right:%?-26?%;width:0;height:0;border:%?15?% solid transparent;border-left:%?15?% solid #fff;content:" "}.msg-emoji[data-v-4116f515]{position:relative;top:%?-2?%;width:%?50?%;height:%?50?%;vertical-align:middle}.msg-img[data-v-4116f515]{position:relative;padding:0 0;background:transparent!important;border-radius:none}.msg-img[data-v-4116f515]::after, .msg-img[data-v-4116f515]::before{display:none}.msg-img uni-image[data-v-4116f515]{display:block;position:relative;margin-bottom:%?20?%;border-radius:%?8?%}.msg-img uni-image[data-v-4116f515]:last-child{margin-bottom:0!important}',""]),t.exports=e},"98c0":function(t,e,i){var n=i("a5ef");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("69b152f6",n,!0,{sourceMap:!1,shadowMode:!1})},9932:function(t,e,i){var n=i("188c");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("5cb2d72d",n,!0,{sourceMap:!1,shadowMode:!1})},"9d6f":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"footer"},[i("div",{staticClass:"footer-left"},[i("i",{staticClass:"iconfont",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.uploadImg.apply(void 0,arguments)}}},[t._v("")]),i("i",{staticClass:"iconfont",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTap.apply(void 0,arguments)}}},[t._v("")])]),i("div",{staticClass:"footer-center"},[i("v-uni-input",{staticClass:"input-text",attrs:{focus:t.focus,placeholder:t.$t("请输入您要咨询的问题"),type:"text","confirm-type":"send"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.sendMessge.apply(void 0,arguments)}},model:{value:t.val,callback:function(e){t.val=e},expression:"val"}})],1)])},a=[]},a5ef:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n  * @Description: WoShop\n  * @Author: Parker\n  * @Copyright: 武汉一一零七科技有限公司©版权所有\n  * @Link: www.wo-shop.net\n  * @Contact: QQ:2487937004\n  * =======================================================================================\n  * 这里是uni-app内置的常用样式变量\n  * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n  * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n  *\n */\n/**\n  * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n  *\n  * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */@font-face{font-family:webfont;font-display:swap;src:url(//at.alicdn.com/t/webfont_li5p20ilokm.eot);\n  /* IE9*/src:url(//at.alicdn.com/t/webfont_li5p20ilokm.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/webfont_li5p20ilokm.woff2) format("woff2"),url(//at.alicdn.com/t/webfont_li5p20ilokm.woff) format("woff"),url(//at.alicdn.com/t/webfont_li5p20ilokm.ttf) format("truetype"),url(//at.alicdn.com/t/webfont_li5p20ilokm.svg#Alibaba-PuHuiTi-Regular) format("svg")\n  /* iOS 4.1- */}.textEllipsis[data-v-66f73582]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.liveStatus[data-v-66f73582]{position:absolute;top:%?8?%;left:%?10?%;z-index:99;background-color:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:row;border-radius:100px;padding-right:%?16?%}.liveAn[data-v-66f73582]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:row;background-image:linear-gradient(90deg,#ffa468,#fa3f3f);width:%?28?%;height:%?24?%;border-radius:100px;padding:%?4?% %?8?%;margin-right:%?8?%;border-top-right-radius:%?20?%}.seeNum[data-v-66f73582]{font-size:%?24?%;color:#fff;line-height:%?24?%}.no-more[data-v-66f73582]{margin-top:%?10?%;text-algin:center}.tip[data-v-66f73582]{position:fixed;top:%?118?%;left:%?30?%;z-index:100;width:%?690?%;height:%?217?%;padding:%?22?% %?30?% 0 %?30?%;background:#fff;color:#999;font-size:%?26?%}.tip .tip-title[data-v-66f73582]{display:flex;justify-content:space-between;align-items:center;margin-bottom:%?10?%}.tip .tip-title i[data-v-66f73582]{color:#999;padding-left:%?20?%}.tip .tip-title h2[data-v-66f73582]{font-size:%?34?%;color:#333}.tip span[data-v-66f73582]{color:#f23333;font-size:%?26?%;line-height:1.4}.notice[data-v-66f73582]{display:flex;align-items:center;position:fixed;top:0;width:100%;height:%?88?%;padding:0 %?30?%;font-size:%?24?%;background:#fff;color:#999;z-index:100}.notice uni-image[data-v-66f73582]{width:%?30?%;height:%?30?%;padding-right:%?6?%}.gift-btn[data-v-66f73582]{bottom:%?200?%}.chat[data-v-66f73582]{min-height:100%;background:#f4f4f4}.chat > div[data-v-66f73582]{min-height:100%;height:100%}.chat .active[data-v-66f73582]{padding-top:0!important}.chat .content[data-v-66f73582]{height:auto;padding-bottom:%?110?%;background:#f4f4f4}.chat .chat-footer[data-v-66f73582]{position:fixed;width:100%;height:%?110?%;left:%?0?%;bottom:%?0?%}.chat #bottom[data-v-66f73582]{padding-bottom:%?20?%}',""]),t.exports=e},a8ce:function(t,e,i){"use strict";i.r(e);var n=i("9d6f"),a=i("822d");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("3965");var s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"81a5ece8",null,!1,n["a"],void 0);e["default"]=r.exports},aa15:function(t,e,i){"use strict";(function(t,n){i("7a82");var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("2909")),s=a(i("5530"));i("e9c4"),i("14d9"),i("26e9"),i("d81d"),i("3c65");var r=a(i("a8ce")),d=a(i("d7df")),f=a(i("298b")),l={data:function(){return{style:{pageHeight:0,contentViewHeight:0,footViewHeight:110,mitemHeight:0},isAnimation:!1,scrollTop:0,showEoji:!1,focus:!1,inputValue:"",pageShow:!1,msgList:[],avatar:"",toId:"",toUserId:"",page:1,isMore:!0,isGetMore:!1}},components:{chatInput:r.default,messageShow:d.default,Emoji:f.default},onShow:function(){var e=this;uni.sendSocketMessage({data:JSON.stringify({type:"readmsg",data:{fromid:uni.getStorageSync("token"),toid:this.toId}})}),uni.sendSocketMessage({data:JSON.stringify({type:"history",data:{fromid:uni.getStorageSync("token"),toid:this.toId}})}),uni.onSocketMessage((function(i){var a=JSON.parse(i.data);if("init"===a.type&&""!=uni.getStorageSync("token")){var o=a.data.client_id;uni.sendSocketMessage({data:JSON.stringify({type:"bind_id",id:uni.getStorageSync("token"),client_id:o})}),uni.setStorageSync("client_id",o)}if("say"===a.type){t.log("消息say触发");var s=a;t.log(a),s.data.to_headimgurl=s.data.fromid===uni.getStorageSync("token")?s.data.to_headimgurl:s.data.from_headimgurl,s.data.message=n.generateRichTextNode(s.data.message,s.data.message_type),s.data.userType=s.data.fromid===uni.getStorageSync("token")?"customer":"home",s.data.fromid==e.toId&&s.data.toid==uni.getStorageSync("token")&&e.msgList.push(s.data),e.$nextTick((function(){setTimeout((function(){e.scrollToBottom()}),50)})),t.log(s);var r=getCurrentPages();r[r.length-1];uni.vibrateLong({success:function(){t.log("success")}})}if("history"===a.type){var d=a.data.reverse();e.msgList=d.map((function(t){return t.to_headimgurl=t.fromid===uni.getStorageSync("token")?t.to_headimgurl:t.from_headimgurl,t.message=n.generateRichTextNode(t.message,t.message_type),t.userType=t.fromid===uni.getStorageSync("token")?"customer":"home",t})),e.$nextTick().then((function(){setTimeout((function(){e.scrollToBottom()}),50)}))}}))},onLoad:function(t){this.$loading(),this.toId=t.toId;var e=JSON.parse(uni.getStorageSync("userInfo"));this.avatar=e.headimgurl?e.headimgurl:this.STATICURL+"images/logo.png",this.toUserId=this.toId;var i=uni.getSystemInfoSync();this.style.pageHeight=i.windowHeight,this.style.contentViewHeight=i.windowHeight-uni.getSystemInfoSync().screenWidth/750*100,this.$hideLoading(),this.pageShow=!0},onUnload:function(){uni.sendSocketMessage({data:JSON.stringify({type:"readmsg",data:{fromid:uni.getStorageSync("token"),toid:this.toId}})})},onBackPress:function(){uni.sendSocketMessage({data:JSON.stringify({type:"readmsg",data:{fromid:uni.getStorageSync("token"),toid:this.toId}})})},methods:{sendMsg:function(e){var i=this;t.log("触发send"),t.log(JSON.stringify((0,s.default)({},e))),uni.sendSocketMessage({data:JSON.stringify((0,s.default)({},e))});var a=e;a.data.message=n.generateRichTextNode(a.data.message,a.data.message_type),this.msgList.push(a.data),setTimeout((function(){i.scrollToBottom()}),50)},getMore:function(){var e=this;if(!this.isMore)return uni.stopPullDownRefresh(),!1;this.loading=!0,this.$http.getChatMsglist({page:this.page+1,toid:this.toId}).then((function(i){if(t.log(i),e.loading=!1,200===i.status)if(i.data.length){var a,s=i.data.reverse();a=s.map((function(t){return t.to_headimgurl=t.fromid===uni.getStorageSync("token")?t.to_headimgurl:t.from_headimgurl,t.message=n.generateRichTextNode(t.message,t.message_type),t.userType=t.fromid===uni.getStorageSync("token")?"customer":"home",t})),e.isGetMore=!0,e.$nextTick().then((function(){var t;(t=e.msgList).unshift.apply(t,(0,o.default)(a)),e.page=e.page+1,uni.stopPullDownRefresh(),e.$nextTick().then((function(){e.isGetMore=!1}))}))}else uni.stopPullDownRefresh(),e.isMore=!1;else t.log(242),e.$toast(i.message),uni.stopPullDownRefresh()})).catch((function(){uni.stopPullDownRefresh()}))},onShowEmoji:function(t,e){var i=this;t?(this.showEoji=!1,this.focus=!0):(uni.hideKeyboard(),setTimeout((function(){i.showEoji=!0,i.focus=!1}),300))},hideKeyboard:function(){this.showEoji=!1,uni.hideKeyboard()},updataVal:function(t){this.inputValue=t},onUpload:function(){var t=this;this.showEoji=!1,n.chooseImg().then((function(e){t.$loading(t.$t("上传中")),uni.uploadFile({url:t.$baseUrl+"api/Common/uploadPic",filePath:e.tempFilePaths[0],formData:t.$http.returnCommonParams("api/Common/uploadPic","chat_message"),name:"file",success:function(i){var n=JSON.parse(i.data);200===n.status?uni.getImageInfo({src:e.tempFilePaths[0],success:function(e){var i=0,a=0;e.width>400?(i=uni.upx2px(400),a=uni.upx2px(e.height*(400/e.width))):(i=uni.upx2px(e.width),a=uni.upx2px(e.height));var o={type:"say",data:{userType:"customer",fromid:uni.getStorageSync("token"),toid:t.toUserId,message:n.data.full_path,message_type:"img",width:i,height:a}};t.$hideLoading(),t.sendMsg(o)}}):t.$toast(n.mess)},fail:function(e){t.$hideLoading()}})}))},getInputMessage:function(t){var e={type:"say",data:{userType:"customer",fromid:uni.getStorageSync("token"),toid:this.toUserId,message:t.content,message_type:"text"}};this.sendMsg(e),this.showEoji=!1,this.inputValue=""},scrollToBottom:function(){uni.pageScrollTo({scrollTop:2e4,duration:100})}},onPullDownRefresh:function(){this.getMore()}};e.default=l}).call(this,i("5a52")["default"],i("f5a5"))},d7df:function(t,e,i){"use strict";i.r(e);var n=i("4a08"),a=i("7cd0");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("85f3");var s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"4116f515",null,!1,n["a"],void 0);e["default"]=r.exports},feaf:function(t,e,i){var n=i("955b");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("086b832c",n,!0,{sourceMap:!1,shadowMode:!1})},ff39:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n  * @Description: WoShop\n  * @Author: Parker\n  * @Copyright: 武汉一一零七科技有限公司©版权所有\n  * @Link: www.wo-shop.net\n  * @Contact: QQ:2487937004\n  * =======================================================================================\n  * 这里是uni-app内置的常用样式变量\n  * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n  * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n  *\n */\n/**\n  * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n  *\n  * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */@font-face{font-family:webfont;font-display:swap;src:url(//at.alicdn.com/t/webfont_li5p20ilokm.eot);\n  /* IE9*/src:url(//at.alicdn.com/t/webfont_li5p20ilokm.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/webfont_li5p20ilokm.woff2) format("woff2"),url(//at.alicdn.com/t/webfont_li5p20ilokm.woff) format("woff"),url(//at.alicdn.com/t/webfont_li5p20ilokm.ttf) format("truetype"),url(//at.alicdn.com/t/webfont_li5p20ilokm.svg#Alibaba-PuHuiTi-Regular) format("svg")\n  /* iOS 4.1- */}.textEllipsis[data-v-81a5ece8]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.liveStatus[data-v-81a5ece8]{position:absolute;top:%?8?%;left:%?10?%;z-index:99;background-color:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:row;border-radius:100px;padding-right:%?16?%}.liveAn[data-v-81a5ece8]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:row;background-image:linear-gradient(90deg,#ffa468,#fa3f3f);width:%?28?%;height:%?24?%;border-radius:100px;padding:%?4?% %?8?%;margin-right:%?8?%;border-top-right-radius:%?20?%}.seeNum[data-v-81a5ece8]{font-size:%?24?%;color:#fff;line-height:%?24?%}.footer[data-v-81a5ece8]{display:flex;flex-direction:row;align-items:center;width:100%;height:100%;padding:0 %?30?%;box-shadow:0 0 %?2?% rgba(0,0,0,.16);overflow:hidden;box-sizing:border-box;background:#fff}.footer-left[data-v-81a5ece8]{display:flex;justify-content:center;align-items:center}.footer-left .face[data-v-81a5ece8]{width:%?64?%;height:%?64?%}.footer-left .album[data-v-81a5ece8]{width:%?68?%;height:%?55?%}.footer-left i[data-v-81a5ece8]{font-size:%?60?%;color:#333;padding-right:%?30?%}.footer-left i[data-v-81a5ece8]:last-child{position:relative;top:%?3?%;padding-right:0}.footer-right[data-v-81a5ece8]{font-size:%?34?%;color:#333}.footer-center[data-v-81a5ece8]{flex:1;height:%?72?%;margin:0 %?16?%}.footer-center .input-text[data-v-81a5ece8]{height:%?72?%;background:#e9e9e9;overflow:hidden;padding:0 %?36?%;border-radius:%?36?%;font-size:%?28?%}',""]),t.exports=e}}]);