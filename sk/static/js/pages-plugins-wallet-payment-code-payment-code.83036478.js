(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-plugins-wallet-payment-code-payment-code"],{5962:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("e25e");var n=i(a("97c7")),s=getApp(),o={data:function(){return{data_list_loding_status:1,data_list_loding_msg:"",is_to_login:0,screen_brightness_value:0,plugins_membershiplevelvip:null,scheduled_timer:null,scheduled_value:0,payment_code:"",barcode:{width:660,height:120,code:""},qrcode:{code:"",size:450}}},components:{componentNoData:n.default},onLoad:function(t){},onShow:function(){this.init(),this.init_config()},methods:{init_config:function(t){1==(t||!1)?this.setData({plugins_membershiplevelvip:s.globalData.get_config("plugins_base.membershiplevelvip",null)}):s.globalData.is_config(this,"init_config")},init:function(){var t=s.globalData.get_user_info(this,"init");if(0!=t){if(s.globalData.user_is_need_login(t))return uni.redirectTo({url:"/pages/login/login?event_callback=init"}),this.setData({data_list_loding_status:0,data_list_loding_msg:"请先绑定手机",is_to_login:1}),!1;this.get_data()}else this.setData({data_list_loding_status:0,data_list_loding_msg:"请先登录",is_to_login:1})},get_data:function(){var t=this;clearInterval(this.scheduled_timer);var e=this;uni.request({url:s.globalData.get_request_url("paymentcode","user","wallet"),method:"POST",data:{},dataType:"json",success:function(a){if(0==a.data.code){var i=parseInt(a.data.data.time||30),n=setInterval((function(){i<=1?e.get_data():(i--,e.setData({scheduled_value:i}))}),1e3),s=t.barcode,o=t.qrcode;s["code"]=a.data.data.code,o["code"]=a.data.data.code,t.setData({data_list_loding_status:3,is_to_login:0,barcode:s,qrcode:o,payment_code:a.data.data.code,scheduled_timer:n,scheduled_value:i})}else t.setData({data_list_loding_status:0,data_list_loding_msg:a.msg,is_to_login:0})},fail:function(){t.setData({data_list_loding_status:2,data_list_loding_msg:"服务器请求出错",is_to_login:0}),s.globalData.showToast("服务器请求出错")}})},url_event:function(t){s.globalData.url_event(t)}},onUnload:function(){clearInterval(this.scheduled_timer)}};e.default=o},7325:function(t,e,a){"use strict";a.r(e);var i=a("7d83"),n=a("9e58");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("92ae");var o=a("f0c5"),l=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"974065e2",null,!1,i["a"],void 0);e["default"]=l.exports},"7d83":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var i={wBarcode:a("38dd").default,wQrcode:a("b5f8").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"scroll-box bg-white"},[3==t.data_list_loding_status?[a("v-uni-view",{staticClass:"brcode auto"},[a("w-barcode",{attrs:{options:t.barcode}}),a("v-uni-view",{staticClass:"fw-b tc margin-top text-size-lg"},[t._v(t._s(t.payment_code))])],1),a("v-uni-view",{staticClass:"qrcode auto br radius"},[a("w-qrcode",{attrs:{options:t.qrcode}})],1),a("v-uni-view",{staticClass:"cr-grey tc margin-top-xxxl"},[t._v("如遇到扫码失败请将屏幕调至最亮重新扫码")]),a("v-uni-view",{staticClass:"margin-top-xxxl cr-yellow tc"},[t._v("("+t._s(t.scheduled_value)+")秒后自动刷新付款码")]),null!=(t.plugins_membershiplevelvip||null)?a("v-uni-view",{staticClass:"bottom-fixed padding-main"},[a("v-uni-view",{staticClass:"bg-gray round oh"},[a("v-uni-button",{staticClass:"bg-gray br-gray cr-base round text-size fl",attrs:{type:"default",size:"mini","data-value":"/pages/plugins/membershiplevelvip/member-code/member-code?screen_brightness_value="+t.screen_brightness_value,"data-redirect":"1"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.url_event.apply(void 0,arguments)}}},[t._v("会员码")]),a("v-uni-button",{staticClass:"bg-main br-main cr-white round text-size fr",attrs:{type:"default",size:"mini"}},[t._v("钱包付款码")])],1)],1):t._e()]:t._e(),a("component-no-data",{attrs:{propStatus:t.data_list_loding_status,propMsg:t.data_list_loding_msg}}),1==t.is_to_login?a("v-uni-view",{staticClass:"margin-top-lg tc"},[a("v-uni-button",{staticClass:"bg-main br-main cr-white",attrs:{type:"default",size:"mini","data-value":"/pages/login/login"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.url_event.apply(void 0,arguments)}}},[t._v("去登录")])],1):t._e()],2)},s=[]},"92ae":function(t,e,a){"use strict";var i=a("be5f"),n=a.n(i);n.a},"9e58":function(t,e,a){"use strict";a.r(e);var i=a("5962"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},bd7f:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".brcode[data-v-974065e2]{width:%?660?%;padding-top:%?60?%}.qrcode[data-v-974065e2]{width:%?450?%;margin-top:%?60?%;padding:%?50?%}.bottom-fixed uni-button[data-v-974065e2]{width:50%}",""]),t.exports=e},be5f:function(t,e,a){var i=a("bd7f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("365e41c3",i,!0,{sourceMap:!1,shadowMode:!1})}}]);