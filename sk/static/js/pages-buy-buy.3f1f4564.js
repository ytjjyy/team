(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-buy-buy"],{"14af":function(t,e,a){"use strict";a.r(e);var i=a("7986"),n=a("a7c9");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("ca06");var o=a("f0c5"),r=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"7a19d9c2",null,!1,i["a"],void 0);e["default"]=r.exports},"1a3c":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".popup-content[data-v-7a19d9c2]{position:fixed;background:#fff;z-index:101;overflow:hidden}.popup-mask[data-v-7a19d9c2]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.6);opacity:0;pointer-events:none;z-index:100}.popup-left[data-v-7a19d9c2]{-webkit-transform:translateX(-100%);transform:translateX(-100%);left:0;top:0;bottom:0}.popup-right[data-v-7a19d9c2]{-webkit-transform:translateX(100%);transform:translateX(100%);right:0;top:0;bottom:0}.popup-top[data-v-7a19d9c2]{top:0;width:100vw;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.popup-bottom[data-v-7a19d9c2]{bottom:var(--window-bottom);width:100vw;-webkit-transform:translateY(100%);transform:translateY(100%)}.popup-show .popup-content[data-v-7a19d9c2]{-webkit-transform:none;transform:none}.popup-show .popup-mask[data-v-7a19d9c2]{opacity:1;pointer-events:auto}.popup.animation .popup-mask[data-v-7a19d9c2],\n.popup.animation .popup-content[data-v-7a19d9c2]{transition:all .25s linear}.popup-top[data-v-7a19d9c2]{border-bottom-right-radius:%?20?%;border-bottom-left-radius:%?20?%}.popup-bottom[data-v-7a19d9c2]{border-top-right-radius:%?20?%;border-top-left-radius:%?20?%}.popup-left[data-v-7a19d9c2]{border-top-right-radius:%?20?%;border-bottom-right-radius:%?20?%}.popup-right[data-v-7a19d9c2]{border-top-left-radius:%?20?%;border-bottom-left-radius:%?20?%}.popup-bar[data-v-7a19d9c2]{\nbottom:var(--window-bottom)!important\n}",""]),t.exports=e},"1e54":function(t,e,a){"use strict";var i=a("5af4"),n=a.n(i);n.a},"2c62":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'/**\r\n* 地址\r\n*/.address-base[data-v-296fabee],\r\n.address-detail[data-v-296fabee]{padding-right:%?40?%}.address-detail .icon[data-v-296fabee]{width:%?30?%;height:%?35?%!important}.address-detail .text[data-v-296fabee]{width:calc(100% - %?40?%)}.address-alias[data-v-296fabee],\r\n.goods-group-alias[data-v-296fabee],\r\n.goods-group-map-submit[data-v-296fabee]{padding:0 %?15?%;line-height:%?40?%}\r\n/**\r\n* 商品\r\n*/.goods-group-icon[data-v-296fabee]{width:%?30?%;height:%?30?%}.goods-group-title[data-v-296fabee]{font-weight:700;vertical-align:middle}.goods-group-alias[data-v-296fabee]{border:1px solid #3bb4f2;color:#3bb4f2}.goods-image[data-v-296fabee]{width:%?160?%;height:%?160?%;margin-right:%?20?%}.buy-number[data-v-296fabee]{right:0;bottom:0}.goods-base[data-v-296fabee]{min-height:%?160?%;margin-left:%?180?%}\r\n/**\r\n* 导航\r\n*/.buy-nav[data-v-296fabee]{position:fixed;left:0;bottom:0}.buy-nav[data-v-296fabee],\r\n.nav-base[data-v-296fabee]{height:%?100?%;line-height:%?100?%}.nav-submit uni-button[data-v-296fabee]{height:%?72?%;line-height:%?72?%}.nav-base[data-v-296fabee]{width:calc(60% - %?20?%)}.nav-submit[data-v-296fabee]{width:calc(40% - %?40?%)}\r\n/**\r\n* 支付方式\r\n*/.payment-list .item[data-v-296fabee]{width:calc(50% - %?10?%)}.payment-list .item[data-v-296fabee]:nth-child(2n){float:right}.payment-list .item[data-v-296fabee]:nth-child(2n+1){float:left}.payment-list .item-content[data-v-296fabee]{padding:%?20?% %?10?%}.payment-list .item-content uni-image[data-v-296fabee]{width:%?50?%;height:%?50?%!important}\r\n/**\r\n* 扩展数据\r\n*/.extension-list[data-v-296fabee]{background-color:#ffffeb;border:1px solid #ffe2cf}.extension-list .item[data-v-296fabee]:not(:last-child){border-bottom:1px dashed #ffe2cf}.extension-list .item .text-tips[data-v-296fabee]{color:#ff8f44}\r\n/**\r\n* 留言\r\n*/.content-textarea-container[data-v-296fabee]{height:%?100?%}.content-textarea-container uni-view[data-v-296fabee],\r\n.content-textarea-container uni-textarea[data-v-296fabee]{height:100%!important}.content-textarea-container uni-textarea[data-v-296fabee]{padding:%?5?% 0}\r\n/**\r\n* 销售+自提 模式选择\r\n*/.buy-header-nav .item[data-v-296fabee]{padding:%?25?% 0;width:50%}\r\n/**\r\n * 数据列表项\r\n */.buy-data-item[data-v-296fabee]{padding:0 %?40?% 0 %?20?%;line-height:%?80?%}.buy-data-item-group[data-v-296fabee]{padding:0 %?40?% 0 0}.buy-data-item .right-value[data-v-296fabee]{width:calc(100% - %?300?%);min-height:%?80?%}\r\n/*\r\n* 插件样式区域\r\n*/\r\n/*\r\n* 优惠劵\r\n*/.plugins-coupon-popup[data-v-296fabee]{padding-top:%?20?%}.plugins-coupon-popup .close[data-v-296fabee]{margin-right:%?20?%}.plugins-coupon-container[data-v-296fabee]{max-height:80vh;overflow-y:scroll;overflow-x:hidden}.plugins-coupon-container .item[data-v-296fabee],\r\n.plugins-coupon-container .v-right[data-v-296fabee],\r\n.plugins-coupon-container .v-right .circle[data-v-296fabee]{height:%?230?%}.plugins-coupon-container .not-use-tips[data-v-296fabee]{color:#f7b240;font-size:%?32?%}\r\n/*\r\n* 积分\r\n*/.plugins-points-buy-container[data-v-296fabee]{padding:%?20?%}.plugins-points-buy-container .select .icon[data-v-296fabee]{width:%?35?%;height:%?35?%!important;vertical-align:middle}.plugins-points-buy-container .select .sales-price[data-v-296fabee]{margin-left:%?30?%;font-size:%?28?%;font-weight:400}.plugins-points-buy-container .desc[data-v-296fabee]{color:#f37b1d}\r\n/**\r\n * 门店次卡-页面选择\r\n */.plugins-realstore-container-view .image[data-v-296fabee]{width:%?40?%;height:%?40?%!important}\r\n/*\r\n * 门店次卡-弹窗选择\r\n */.plugins-realstore-container[data-v-296fabee]{max-height:80vh;overflow-y:scroll;overflow-x:hidden}.plugins-realstore-container .item[data-v-296fabee]{overflow:hidden;height:%?220?%}.plugins-realstore-container .v-left[data-v-296fabee]{width:calc(100% - %?140?%);padding:%?30?% 0 %?30?% %?20?%;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.plugins-realstore-container .v-left .base[data-v-296fabee]{font-family:arial;color:#d2364c}.plugins-realstore-container .v-right[data-v-296fabee]{width:%?140?%;height:%?220?%;font-weight:500}.plugins-realstore-container .v-right[data-v-296fabee]:before{content:"";display:inline-block;height:100%;vertical-align:middle}.plugins-realstore-container .item-disabled .v-right[data-v-296fabee]{background:#dfdfdf!important;color:silver!important;cursor:no-drop!important}',""]),t.exports=e},"2fa6":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".no-data-box[data-v-9455811c]{padding:10% 0;text-align:center}.no-data-box uni-image[data-v-9455811c]{width:%?160?%;margin-bottom:%?30?%}.no-data-box .no-data-tips[data-v-9455811c]{font-size:%?28?%;color:#a6a6a6}.no-data-loading uni-text[data-v-9455811c]{color:#999}",""]),t.exports=e},"382f":function(t,e,a){var i=a("2fa6");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("c08120bc",i,!0,{sourceMap:!1,shadowMode:!1})},4562:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530"));a("a9e3"),a("d3b7"),a("159b"),a("e9c4"),a("14d9"),a("ac1f"),a("5319"),a("d81d"),a("caad"),a("2532"),a("e25e"),a("99af");var s={props:{propTitle:{type:String,default:"请选择时间"},propPlaceholder:{type:String,default:""},propSubhead:{type:String,default:""},propRangeType:{type:Boolean,default:!1},propIsShow:{type:Boolean,default:!1},propMaskHide:{type:Boolean,default:!0},propCloseBtn:{type:Boolean,default:!0},propRangeDay:{type:[Number,String],default:2},propRangeStartTime:{type:String,default:"00:00:00"},propRangeEndTime:{type:String,default:"00:00:00"},propDefaultTime:{type:String,default:""},propIsRoundingTime:{type:Boolean,default:!0},propIntervalTime:{type:[Number,String],default:30},propIsNow:{type:Boolean,default:!1},propDayStartIntTime:{type:[Number,String],default:0},propDisabled:{type:[String,Array],default:function(){return[]}}},data:function(){return{timeList:[],selectDateStr:"",select_dateStr:"",selectTime:"",selectEndime:"",activeTimeArr:[],day_active_index:0,time_active_index:""}},beforeMount:function(){this._initDay()},watch:{propIsShow:function(t,e){t&&this.timeList.length<=0&&this._initDay()}},methods:{_stopFunc:function(){},_dataOpen:function(){this._selectEvent("open")},_closeBtnClose:function(){this.propCloseBtn&&this._selectEvent("close")},_maskClose:function(){this.propMaskHide&&this._selectEvent("close")},_selectEvent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$emit("selectEvent",t)},_changeDay:function(t){var e=t-0,a=this.timeList;a.forEach((function(t){t.checked=!1})),a[e].checked=!0,this.timeList=a,this.selectDateStr=a[e].dateStr,this.select_dateStr=a[e]._dateStr,this.activeTimeArr=a[e].timeArr,this.day_active_index=t},_changeTime:function(t){var e=this.activeTimeArr,a=JSON.parse(JSON.stringify(e));a.forEach((function(t){t.checked=!1}));var i="";if(""!==t){var n=t-0;a[n].checked=!0,this.selectTime=a[n].time,this.selectEndime=a[n].endtime,i=this._handleData()}this.time_active_index=t,this.activeTimeArr=a,this._selectEvent(i)},_handleData:function(){var t={},e=this.selectDateStr,a=this.select_dateStr,i=this.selectTime,n=this.selectEndime;return t.date=e+" "+i,t._date=a+" "+i,t.dateRange=e+" "+i+"-"+n,t._dateRange=a+" "+i+"-"+n,t.timeStamp=new Date(e+" "+i).getTime(),t},_initDay:function(){for(var t=this,e=[],a=0;a<this.propRangeDay;a++){var i=(0,n.default)({},this._getDate(a));i.timeArr=this._initTime(a),e.push(i)}this.propDefaultTime?function(){for(var a=t.propDefaultTime.split(" ")[0].replace(/-/g,"/"),i=t.propDefaultTime.split(" ")[1],n=!0,s=0;s<e.length;s++){var o=e[s];o.checked=!1,o.timeArr.length>0&&o.dateStr===a&&(o.checked=!0,n=!1,o.timeArr.forEach((function(e){t._timeRange(e.time+":00",e.endtime+":00",i)&&(e.checked=!0,t.time=e.time,t.endtime=e.endtime)})),t.selectDateStr=o.dateStr,t.select_dateStr=o._dateStr,t.activeTimeArr=o.timeArr)}n&&t._setDefaultTime(e)}():this._setDefaultTime(e),this.timeList=e,this.time_active_index=this.propDefaultTime||""},_setDefaultTime:function(t){for(var e=0;e<t.length;e++){var a=t[e];if(a.timeArr.length>0){a.checked=!0,this.selectDateStr=a.dateStr,this.select_dateStr=a._dateStr,this.activeTimeArr=a.timeArr;break}}},_initTime:function(t){var e=this.propDisabled,a=this.propIntervalTime;a<=0&&(a=1);var i=this._timeHandle(this.propRangeStartTime),n=this._timeHandle(this.propRangeEndTime);if("00:00:00"==n&&(n="23:59:59"),"string"===typeof e?e=e?e.split(","):[]:Array.isArray(e)&&(e=e.map((function(t){return t+""}))),0!==t||e.includes("0"))return e.includes(t+"")?[]:this._forTime(i,n,a);var s=this._roundingTime();return this._timeRange(i,n,s)?this._forTime(s,n,a,s):this._toTimeStr(s)<this._toTimeStr(i)?this._forTime(i,n,a,s):[]},_getDate:function(t){var e=new Date,a=new Date(e),i=["周日","周一","周二","周三","周四","周五","周六"];a.setDate(e.getDate()+t);var n="",s="";return n=a.getMonth()-0+1+"月"+a.getDate()+"日("+i[a.getDay()]+")",s=a.getFullYear()+"/"+(a.getMonth()-0+1)+"/"+a.getDate(),0==t?n="今天("+i[a.getDay()]+")":1==t&&(n="明天("+i[a.getDay()]+")"),{name:n,dateStr:s,_dateStr:s.replace(/\//g,"-")}},_addZero:function(t){return t+="",1===t.length?"0"+t:t},_roundingTime:function(){var t=new Date,e=t.getHours()-0,a=t.getMinutes()-0;return a>30?(a="00",e+=1):a-0>0&&a-0<30&&(a=30),this.propIsRoundingTime&&!this.propIsNow?e+":"+a+":00":(new Date).getHours()+":"+(new Date).getMinutes()+":00"},_forTime:function(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=1e3*this.propDayStartIntTime*60,s=this._toTimeStr(t),o=this._toTimeStr(e),r=1e3*a*60,l=[];if(s<o)for(var u=s+n;u<o;u+=r)l.push({time:this._toLocalTime(u),endtime:this._toLocalTime(u+r>o?o:u+r),checked:!1});else{for(var d=i;d<o;d+=r)l.push({time:this._toLocalTime(d),endtime:this._toLocalTime(d+r>o?o:d+r),checked:!1});for(var c=s+n;c<this._toTimeStr("23:59:59");c+=r)l.push({time:this._toLocalTime(c),endtime:this._toLocalTime(c+r),checked:!1})}return l},_toTimeStr:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t,a=0,i=e.split(":"),n=1e3*i[0]*60*60,s=1e3*i[1]*60,o=1e3*i[2];return a=n+s+o,a},_toLocalTime:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=parseInt(t/1e3/60/60%24),i=parseInt(t/1e3/60%60),n=parseInt(t/1e3%60);return t=0===e?"".concat(this._addZero(a),":").concat(this._addZero(i)):"".concat(this._addZero(a),":").concat(this._addZero(i),":").concat(this._addZero(n)),t},_timeRange:function(t,e,a){var i=t.split(":"),n=e.split(":"),s=a.split(":"),o=new Date,r=new Date,l=new Date;o.setHours(i[0]),o.setMinutes(i[1]),r.setHours(n[0]),r.setMinutes(n[1]),l.setHours(s[0]),l.setMinutes(s[1]);var u=o.getTime(),d=r.getTime(),c=l.getTime();return u>d?!(c-d>=0&&c-u<0):c-u>=0&&c-d<0},_timeHandle:function(t){var e=null==(t||null)?[]:t.split(":"),a=e.length;if(a<3)while(a<3)e.push("00"),a++;return e.join(":")}}};e.default=s},"4d18":function(t,e,a){"use strict";a.r(e);var i=a("92d1"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"4fed":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[1==t.propStatus?a("v-uni-view",{staticClass:"no-data-box no-data-loading"},[a("v-uni-text",[t._v("加载中...")])],1):2==t.propStatus?a("v-uni-view",{staticClass:"no-data-box"},[a("v-uni-image",{attrs:{src:t.static_dir+"error.png",mode:"widthFix"}}),a("v-uni-view",{staticClass:"no-data-tips"},[t._v(t._s(t.propMsg||"处理错误"))])],1):0==t.propStatus?a("v-uni-view",{staticClass:"no-data-box"},[a("v-uni-image",{attrs:{src:t.static_dir+"empty.png",mode:"widthFix"}}),a("v-uni-view",{staticClass:"no-data-tips"},[t._v(t._s(t.propMsg||"没有相关数据"))])],1):t._e()],1)},n=[]},"53e6":function(t,e,a){var i=a("1a3c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("3c048b08",i,!0,{sourceMap:!1,shadowMode:!1})},"55ae":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"time-select-content",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._dataOpen.apply(void 0,arguments)}}},[t._t("default")],2),a("v-uni-view",{class:"time-select-popup-mask "+(t.propIsShow?"time-select-popup-show":""),on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._maskClose.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"time-select-popup-content",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t._stopFunc.apply(void 0,arguments)}}},[t.propCloseBtn?a("v-uni-view",{staticClass:"time-select-close-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._closeBtnClose.apply(void 0,arguments)}}},[t._v("×")]):t._e(),a("v-uni-view",{staticClass:"time-select-title"},[null!=(t.propTitle||null)?a("v-uni-view",[t._v(t._s(t.propTitle))]):t._e(),null!=(t.propSubhead||null)?a("v-uni-view",[t._v(t._s(t.propSubhead))]):t._e()],1),a("v-uni-view",{staticClass:"time-select-time-box"},[a("v-uni-view",{staticClass:"left_box"},[t._l(t.timeList,(function(e,i){return e.timeArr.length>0?[a("v-uni-view",{key:e.dateStr+"_0",class:{active:e.checked},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._changeDay(i)}}},[t._v(t._s(e.name))])]:t._e()}))],2),a("v-uni-view",{staticClass:"right_box"},[0==t.day_active_index&&null!=(t.propPlaceholder||null)?a("v-uni-view",{class:""===t.time_active_index?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._changeTime("")}}},[t._v(t._s(t.propPlaceholder))]):t._e(),t._l(t.activeTimeArr,(function(e,i){return[a("v-uni-view",{key:e.time+"_0",class:{active:e.checked},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._changeTime(i)}}},[t._v(t._s(e.time)+t._s(t.propRangeType?"-"+e.endtime:""))])]}))],2)],1)],1)],1)],1)},n=[]},"5af4":function(t,e,a){var i=a("c7e2");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("567ab8fc",i,!0,{sourceMap:!1,shadowMode:!1})},7986:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{class:"popup "+(t.propClassname||"")+" "+(t.propShow?"popup-show":"")+" "+(t.propAnimation,"animation"),attrs:{"disable-scroll":t.propDisablescroll}},[(t.propMask,a("v-uni-view",{staticClass:"popup-mask",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onMaskTap.apply(void 0,arguments)}}})),a("v-uni-view",{class:"popup-content popup-"+(t.propPosition||"bottom")+" "+(t.propIsBar?"popup-bar":"")},[t._t("default")],2)],1)],1)},n=[]},"92d1":function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("b64b"),a("14d9"),a("c975"),a("d81d");var n=i(a("14af")),s=i(a("97c7")),o=i(a("bec4")),r=getApp(),l=r.globalData.get_static_url("common"),u={data:function(){return{common_static_url:l,data_list_loding_status:1,buy_submit_disabled_status:!1,data_list_loding_msg:"",params:null,payment_list:[],goods_list:[],address:null,address_id:null,total_price:0,user_note_value:"",user_note_status:!1,is_first:1,extension_data:[],payment_id:0,common_site_type:0,extraction_address:[],site_model:0,buy_header_nav:[{name:"快递邮寄",value:0},{name:"自提点取货",value:2}],currency_symbol:r.globalData.data.currency_symbol,common_order_is_booking:0,buy_datetime_info:{},plugins_coupon_data:null,plugins_coupon_list:[],plugins_use_coupon_ids:[],plugins_choice_coupon_value:[],popup_plugins_coupon_status:!1,popup_plugins_coupon_index:null,plugins_points_data:null,plugins_points_status:!1,plugins_realstore_data:[],plugins_choice_realstore_value:{},popup_plugins_realstore_status:!1,popup_plugins_realstore_group_id:0,popup_plugins_realstore_card_index:0}},components:{componentPopup:n.default,componentNoData:s.default,componentTimeSelect:o.default},props:{},onLoad:function(t){null!=(t.data||null)&&r.globalData.get_length(JSON.parse(decodeURIComponent(t.data)))>0&&(this.setData({params:JSON.parse(decodeURIComponent(t.data))}),uni.removeStorageSync(r.globalData.data.cache_buy_user_address_select_key))},onShow:function(){this.init(),this.setData({is_first:0}),this.init_config(),r.globalData.page_share_handle()},onPullDownRefresh:function(){this.init()},methods:{init_config:function(t){1==(t||!1)?this.setData({currency_symbol:r.globalData.get_config("currency_symbol"),common_order_is_booking:r.globalData.get_config("config.common_order_is_booking")}):r.globalData.is_config(this,"init_config")},init:function(){var t=this;if(null==this.params)return this.setData({data_list_loding_status:2,data_list_loding_msg:"订单信息有误"}),uni.stopPullDownRefresh(),!1;if(0==this.is_first){var e=uni.getStorageSync(r.globalData.data.cache_buy_user_address_select_key);null!=(e||null)&&this.setData({address:e,address_id:e.id})}uni.showLoading({title:"加载中..."}),this.setData({data_list_loding_status:1});var a=this.params;a["address_id"]=this.address_id,a["payment_id"]=this.payment_id,a["site_model"]=this.site_model,uni.request({url:r.globalData.get_request_url("index","buy"),method:"POST",data:this.request_data_ext_params_merge(a),dataType:"json",success:function(e){if(uni.stopPullDownRefresh(),uni.hideLoading(),0==e.data.code){var a=e.data.data;if(1==(a.is_order_submit||0))return t.buy_submit_response_handle(a),!1;if(0==a.goods_list.length)t.setData({data_list_loding_status:0});else{var i=t.buy_datetime_info||{},n=a.buy_datetime_info||{},s={is_select:1==(n.is_select||0),required:1==(n.required||0),status:i.status||1==(n.status||0)||!1,value:i.value||n.value||"",title:n.title||"时间",placeholder:n.placeholder||"选择时间",time_start:n.time_start||"",time_end:n.time_end||"",range_day:n.range_day||2,disabled:n.disabled||"",error_msg:n.error_msg||"请选择时间"};if(t.setData({goods_list:a.goods_list,total_price:a.base.actual_price,extension_data:a.extension_data||[],data_list_loding_status:3,common_site_type:a.common_site_type||0,extraction_address:a.base.extraction_address||[],buy_datetime_info:s,plugins_coupon_data:a.plugins_coupon_data||null,plugins_points_data:a.plugins_points_data||null,plugins_realstore_data:a.plugins_realstore_data||null}),null!=(a.plugins_coupon_data||null)){var o=[];for(var l in a.plugins_coupon_data){var u=a.plugins_coupon_data[l]["warehouse_id"];if(null!=(a.plugins_coupon_data[l]["coupon_data"]["coupon_choice"]||null))o[u]=a.plugins_coupon_data[l]["coupon_data"]["coupon_choice"]["coupon"]["desc"];else{var d=null!=(a.plugins_coupon_data[l]["coupon_data"]["coupon_list"]||null)?a.plugins_coupon_data[l]["coupon_data"].coupon_list.length:0;o[u]=d>0?"可选优惠劵"+d+"张":"暂无可用优惠劵"}}t.setData({plugins_choice_coupon_value:o})}t.setData({address:a.base.address||null,address_id:null!=(a.base.address||null)?a.base.address.id:null}),uni.setStorage({key:r.globalData.data.cache_buy_user_address_select_key,data:a.base.address||null}),t.payment_list_data(a.payment_list)}}else t.setData({data_list_loding_status:2,data_list_loding_msg:e.data.msg}),r.globalData.is_login_check(e.data,t,"init")&&r.globalData.showToast(e.data.msg)},fail:function(){uni.stopPullDownRefresh(),uni.hideLoading(),t.setData({data_list_loding_status:2,data_list_loding_msg:"服务器请求出错"}),r.globalData.showToast("服务器请求出错")}})},request_data_ext_params_merge:function(t){var e=this.plugins_use_coupon_ids;if(null!=(e||null)&&e.length>0)for(var a in e)t["coupon_id_"+a]=e[a];var i="realstore_card_value",n=this.plugins_choice_realstore_value;return Object.keys(n).length>0?t[i]=n:void 0!=t[i]&&delete t[i],t["is_points"]=!0===this.plugins_points_status?1:0,t},bind_user_note_event:function(t){this.setData({user_note_value:t.detail.value})},bind_user_note_tap_event:function(t){this.setData({user_note_status:!0})},bind_user_note_blur_event:function(t){this.setData({user_note_status:!1})},buy_submit_event:function(t){var e=this,a=this.params;a["address_id"]=this.address_id,a["payment_id"]=this.payment_id,a["user_note"]=this.user_note_value,a["site_model"]=this.site_model;var i=[];if(0!=this.common_site_type&&2!=this.common_site_type&&4!=this.common_site_type||i.push({fields:"address_id",msg:"请选择地址",is_can_zero:1}),r.globalData.fields_check(a,i)){a=this.request_data_ext_params_merge(a);var n=this.buy_datetime_info||{};if(1==(n.is_select||!1)){if(1==(n.required||!1)&&null==(n.value||null))return r.globalData.showToast(n.error_msg||"请选择时间"),!1;a["buy_datetime_value"]=n.value||""}if(this.total_price>0&&1!=this.common_order_is_booking&&null==(a.payment_id||null))return r.globalData.showToast("请选择支付方式"),!1;uni.showLoading({title:"提交中..."}),this.setData({buy_submit_disabled_status:!0}),uni.request({url:r.globalData.get_request_url("add","buy"),method:"POST",data:a,dataType:"json",success:function(t){uni.hideLoading(),0==t.data.code?e.buy_submit_response_handle(t.data.data):(r.globalData.showToast(t.data.msg),e.setData({buy_submit_disabled_status:!1}))},fail:function(){uni.hideLoading(),e.setData({buy_submit_disabled_status:!1}),r.globalData.showToast("服务器请求出错")}})}},buy_submit_response_handle:function(t){if(1==t.order_status){var e={order_ids:t.order_ids.join(","),payment_id:t.payment_id};uni.setStorageSync(r.globalData.data.cache_page_pay_key,e)}uni.redirectTo({url:"/pages/user-order/user-order"})},payment_event:function(t){this.setData({payment_id:t.currentTarget.dataset.value}),this.payment_list_data(this.payment_list),this.init()},payment_list_data:function(t){if(0!=this.payment_id)for(var e in t)t[e]["selected"]=t[e]["id"]==this.payment_id?"cr-main br-main":"";this.setData({payment_list:t||[]})},plugins_coupon_open_event:function(t){var e=t.currentTarget.dataset.index,a=this.plugins_coupon_data[e]["coupon_data"]["coupon_list"];if(a.length>0){var i=this.plugins_use_coupon_ids;for(var n in a)a[n]["is_active"]=-1!=i.indexOf(a[n]["id"])?1:0}this.setData({plugins_coupon_list:a,popup_plugins_coupon_status:!0,popup_plugins_coupon_index:e})},plugins_coupon_close_event:function(t){this.setData({popup_plugins_coupon_status:!1})},plugins_coupon_use_event:function(t){var e=t.currentTarget.dataset.index,a=t.currentTarget.dataset.value,i=this.plugins_use_coupon_ids;if(null!==this.popup_plugins_coupon_index&&-1==i.indexOf(a)){var n=this.plugins_coupon_data[this.popup_plugins_coupon_index],s=this.plugins_coupon_list;for(var o in s)s[o]["is_active"]=e==o?1:0;i[n["warehouse_id"]]=a,this.setData({plugins_use_coupon_ids:i,plugins_coupon_list:s,popup_plugins_coupon_status:!1}),this.init()}},plugins_coupon_not_use_event:function(t){if(null!==this.popup_plugins_coupon_index){var e=this.plugins_coupon_data[this.popup_plugins_coupon_index],a=this.plugins_coupon_list,i=this.plugins_use_coupon_ids;for(var n in a)a[n]["is_active"]=0;i[e["warehouse_id"]]=0,this.setData({plugins_coupon_list:a,plugins_use_coupon_ids:i,popup_plugins_coupon_status:!1}),this.init()}},address_event:function(t){var e=this.params||null;if(null!=e)var a="&"+Object.keys(e).map((function(t){var a=void 0===e[t]||null===e[t]?"":e[t];return encodeURIComponent(t)+"="+encodeURIComponent(a)})).join("&");else a="";0==this.common_site_type||4==this.common_site_type&&0==this.site_model?uni.navigateTo({url:"/pages/user-address/user-address?is_back=1"+a}):2==this.common_site_type||4==this.common_site_type&&2==this.site_model?uni.navigateTo({url:"/pages/extraction-address/extraction-address?is_back=1&is_buy=1"+a}):r.globalData.showToast("当前模式不允许使用地址")},buy_header_nav_event:function(t){var e=t.currentTarget.dataset.value||0;e!=this.site_model&&(this.setData({address:null,address_id:null,site_model:e}),uni.removeStorageSync(r.globalData.data.cache_buy_user_address_select_key),this.init())},map_event:function(t){var e=t.currentTarget.dataset.index||0,a=this.goods_list[e]||null;if(null==a)return r.globalData.showToast("地址有误"),!1;var i=a.alias||a.name||"",n=(a.province_name||"")+(a.city_name||"")+(a.county_name||"")+(a.address||"");r.globalData.open_location(a.lng,a.lat,i,n)},points_event:function(t){this.setData({plugins_points_status:!this.plugins_points_status}),this.init()},warehouse_group_event:function(t){r.globalData.url_event(t)},buy_datetime_event:function(t){var e=this.buy_datetime_info;e["status"]=!e.status,"open"!=t&&"close"!=t&&(e["value"]=(null!=(t||null)?t._date:"")||""),this.setData({buy_datetime_info:e})},plugins_realstore_open_event:function(t){this.setData({popup_plugins_realstore_status:!0,popup_plugins_realstore_group_id:t.currentTarget.dataset.groupid||0,popup_plugins_realstore_card_index:t.currentTarget.dataset.index||0})},plugins_realstore_close_event:function(t){this.setData({popup_plugins_realstore_status:!1})},plugins_realstore_use_event:function(t){var e=t.currentTarget.dataset.type,a=this.popup_plugins_realstore_group_id,i=this.popup_plugins_realstore_card_index,n=this.plugins_realstore_data[a]["data"][i]["id"],s=this.plugins_choice_realstore_value;1==e?(void 0==s[a]&&(s[a]={}),s[a][n]={group_id:a,data_id:n,card_id:t.currentTarget.dataset.value}):void 0!=s[a]&&void 0!=s[a][n]&&(delete s[a][n],Object.keys(s[a]).length<=0&&delete s[a]),this.setData({plugins_choice_realstore_value:s,popup_plugins_realstore_status:!1}),this.init()}}};e.default=u},"960f":function(t,e,a){"use strict";a.r(e);var i=a("bd2c"),n=a("4d18");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("d6c3");var o=a("f0c5"),r=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"296fabee",null,!1,i["a"],void 0);e["default"]=r.exports},"97c7":function(t,e,a){"use strict";a.r(e);var i=a("4fed"),n=a("aff5");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("a9750");var o=a("f0c5"),r=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"9455811c",null,!1,i["a"],void 0);e["default"]=r.exports},a2ac:function(t,e,a){"use strict";a.r(e);var i=a("4562"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},a7c9:function(t,e,a){"use strict";a.r(e);var i=a("f3a3"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},a9750:function(t,e,a){"use strict";var i=a("382f"),n=a.n(i);n.a},aff5:function(t,e,a){"use strict";a.r(e);var i=a("eba1"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},bd2c:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[1==t.common_site_type?[a("component-no-data",{attrs:{propStatus:"2",propMsg:"展示型不允许提交订单"}})]:[t.goods_list.length>0?a("v-uni-view",{staticClass:"page-bottom-fixed"},[4==t.common_site_type?a("v-uni-view",{staticClass:"buy-header-nav bg-white oh tc"},[t._l(t.buy_header_nav,(function(e,i){return[a("v-uni-view",{key:i+"_0",class:"item fl cp "+(t.site_model==e.value?"cr-main":"cr-base"),attrs:{"data-value":e.value},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buy_header_nav_event.apply(void 0,arguments)}}},[t._v(t._s(e.name))])]}))],2):t._e(),a("v-uni-view",{staticClass:"padding-horizontal-main padding-top-main"},[0==t.common_site_type||2==t.common_site_type||4==t.common_site_type?a("v-uni-view",{staticClass:"padding-horizontal-main padding-top-main border-radius-main bg-white spacing-mb"},[a("v-uni-view",{staticClass:"address arrow-right cp",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.address_event.apply(void 0,arguments)}}},[null!=t.address?a("v-uni-view",{staticClass:"padding-bottom-main"},[a("v-uni-view",{staticClass:"address-base"},[null!=(t.address.alias||null)?a("v-uni-text",{staticClass:"address-alias br-main cr-main round margin-right-sm text-size-xs"},[t._v(t._s(t.address.alias))]):t._e(),a("v-uni-text",[t._v(t._s(t.address.name))]),a("v-uni-text",{staticClass:"fr"},[t._v(t._s(t.address.tel))])],1),a("v-uni-view",{staticClass:"address-detail oh margin-top-lg"},[a("v-uni-image",{staticClass:"icon fl",attrs:{src:t.common_static_url+"map-icon.png",mode:"widthFix"}}),a("v-uni-view",{staticClass:"text fr"},[t._v(t._s(t.address.province_name||"")+t._s(t.address.city_name||"")+t._s(t.address.county_name||"")+t._s(t.address.address||""))])],1)],1):t._e(),null==t.address?a("v-uni-view",{staticClass:"padding-top-xl padding-bottom-xxxl cr-gray"},[t._v(t._s(0==t.common_site_type||4==t.common_site_type&&0==t.site_model?"请选择收货地址":"请选择取货地址"))]):t._e()],1),a("v-uni-view",{staticClass:"address-divider spacing-mb"})],1):t._e(),t._l(t.goods_list,(function(e,i){return a("v-uni-view",{key:i,staticClass:"goods-group-list padding-main border-radius-main bg-white spacing-mb"},[a("v-uni-view",{staticClass:"goods-group-hd oh br-b padding-bottom-main"},[a("v-uni-view",{staticClass:"fl cp",attrs:{"data-value":e.url||""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.warehouse_group_event.apply(void 0,arguments)}}},[null!=(e.icon||null)?a("v-uni-image",{staticClass:"goods-group-icon va-m margin-right-xs",attrs:{src:e.icon,mode:"aspectFit"}}):t._e(),a("v-uni-text",{staticClass:"goods-group-title va-m"},[t._v(t._s(e.name))]),null!=(e.alias||null)?a("v-uni-text",{staticClass:"goods-group-alias va-m round margin-left-sm text-size-xs"},[t._v(t._s(e.alias))]):t._e()],1),0!=(e.lng||0)&&0!=(e.lat||0)?a("v-uni-view",{staticClass:"fr"},[a("v-uni-view",{staticClass:"goods-group-map-submit br round text-size-xs",attrs:{"data-index":i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.map_event.apply(void 0,arguments)}}},[t._v("查看地图")])],1):t._e()],1),a("v-uni-view",{staticClass:"goods-content margin-bottom-sm"},t._l(e.goods_items,(function(e,i){return a("v-uni-view",{key:i,staticClass:"goods-item padding-vertical-main oh br-b-dashed"},[a("v-uni-image",{staticClass:"goods-image fl radius",attrs:{src:e.images,mode:"aspectFill"}}),a("v-uni-view",{staticClass:"goods-base"},[a("v-uni-view",{staticClass:"goods-title multi-text"},[t._v(t._s(e.title))]),null!=e.spec?a("v-uni-view",{staticClass:"margin-top-xs cr-gray"},[t._l(e.spec,(function(e,i){return[i>0?a("v-uni-text",[t._v(";")]):t._e(),a("v-uni-text",[t._v(t._s(e.value))])]}))],2):t._e(),a("v-uni-view",{staticClass:"oh pr margin-top-sm"},[a("v-uni-text",{staticClass:"fw-b"},[t._v(t._s(t.currency_symbol)+t._s(e.price))]),e.original_price>0?a("v-uni-text",{staticClass:"original-price margin-left-sm"},[t._v(t._s(t.currency_symbol)+t._s(e.original_price))]):t._e(),a("v-uni-text",{staticClass:"buy-number pa cr-gray"},[t._v("x"+t._s(e.stock))])],1)],1)],1)})),1),null!=(t.plugins_coupon_data||null)&&null!=(t.plugins_coupon_data[i]||null)&&null!=(t.plugins_coupon_data[i].coupon_data||null)&&null!=(t.plugins_coupon_data[i].coupon_data.coupon_list||null)&&t.plugins_coupon_data[i].coupon_data.coupon_list.length>0?a("v-uni-view",{staticClass:"buy-data-item buy-data-item-group arrow-right",attrs:{"data-index":i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.plugins_coupon_open_event.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"cr-base"},[t._v("优惠劵")]),a("v-uni-text",{staticClass:"cr-grey fr cp"},[t._v(t._s(null!=(t.plugins_choice_coupon_value||null)&&null!=(t.plugins_choice_coupon_value[e.id]||null)?t.plugins_choice_coupon_value[e.id]:"请选择优惠券"))])],1):t._e(),null!=(t.plugins_realstore_data||null)&&null!=(t.plugins_realstore_data[e.id]||null)?a("v-uni-view",{staticClass:"plugins-realstore-container-view"},[t._l(t.plugins_realstore_data[e.id]["data"],(function(i,n){return[a("v-uni-view",{key:n+"_0",staticClass:"buy-data-item buy-data-item-group arrow-right"},[a("v-uni-text",{staticClass:"cr-base va-m"},[t._v("门店次卡")]),a("v-uni-image",{staticClass:"image circle br va-m margin-left-lg",attrs:{src:i.images,mode:"aspectFill"}}),a("v-uni-text",{staticClass:"cr-grey va-m margin-left-xs text-size-xs"},[t._v("x"+t._s(i.stock))]),a("v-uni-view",{staticClass:"right-value single-text dis-inline-block fr tr",attrs:{"data-index":n,"data-groupid":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.plugins_realstore_open_event.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"cr-grey"},[t._v(t._s(i.tips_msg))])],1)],1)]}))],2):t._e(),e.order_base.extension_data.length>0?a("v-uni-view",{staticClass:"extension-list radius margin-top-lg"},t._l(e.order_base.extension_data,(function(e,i){return a("v-uni-view",{key:i,staticClass:"item oh padding-main"},[a("v-uni-text",{staticClass:"cr-base fl"},[t._v(t._s(e.name))]),a("v-uni-text",{staticClass:"text-tips fr"},[t._v(t._s(e.tips))])],1)})),1):t._e(),a("v-uni-view",{staticClass:"oh tr goods-group-footer padding-top-xl"},[e.order_base.total_price!=e.order_base.actual_price?a("v-uni-text",{staticClass:"original-price margin-right-sm"},[t._v(t._s(t.currency_symbol)+t._s(e.order_base.total_price))]):t._e(),a("v-uni-text",{staticClass:"sales-price"},[t._v(t._s(t.currency_symbol)+t._s(e.order_base.actual_price))])],1)],1)})),null!=(t.plugins_points_data||null)&&(t.plugins_points_data.discount_price||0)>0?a("v-uni-view",{staticClass:"plugins-points-buy-container padding-main border-radius-main bg-white spacing-mb"},[a("v-uni-view",{staticClass:"select oh"},[1==t.plugins_points_data.discount_type?a("v-uni-text",[t._v("使用"+t._s(t.plugins_points_data.use_integral)+"个积分兑换商品")]):a("v-uni-text",[t._v("使用积分"+t._s(t.plugins_points_data.use_integral)+"个")]),a("v-uni-text",{staticClass:"sales-price"},[t._v("-"+t._s(t.currency_symbol)+t._s(t.plugins_points_data.discount_price))]),a("v-uni-view",{staticClass:"fr cp",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.points_event.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"icon",attrs:{src:t.common_static_url+"select"+(t.plugins_points_status?"-active":"")+"-icon.png",mode:"widthFix"}})],1)],1),a("v-uni-view",{staticClass:"desc"},[1==t.plugins_points_data.discount_type?a("v-uni-text",[t._v("你有积分"+t._s(t.plugins_points_data.user_integral)+"个")]):a("v-uni-text",[t._v("你有积分"+t._s(t.plugins_points_data.user_integral)+"个，可用"+t._s(t.plugins_points_data.use_integral)+"个")])],1)],1):t._e(),null!=(t.buy_datetime_info||null)&&1==(t.buy_datetime_info.is_select||!1)?a("v-uni-view",{staticClass:"buy-data-item bg-white border-radius-main spacing-mb arrow-right"},[a("v-uni-text",{staticClass:"cr-base"},[t._v(t._s(t.buy_datetime_info.title))]),a("v-uni-view",{staticClass:"right-value single-text dis-inline-block fr tr"},[a("component-time-select",{attrs:{propTitle:t.buy_datetime_info.title,propPlaceholder:t.buy_datetime_info.placeholder,propRangeDay:t.buy_datetime_info.range_day||2,propRangeStartTime:t.buy_datetime_info.time_start,propRangeEndTime:t.buy_datetime_info.time_end,propDisabled:t.buy_datetime_info.disabled,propIsShow:t.buy_datetime_info.status},on:{selectEvent:function(e){arguments[0]=e=t.$handleEvent(e),t.buy_datetime_event.apply(void 0,arguments)}}},[null==(t.buy_datetime_info.value||null)?a("v-uni-text",{staticClass:"cr-grey"},[t._v(t._s(t.buy_datetime_info.placeholder))]):a("v-uni-text",{staticClass:"cr-base"},[t._v(t._s(t.buy_datetime_info.value))])],1)],1)],1):t._e(),a("v-uni-view",{staticClass:"content-textarea-container padding-main border-radius-main bg-white spacing-mb"},[t.user_note_status?a("v-uni-textarea",{attrs:{focus:!0,"disable-default-padding":!1,value:t.user_note_value,maxlength:"60",placeholder:"留言"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.bind_user_note_blur_event.apply(void 0,arguments)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.bind_user_note_event.apply(void 0,arguments)}}}):a("v-uni-view",{class:null==(t.user_note_value||null)?"cr-gray":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bind_user_note_tap_event.apply(void 0,arguments)}}},[t._v(t._s(t.user_note_value||"留言"))])],1),t.total_price>0&&t.payment_list.length>0&&1!=t.common_order_is_booking?a("v-uni-view",{staticClass:"payment-list padding-horizontal-main padding-top-main border-radius-main bg-white oh"},t._l(t.payment_list,(function(e,i){return a("v-uni-view",{key:i,staticClass:"item tc fl cp margin-bottom-main"},[a("v-uni-view",{class:"item-content radius br "+(e.selected||""),attrs:{"data-value":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.payment_event.apply(void 0,arguments)}}},[null!=(e.logo||null)?a("v-uni-image",{staticClass:"icon margin-right-sm va-m",attrs:{src:e.logo,mode:"widthFix"}}):t._e(),a("v-uni-text",[t._v(t._s(e.name))])],1)],1)})),1):t._e()],2),a("v-uni-view",{staticClass:"buy-nav oh wh-auto bg-white br-t"},[a("v-uni-view",{staticClass:"nav-base fl single-text padding-left-main"},[a("v-uni-text",[t._v("合计：")]),a("v-uni-text",{staticClass:"sales-price"},[t._v(t._s(t.currency_symbol)+t._s(t.total_price))])],1),a("v-uni-view",{staticClass:"fr nav-submit padding-top padding-bottom padding-horizontal-main"},[a("v-uni-button",{staticClass:"bg-main cr-white round text-size-lg",attrs:{type:"default",disabled:t.buy_submit_disabled_status,"hover-class":"none"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buy_submit_event.apply(void 0,arguments)}}},[t._v("提交订单")])],1)],1)],1):t._e(),0==t.goods_list.length?a("v-uni-view",[a("component-no-data",{attrs:{propStatus:t.data_list_loding_status,propMsg:t.data_list_loding_msg}})],1):t._e(),a("component-popup",{attrs:{propShow:t.popup_plugins_coupon_status,propPosition:"bottom"},on:{onclose:function(e){arguments[0]=e=t.$handleEvent(e),t.plugins_coupon_close_event.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"plugins-coupon-popup bg-base"},[a("v-uni-view",{staticClass:"close oh"},[a("v-uni-view",{staticClass:"fr",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.plugins_coupon_close_event.apply(void 0,arguments)}}},[a("v-uni-icon",{attrs:{type:"clear",size:"20"}})],1)],1),t.plugins_coupon_list.length>0?a("v-uni-view",{staticClass:"plugins-coupon-container padding-horizontal-main padding-bottom-main oh"},[a("v-uni-view",{staticClass:"not-use-tips tc"},[a("v-uni-text",{staticClass:"cp",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.plugins_coupon_not_use_event.apply(void 0,arguments)}}},[t._v("不使用优惠劵")])],1),t._l(t.plugins_coupon_list,(function(e,i){return[a("v-uni-view",{key:i+"_0",class:"item spacing-mt bg-white border-radius-main "+(1==(e.is_active||0)?"item-disabled":"")},[a("v-uni-view",{staticClass:"v-left fl"},[a("v-uni-view",{staticClass:"base single-text",style:"color:"+e.coupon.bg_color_value+";"},[0==e.coupon.type?a("v-uni-text",{staticClass:"symbol"},[t._v(t._s(t.currency_symbol))]):t._e(),a("v-uni-text",{staticClass:"price"},[t._v(t._s(e.coupon.discount_value))]),a("v-uni-text",{staticClass:"unit"},[t._v(t._s(e.coupon.type_unit))]),null!=(e.coupon.desc||null)?a("v-uni-text",{staticClass:"desc cr-gray"},[t._v(t._s(e.coupon.desc))]):t._e()],1),null!=(e.coupon.use_limit_type_name||null)?a("v-uni-view",{staticClass:"base-tips cr-base single-text"},[t._v(t._s(e.coupon.use_limit_type_name))]):t._e(),a("v-uni-view",{staticClass:"base-time cr-gray single-text"},[t._v(t._s(e.time_start_text)+" 至 "+t._s(e.time_end_text))])],1),a("v-uni-view",{class:"v-right fr "+(1==(e.is_active||0)?"":"cp"),style:"background:"+e.coupon.bg_color_value+";",attrs:{"data-index":i,"data-value":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.plugins_coupon_use_event.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"circle"}),a("v-uni-text",[t._v(t._s(1==(e.is_active||0)?"已选":"选择"))])],1)],1)]}))],2):t._e()],1)],1),a("component-popup",{attrs:{propShow:t.popup_plugins_realstore_status,propPosition:"bottom"},on:{onclose:function(e){arguments[0]=e=t.$handleEvent(e),t.plugins_realstore_close_event.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"bg-base padding-top-lg"},[a("v-uni-view",{staticClass:"close oh margin-right-lg padding-bottom-sm"},[a("v-uni-view",{staticClass:"fr",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.plugins_realstore_close_event.apply(void 0,arguments)}}},[a("v-uni-icon",{attrs:{type:"clear",size:"20"}})],1)],1),a("v-uni-view",{staticClass:"plugins-realstore-container padding-horizontal-main padding-bottom-main oh"},[a("v-uni-view",{staticClass:"not-use-tips tc"},[a("v-uni-text",{staticClass:"cp cr-yellow text-size-sm",attrs:{"data-type":"0"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.plugins_realstore_use_event.apply(void 0,arguments)}}},[t._v("不使用次卡")])],1),null!=(t.plugins_realstore_data||null)&&null!=(t.plugins_realstore_data[t.popup_plugins_realstore_group_id]||null)?a("v-uni-view",[t._l(t.plugins_realstore_data[t.popup_plugins_realstore_group_id]["data"][t.popup_plugins_realstore_card_index]["user_card"],(function(e,i){return[a("v-uni-view",{key:i+"_0",class:"item spacing-mt bg-white border-radius-main "+(1==(e.is_active||0)?"item-disabled":"")},[a("v-uni-view",{staticClass:"v-left fl"},[a("v-uni-view",{staticClass:"base single-text"},[a("v-uni-text",{staticClass:"value fw-b text-size-xxl"},[t._v(t._s(e.valid_number))]),a("v-uni-text",{staticClass:"unit margin-left-xs"},[t._v("次")]),null!=(e.name||null)?a("v-uni-text",{staticClass:"cr-base margin-left-lg"},[t._v(t._s(e.name))]):t._e()],1),null!=(e.describe||null)?a("v-uni-view",{staticClass:"margin-top-sm cr-grey single-text"},[t._v(t._s(e.describe))]):t._e(),a("v-uni-view",{staticClass:"margin-top-sm cr-gray single-text text-size-xs"},[t._v(t._s(e.start_time)+" 至 "+t._s(e.end_time))])],1),1==(e.is_active||0)?a("v-uni-view",{staticClass:"v-right bg-main fr tc cr-white"},[a("v-uni-text",[t._v("已选")])],1):a("v-uni-view",{staticClass:"v-right bg-main fr tc cr-white cp",attrs:{"data-index":i,"data-value":e.id,"data-type":"1"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.plugins_realstore_use_event.apply(void 0,arguments)}}},[a("v-uni-text",[t._v("选择")])],1)],1)]}))],2):t._e()],1)],1)],1)]],2)},n=[]},bec4:function(t,e,a){"use strict";a.r(e);var i=a("55ae"),n=a("a2ac");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("1e54");var o=a("f0c5"),r=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"66e5dd8b",null,!1,i["a"],void 0);e["default"]=r.exports},c7e2:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'.time-select-popup-mask[data-v-66e5dd8b]{position:fixed;left:0;right:0;bottom:0;top:0;background-color:rgba(0,0,0,.5);opacity:0;z-index:100;pointer-events:none}.time-select-popup-mask uni-view[data-v-66e5dd8b]{box-sizing:border-box}.time-select-popup-content[data-v-66e5dd8b]{height:%?0?%;background-color:#fff;position:absolute;bottom:0;left:0;width:100%;padding:%?40?% %?10?% 0 %?10?%;transition:height .5s;border-top-right-radius:%?20?%;border-top-left-radius:%?20?%;height:auto;z-index:101;-webkit-transform:translateY(100%);transform:translateY(100%)}.time-select-popup-show[data-v-66e5dd8b]{opacity:1;pointer-events:auto}.time-select-popup-show .time-select-popup-content[data-v-66e5dd8b]{-webkit-transform:none;transform:none}.time-select-popup-mask[data-v-66e5dd8b],\n.time-select-popup-content[data-v-66e5dd8b]{transition:all .25s linear}.time-select-title[data-v-66e5dd8b]{text-align:center;font-size:%?32?%;color:#222;font-weight:600;position:relative}.time-select-close-btn[data-v-66e5dd8b]{position:absolute;width:%?80?%;line-height:%?80?%;text-align:center;right:%?0?%;padding-right:%?15?%;top:0;color:#999;z-index:99;font-size:%?44?%}.time-select-title > uni-view[data-v-66e5dd8b]:nth-child(2){font-size:%?22?%;color:#919191;margin-top:%?10?%}.time-select-time-box[data-v-66e5dd8b]{border-top:1px solid #fbf8fb;background-color:#fbf8fb;height:%?660?%;display:flex;justify-content:space-between;align-items:center}.time-select-time-box > uni-view[data-v-66e5dd8b]{height:100%;overflow-y:auto;-webkit-overflow-scrolling:touch;font-size:%?28?%}.time-select-time-box .left_box[data-v-66e5dd8b]{color:#919191;width:45%}.time-select-time-box .left_box uni-view[data-v-66e5dd8b],\n.time-select-time-box .right_box uni-view[data-v-66e5dd8b]{text-align:center;line-height:%?90?%;position:relative;color:#666}.time-select-time-box .right_box uni-view[data-v-66e5dd8b]::before{content:" ";width:80%;position:absolute;left:10%;bottom:0;border:1px dashed #f4f4f4}.time-select-time-box .right_box uni-view[data-v-66e5dd8b]:last-child::before{border:none}.time-select-time-box .right_box[data-v-66e5dd8b]{width:55%;flex:1;background-color:#fff;text-align:center}.time-select-time-box .right_box .active[data-v-66e5dd8b]{position:relative;color:#000;font-weight:700}.time-select-time-box .left_box .active[data-v-66e5dd8b]{background-color:#fff;color:#000}.time-select-time-box .right_box .active[data-v-66e5dd8b]::after{content:" ";position:absolute;top:50%;margin-top:%?-16?%;right:%?50?%;width:%?10?%;height:%?20?%;border-color:#000;border-style:solid;border-width:0 %?4?% %?4?% 0;-webkit-transform:rotate(45deg);transform:rotate(45deg)}',""]),t.exports=e},ca06:function(t,e,a){"use strict";var i=a("53e6"),n=a.n(i);n.a},d6c3:function(t,e,a){"use strict";var i=a("f9fb"),n=a.n(i);n.a},eba1:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");getApp();var i={data:function(){return{static_dir:"/static/images/common/"}},components:{},props:{propStatus:{type:[Number,String],default:0},propMsg:{type:String,default:"没有相关数据"}},methods:{}};e.default=i},f3a3:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{}},components:{},props:{propClassname:{type:String,default:""},propShow:{type:Boolean,default:!1},propPosition:{type:String,default:"bottom"},propMask:{type:Boolean,default:!0},propAnimation:{type:Boolean,default:!0},propDisablescroll:{type:Boolean,default:!1},propIsBar:{type:Boolean,default:!1}},methods:{onMaskTap:function(){this.$emit("onclose",{detail:{}},{})}}};e.default=i},f9fb:function(t,e,a){var i=a("2c62");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("56b16402",i,!0,{sourceMap:!1,shadowMode:!1})}}]);