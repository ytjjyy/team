(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-order-user-order"],{"14af":function(t,a,e){"use strict";e.r(a);var n=e("7986"),i=e("a7c9");for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(s);e("ca06");var o=e("f0c5"),l=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"7a19d9c2",null,!1,n["a"],void 0);a["default"]=l.exports},"1a3c":function(t,a,e){var n=e("24fb");a=n(!1),a.push([t.i,".popup-content[data-v-7a19d9c2]{position:fixed;background:#fff;z-index:101;overflow:hidden}.popup-mask[data-v-7a19d9c2]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.6);opacity:0;pointer-events:none;z-index:100}.popup-left[data-v-7a19d9c2]{-webkit-transform:translateX(-100%);transform:translateX(-100%);left:0;top:0;bottom:0}.popup-right[data-v-7a19d9c2]{-webkit-transform:translateX(100%);transform:translateX(100%);right:0;top:0;bottom:0}.popup-top[data-v-7a19d9c2]{top:0;width:100vw;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.popup-bottom[data-v-7a19d9c2]{bottom:var(--window-bottom);width:100vw;-webkit-transform:translateY(100%);transform:translateY(100%)}.popup-show .popup-content[data-v-7a19d9c2]{-webkit-transform:none;transform:none}.popup-show .popup-mask[data-v-7a19d9c2]{opacity:1;pointer-events:auto}.popup.animation .popup-mask[data-v-7a19d9c2],\n.popup.animation .popup-content[data-v-7a19d9c2]{transition:all .25s linear}.popup-top[data-v-7a19d9c2]{border-bottom-right-radius:%?20?%;border-bottom-left-radius:%?20?%}.popup-bottom[data-v-7a19d9c2]{border-top-right-radius:%?20?%;border-top-left-radius:%?20?%}.popup-left[data-v-7a19d9c2]{border-top-right-radius:%?20?%;border-bottom-right-radius:%?20?%}.popup-right[data-v-7a19d9c2]{border-top-left-radius:%?20?%;border-bottom-left-radius:%?20?%}.popup-bar[data-v-7a19d9c2]{\nbottom:var(--window-bottom)!important\n}",""]),t.exports=a},"29bb":function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){return n}));var n={mpHtml:e("f50c").default},i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[e("v-uni-view",{staticClass:"nav-base bg-white"},[t._l(t.nav_status_list,(function(a,n){return[t.nav_status_index==n?e("v-uni-view",{key:n+"_0",staticClass:"item fl tc cr-main",attrs:{"data-index":n},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.nav_event.apply(void 0,arguments)}}},[t._v(t._s(a.name))]):e("v-uni-view",{staticClass:"item fl tc",attrs:{"data-index":n},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.nav_event.apply(void 0,arguments)}}},[t._v(t._s(a.name))])]}))],2),e("v-uni-scroll-view",{staticClass:"scroll-box scroll-box-ece-nav",attrs:{"scroll-y":!0,"lower-threshold":"30"},on:{scrolltolower:function(a){arguments[0]=a=t.$handleEvent(a),t.scroll_lower.apply(void 0,arguments)}}},[t.data_list.length>0?e("v-uni-view",{staticClass:"padding-horizontal-main padding-top-main"},t._l(t.data_list,(function(a,n){return e("v-uni-view",{key:n,staticClass:"list-item padding-horizontal-main padding-top-main border-radius-main bg-white oh spacing-mb"},[e("v-uni-view",{staticClass:"item-base oh br-b padding-bottom-main"},[1==t.nav_status_index&&1==t.home_is_enable_order_bulk_pay?e("v-uni-view",{staticClass:"fl selected",attrs:{"data-oid":a.id},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.selected_event.apply(void 0,arguments)}}},[e("v-uni-image",{staticClass:"icon va-m",attrs:{src:t.common_static_url+"select"+(-1!=t.order_select_ids.indexOf(a.id)?"-active":"")+"-icon.png",mode:"widthFix"}})],1):t._e(),e("v-uni-view",{staticClass:"fl cp",attrs:{"data-value":a.warehouse_url||""},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.url_event.apply(void 0,arguments)}}},[null!=(a.warehouse_icon||null)?e("v-uni-image",{staticClass:"warehouse-group-icon va-m margin-right-sm",attrs:{src:a.warehouse_icon,mode:"aspectFit"}}):t._e(),e("v-uni-text",{staticClass:"cr-base va-m"},[t._v(t._s(a.warehouse_name))])],1),e("v-uni-text",{staticClass:"fr cr-red"},[t._v(t._s(a.status_name)),null!=(a.is_under_line_text||null)?e("v-uni-text",[t._v("（"+t._s(a.is_under_line_text)+"）")]):t._e()],1)],1),t._l(a.items,(function(n,i){return e("v-uni-view",{key:i,staticClass:"br-b-dashed oh padding-vertical-main"},[e("v-uni-view",{attrs:{"data-value":"/pages/user-order-detail/user-order-detail?id="+a.id},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.url_event.apply(void 0,arguments)}}},[e("v-uni-image",{staticClass:"goods-image fl radius",attrs:{src:n.images,mode:"aspectFill"}}),e("v-uni-view",{staticClass:"goods-base pr"},[e("v-uni-view",{staticClass:"multi-text"},[t._v(t._s(n.title))]),null!=n.spec?e("v-uni-view",{staticClass:"margin-top-sm"},[t._l(n.spec,(function(a,n){return[n>0?e("v-uni-text",{key:n+"_0",staticClass:"cr-grey padding-left-xs padding-right-xs"},[t._v(";")]):t._e(),e("v-uni-text",{key:n+"_1",staticClass:"cr-gray"},[t._v(t._s(a.value))])]}))],2):t._e(),e("v-uni-view",{staticClass:"margin-top-sm"},[e("v-uni-text",{staticClass:"fw-b"},[t._v(t._s(a.currency_data.currency_symbol)+t._s(n.price))]),e("v-uni-text",{staticClass:"margin-left-sm"},[t._v("x"+t._s(n.buy_number))])],1),1==a.is_can_launch_aftersale&&null!=(n.orderaftersale_btn_text||null)?e("v-uni-view",{staticClass:"orderaftersale-btn-text cr-blue pa bg-white",attrs:{"data-oid":a.id,"data-did":n.id},on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.orderaftersale_event.apply(void 0,arguments)}}},[t._v(t._s(n.orderaftersale_btn_text))]):t._e()],1)],1)],1)})),e("v-uni-view",{staticClass:"padding-vertical-main tr cr-base text-size"},[e("v-uni-text",[t._v("共"),e("v-uni-text",{staticClass:"fw-b"},[t._v(t._s(a.buy_number_count))]),t._v("件 合计"),e("v-uni-text",{staticClass:"sales-price margin-right-xs"},[t._v(t._s(a.currency_data.currency_symbol)+t._s(a.total_price))]),t._v("元")],1)],1),a.operate_data.is_cancel+a.operate_data.is_pay+a.operate_data.is_collect+a.operate_data.is_comments+a.operate_data.is_delete+(a.plugins_is_order_allot_button||0)+(a.plugins_is_order_batch_button||0)+(a.plugins_is_order_frequencycard_button||0)>0||2==a.status&&2!=a.order_model||1==(a.plugins_express_data||0)&&null!=(a.express_number||null)?e("v-uni-view",{staticClass:"item-operation tr br-t padding-vertical-main"},[1==a.operate_data.is_cancel?e("v-uni-button",{staticClass:"round bg-white cr-yellow br-yellow",attrs:{type:"default",size:"mini","data-value":a.id,"data-index":n,"hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.cancel_event.apply(void 0,arguments)}}},[t._v("取消")]):t._e(),1==a.operate_data.is_pay?e("v-uni-button",{staticClass:"round bg-white cr-green br-green",attrs:{type:"default",size:"mini","data-value":a.id,"data-index":n,"hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.pay_event.apply(void 0,arguments)}}},[t._v("支付")]):t._e(),1==a.operate_data.is_collect?e("v-uni-button",{staticClass:"round bg-white cr-green br-green",attrs:{type:"default",size:"mini","data-value":a.id,"data-index":n,"hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.collect_event.apply(void 0,arguments)}}},[t._v("收货")]):t._e(),1==(a.plugins_express_data||0)&&null!=(a.express_number||null)?e("v-uni-button",{staticClass:"round bg-white cr-main br-main",attrs:{type:"default",size:"mini","data-value":"/pages/plugins/express/detail/detail?id="+a.id,"hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.url_event.apply(void 0,arguments)}}},[t._v("物流")]):t._e(),1==a.operate_data.is_comments?e("v-uni-button",{staticClass:"round bg-white cr-green br-green",attrs:{type:"default",size:"mini","data-value":a.id,"data-index":n,"hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.comments_event.apply(void 0,arguments)}}},[t._v("评论")]):t._e(),2==a.status&&2!=a.order_model?e("v-uni-button",{staticClass:"round cr-base br",attrs:{type:"default",size:"mini","data-value":a.id,"data-index":n,"hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.rush_event.apply(void 0,arguments)}}},[t._v("催催")]):t._e(),1==a.operate_data.is_delete?e("v-uni-button",{staticClass:"round bg-white cr-red br-red",attrs:{type:"default",size:"mini","data-value":a.id,"data-index":n,"hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.delete_event.apply(void 0,arguments)}}},[t._v("删除")]):t._e(),1==(a.plugins_is_order_allot_button||0)?e("v-uni-button",{staticClass:"round bg-white cr-main br-main",attrs:{type:"default",size:"mini","data-value":"/pages/plugins/realstore/orderallot-list/orderallot-list?oid="+a.id,"hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.url_event.apply(void 0,arguments)}}},[t._v("子单")]):t._e(),1==(a.plugins_is_order_batch_button||0)?e("v-uni-button",{staticClass:"round bg-white cr-blue br-blue",attrs:{type:"default",size:"mini","data-value":"/pages/plugins/realstore/batchorder-list/batchorder-list?oid="+a.id,"hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.url_event.apply(void 0,arguments)}}},[t._v("批次")]):t._e(),1==(a.plugins_is_order_frequencycard_button||0)?e("v-uni-button",{staticClass:"round bg-white cr-green br-green",attrs:{type:"default",size:"mini","data-value":"/pages/plugins/realstore/frequencycard-list/frequencycard-list?oid="+a.id,"hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.url_event.apply(void 0,arguments)}}},[t._v("次卡")]):t._e()],1):t._e()],2)})),1):e("v-uni-view",[e("component-no-data",{attrs:{propStatus:t.data_list_loding_status}})],1),e("component-bottom-line",{attrs:{propStatus:t.data_bottom_line_status}})],1),1==t.nav_status_index&&t.order_select_ids.length>0&&1==t.home_is_enable_order_bulk_pay?e("v-uni-view",[e("v-uni-button",{staticClass:"bottom-fixed pay-merge-submit bg-green cr-white round",attrs:{type:"default",size:"mini","hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.pay_merge_event.apply(void 0,arguments)}}},[t._v("合并支付")])],1):t._e(),e("component-popup",{attrs:{propShow:t.popup_view_pay_qrcode_is_show,propPosition:"bottom"},on:{onclose:function(a){arguments[0]=a=t.$handleEvent(a),t.popup_view_pay_qrcode_event_close.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"padding-top-xxxl padding-bottom-xxxl padding-left-xxxl padding-right-xxxl tc"},[null==(t.popup_view_pay_data||null)||null==(t.popup_view_pay_data.qrcode_url||null)||null==(t.popup_view_pay_data.name||null)||null==(t.popup_view_pay_data.check_url||null)||null==(t.popup_view_pay_data.order_no||null)?[e("v-uni-text",{staticClass:"cr-gray"},[t._v("无支付信息")])]:[e("v-uni-view",{staticClass:"fw-b text-size cr-base margin-bottom-sm"},[t._v(t._s(t.popup_view_pay_data.name))]),e("v-uni-image",{staticClass:"dis-block auto max-w",attrs:{src:t.popup_view_pay_data.qrcode_url,mode:"aspectFit"}}),null!=(t.popup_view_pay_data.msg||null)?e("v-uni-view",{staticClass:"cr-yellow margin-top-sm"},[t._v(t._s(t.popup_view_pay_data.msg))]):t._e(),null!=t.popup_view_pay_data.pay_url?e("v-uni-view",{staticClass:"margin-top-xl"},[e("a",{staticClass:"dis-inline-block cr-green",attrs:{href:t.popup_view_pay_data.pay_url,target:"_blank"}},[t._v("尝试点击去支付")])]):t._e()]],2)],1),e("component-popup",{attrs:{propShow:t.popup_view_pay_html_is_show,propPosition:"bottom"},on:{onclose:function(a){arguments[0]=a=t.$handleEvent(a),t.popup_view_pay_html_event_close.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"popup-pay-html-content padding-top-xxxl padding-bottom-xxxl padding-left-xxxl padding-right-xxxl tc"},[null==(t.popup_view_pay_data||null)?[e("v-uni-text",{staticClass:"cr-gray"},[t._v("无支付信息")])]:[e("mp-html",{attrs:{content:t.popup_view_pay_data}})]],2)],1),e("component-popup",{attrs:{propShow:t.is_show_payment_popup,propPosition:"bottom"},on:{onclose:function(a){arguments[0]=a=t.$handleEvent(a),t.payment_popup_event_close.apply(void 0,arguments)}}},[t.payment_list.length>0?e("v-uni-view",{staticClass:"payment-list oh bg-base padding-main"},[e("v-uni-view",{staticClass:"padding-top-main padding-left-main"},t._l(t.payment_list,(function(a,n){return e("v-uni-view",{key:n,staticClass:"item tc fl"},[e("v-uni-view",{staticClass:"item-content bg-white border-radius-main margin-right-main margin-bottom-main",attrs:{"data-value":a.id,"data-type":a.payment},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.popup_payment_event.apply(void 0,arguments)}}},[null!=(a.logo||null)?e("v-uni-image",{staticClass:"icon va-m margin-right-sm",attrs:{src:a.logo,mode:"widthFix"}}):t._e(),e("v-uni-text",{staticClass:"va-m"},[t._v(t._s(a.name))])],1)],1)})),1)],1):e("v-uni-view",{staticClass:"padding-top-xxxl padding-bottom-xxxl oh bg-white tc cr-gray"},[t._v("没有支付方式")])],1)],1)},s=[]},3174:function(t,a,e){"use strict";e.r(a);var n=e("ae53"),i=e("8e69");for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(s);e("361d");var o=e("f0c5"),l=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"aa9399c8",null,!1,n["a"],void 0);a["default"]=l.exports},"361d":function(t,a,e){"use strict";var n=e("bb0f"),i=e.n(n);i.a},"53e6":function(t,a,e){var n=e("1a3c");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=e("4f06").default;i("3c048b08",n,!0,{sourceMap:!1,shadowMode:!1})},"58fa":function(t,a,e){"use strict";e.r(a);var n=e("29bb"),i=e("63f4");for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(s);e("613b");var o=e("f0c5"),l=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"dff5fa06",null,!1,n["a"],void 0);a["default"]=l.exports},"613b":function(t,a,e){"use strict";var n=e("c56d"),i=e.n(n);i.a},"63f4":function(t,a,e){"use strict";e.r(a);var n=e("7480"),i=e.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(s);a["default"]=i.a},"66fd":function(t,a,e){var n=e("24fb");a=n(!1),a.push([t.i,".data-bottom-line[data-v-aa9399c8]{padding:%?40?%;overflow:hidden}.data-bottom-line uni-view[data-v-aa9399c8]{width:33.3%}.data-bottom-line .left[data-v-aa9399c8],\n.data-bottom-line .right[data-v-aa9399c8]{margin-top:8px;border-bottom:1px solid #e1e1e1}.data-bottom-line .msg[data-v-aa9399c8]{color:#999;text-align:center;font-size:%?24?%}.data-bottom-line .left[data-v-aa9399c8],\n.data-bottom-line .msg[data-v-aa9399c8]{float:left}.data-bottom-line .right[data-v-aa9399c8]{float:right}",""]),t.exports=a},7480:function(t,a,e){"use strict";e("7a82");var n=e("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("14d9"),e("e25e"),e("c975"),e("a434");var i=n(e("bda2")),s=n(e("14af")),o=n(e("97c7")),l=n(e("3174")),r=getApp(),d=r.globalData.get_static_url("common"),u={data:function(){return{common_static_url:d,data_list:[],data_total:0,data_page_total:0,data_page:1,data_list_loding_status:1,data_bottom_line_status:!1,params:null,input_keyword_value:"",load_status:0,is_show_payment_popup:!1,payment_list:[],payment_id:0,payment_type:"",temp_pay_value:"",nav_status_list:[{name:"全部",value:"-1"},{name:"待付款",value:"1"},{name:"待发货",value:"2"},{name:"待收货",value:"3"},{name:"已完成",value:"4"},{name:"已失效",value:"5,6"}],nav_status_index:0,order_select_ids:[],popup_view_pay_html_is_show:!1,popup_view_pay_qrcode_is_show:!1,popup_view_pay_data:null,popup_view_pay_timer:null,home_is_enable_order_bulk_pay:0}},components:{componentPopup:s.default,componentNoData:o.default,componentBottomLine:l.default},props:{},onLoad:function(t){var a=0;if(null!=(t.status||null))for(var e in this.nav_status_list)if(this.nav_status_list[e]["value"]==t.status){a=e;break}this.setData({params:t,nav_status_index:a})},onShow:function(){this.init(),this.init_config(),r.globalData.page_share_handle()},onPullDownRefresh:function(){this.setData({data_page:1}),this.get_data_list(1)},methods:{init_config:function(t){1==(t||!1)?this.setData({home_is_enable_order_bulk_pay:r.globalData.get_config("config.home_is_enable_order_bulk_pay")}):r.globalData.is_config(this,"init_config")},init:function(){var t=r.globalData.get_user_info(this,"init");if(0!=t){if(r.globalData.user_is_need_login(t))return uni.redirectTo({url:"/pages/login/login?event_callback=init"}),!1;this.get_data_list()}else this.setData({data_list_loding_status:0,data_bottom_line_status:!1})},input_event:function(t){this.setData({input_keyword_value:t.detail.value})},get_data_list:function(t){var a=this;if(0==(t||0)&&1==this.data_bottom_line_status)return uni.stopPullDownRefresh(),!1;uni.showLoading({title:"加载中..."}),this.setData({data_list_loding_status:1});var e=null==(this.nav_status_list[this.nav_status_index]||null)?-1:this.nav_status_list[this.nav_status_index]["value"];uni.request({url:r.globalData.get_request_url("index","order"),method:"POST",data:{page:this.data_page,keywords:this.input_keyword_value||"",status:e,is_more:1},dataType:"json",success:function(t){if(uni.hideLoading(),uni.stopPullDownRefresh(),0==t.data.code)if(t.data.data.data.length>0){if(a.data_page<=1)var e=t.data.data.data;else{e=a.data_list||[];var n=t.data.data.data;for(var i in n)e.push(n[i])}var s=a.load_status;if(a.setData({data_list:e,data_total:t.data.data.total,data_page_total:t.data.data.page_total,data_list_loding_status:3,data_page:a.data_page+1,load_status:1,payment_list:t.data.data.payment_list||[]}),0==s){var o=r.globalData.data.cache_page_pay_key,l=uni.getStorageSync(o)||null;null!=l&&(uni.removeStorageSync(o),a.setData({payment_id:parseInt(l.payment_id||0)}),a.pay_handle(l.order_ids))}a.setData({data_bottom_line_status:a.data_page>1&&a.data_page>a.data_page_total})}else a.setData({data_list_loding_status:0,load_status:1,data_list:[],data_bottom_line_status:!1});else a.setData({data_list_loding_status:0,load_status:1}),r.globalData.is_login_check(t.data,a,"get_data_list")&&r.globalData.showToast(t.data.msg)},fail:function(){uni.hideLoading(),uni.stopPullDownRefresh(),a.setData({data_list_loding_status:2,load_status:1}),r.globalData.showToast("服务器请求出错")}})},scroll_lower:function(t){this.get_data_list()},pay_event:function(t){this.setData({is_show_payment_popup:!0,temp_pay_value:t.currentTarget.dataset.value,order_select_ids:[]})},payment_popup_event_close:function(t){this.setData({is_show_payment_popup:!1})},popup_payment_event:function(t){var a=t.currentTarget.dataset.value||0,e=t.currentTarget.dataset.type||"";this.setData({payment_id:a,payment_type:e}),this.payment_popup_event_close(),this.pay_handle(this.temp_pay_value)},pay_handle:function(t){var a=this;if(!r.globalData.is_user_weixin_web_openid(t))return!1;var e=null;for(var n in this.payment_list)this.payment_list[n]["id"]==this.payment_id&&(e=this.payment_list[n]);var s={ids:t,payment_id:this.payment_id};null!=e&&(s["redirect_url"]=encodeURIComponent(i.default.encode(r.globalData.get_page_url(!1)+(this.nav_status_index>0?"?status="+this.nav_status_index:""))),"PayPal"==e.payment&&(s["respond_url"]=s["redirect_url"],delete s["redirect_url"])),uni.showLoading({title:"请求中..."}),uni.request({url:r.globalData.get_request_url("pay","order"),method:"POST",data:s,dataType:"json",success:function(e){if(uni.hideLoading(),0==e.data.code)if(1==(e.data.data.is_success||0))a.order_item_pay_success_handle(t),r.globalData.showToast("支付成功","success");else switch(e.data.data.is_payment_type){case 0:var n=e.data.data;a.h5_pay_handle(a,n,t);break;case 1:var i=t.split(","),s=a.data_list;for(var o in s)-1!=i.indexOf(s[o]["id"])&&(s[o]["is_under_line"]=1);a.setData({data_list:s}),r.globalData.alert({msg:e.data.msg,is_show_cancel:0});break;case 2:a.order_item_pay_success_handle(t),r.globalData.showToast("支付成功","success");break;default:r.globalData.showToast("支付类型有误")}else-6666==e.data.code&&null!=(e.data.data||null)?a.setData({popup_view_pay_data:e.data.data,popup_view_pay_html_is_show:!0}):r.globalData.showToast(e.data.msg)},fail:function(){uni.hideLoading(),r.globalData.showToast("服务器请求出错")}})},kuaishou_pay_handle:function(t,a,e){uni.pay({orderInfo:a.data,serviceId:"1",success:function(a){t.order_item_pay_success_handle(e),uni.navigateTo({url:"/pages/paytips/paytips?code=9000"})},fail:function(t){r.globalData.showToast("支付失败")}})},common_pay_handle:function(t,a,e){uni.requestPayment({success:function(a){t.order_item_pay_success_handle(e),uni.navigateTo({url:"/pages/paytips/paytips?code=9000"})},fail:function(t){r.globalData.showToast("支付失败")}})},qq_pay_handle:function(t,a,e){"Weixin"==a.payment.payment?uni.requestWxPayment({url:a.data,referer:r.globalData.data.request_url,success:function(a){r.globalData.alert({msg:"支付成功后、请不要重复支付、如果订单状态未成功请联系客服处理",is_show_cancel:0}),t.get_data_list()},fail:function(t){r.globalData.showToast("支付失败")}}):t.common_pay_handle(t,a,e)},h5_pay_handle:function(t,a,e){if("string"==typeof a.data)window.location.href=a.data;else{var n=!1;if("Weixin"==a.payment.payment&&null!=(a.data.appId||null)&&null!=(a.data.timeStamp||null)&&null!=(a.data.nonceStr||null)&&null!=(a.data.package||null)&&null!=(a.data.signType||null)&&null!=(a.data.paySign||null)){var i=function(){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:a.data.appId,timeStamp:a.data.timeStamp,nonceStr:a.data.nonceStr,package:a.data.package,signType:a.data.signType,paySign:a.data.paySign},(function(a){"get_brand_wcpay_request:ok"==a.err_msg&&(t.order_item_pay_success_handle(e),uni.navigateTo({url:"/pages/paytips/paytips?code=9000"}))}))};n=!0,"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",i,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",i),document.attachEvent("onWeixinJSBridgeReady",i)):i()}if(null!=(a.data.qrcode_url||null)&&null!=(a.data.name||null)&&null!=(a.data.check_url||null)&&null!=(a.data.order_no||null)){n=!0,this.setData({popup_view_pay_data:a.data,popup_view_pay_qrcode_is_show:!0});var s=setInterval((function(){uni.request({url:r.globalData.get_request_url("paycheck","order"),method:"POST",data:{order_no:t.popup_view_pay_data.order_no},dataType:"json",success:function(a){uni.hideLoading(),0==a.data.code?(clearInterval(t.popup_view_pay_timer),t.setData({popup_view_pay_data:null,popup_view_pay_qrcode_is_show:!1}),t.order_item_pay_success_handle(e),uni.navigateTo({url:"/pages/paytips/paytips?code=9000"})):-300!=a.data.code&&(clearInterval(t.popup_view_pay_timer),r.globalData.showToast(a.data.msg))},fail:function(){clearInterval(t.popup_view_pay_timer),r.globalData.showToast("服务器请求出错")}})}),3e3);t.setData({popup_view_pay_timer:s})}if(null!=(a.data.html||null)){n=!0;var o=document.createElement("paydivform");o.innerHTML=a.data.html,document.body.appendChild(o);var l=document.forms;l.length>0&&l[0].submit()}n||r.globalData.showToast(a.payment.name+"支付方式还未适配")}},order_item_pay_success_handle:function(t){var a=t.split(","),e=this.data_list;for(var n in e)if(-1!=a.indexOf(e[n]["id"]))switch(e[n]["operate_data"]["is_pay"]=0,e[n]["operate_data"]["is_cancel"]=0,parseInt(e[n]["order_model"])){case 0:e[n]["status"]=2,e[n]["status_name"]="待发货";break;case 2:e[n]["status"]=2,e[n]["status_name"]="待取货";break;case 3:e[n]["status"]=3,e[n]["status_name"]="待收货";break}this.setData({data_list:e})},cancel_event:function(t){var a=this;uni.showModal({title:"温馨提示",content:"取消后不可恢复，确定继续吗?",confirmText:"确认",cancelText:"不了",success:function(e){if(e.confirm){var n=t.currentTarget.dataset.value,i=t.currentTarget.dataset.index;uni.showLoading({title:"处理中..."}),uni.request({url:r.globalData.get_request_url("cancel","order"),method:"POST",data:{id:n},dataType:"json",success:function(t){if(uni.hideLoading(),0==t.data.code){var e=a.data_list;e[i]["status"]=5,e[i]["status_name"]="已取消",e[i]["operate_data"]["is_cancel"]=0,e[i]["operate_data"]["is_pay"]=0,e[i]["operate_data"]["is_delete"]=1,e[i]["is_can_launch_aftersale"]=0,a.setData({data_list:e}),r.globalData.showToast(t.data.msg,"success")}else r.globalData.showToast(t.data.msg)},fail:function(){uni.hideLoading(),r.globalData.showToast("服务器请求出错")}})}}})},collect_event:function(t){var a=this;uni.showModal({title:"温馨提示",content:"请确认已收到货物或已完成，操作后不可恢复，确定继续吗?",confirmText:"确认",cancelText:"不了",success:function(e){if(e.confirm){var n=t.currentTarget.dataset.value,i=t.currentTarget.dataset.index;uni.showLoading({title:"处理中..."}),uni.request({url:r.globalData.get_request_url("collect","order"),method:"POST",data:{id:n},dataType:"json",success:function(t){if(uni.hideLoading(),0==t.data.code){var e=a.data_list;e[i]["status"]=4,e[i]["status_name"]="已完成",e[i]["operate_data"]["is_collect"]=0,e[i]["operate_data"]["is_comments"]=1,e[i]["operate_data"]["is_delete"]=1,a.setData({data_list:e}),r.globalData.showToast(t.data.msg,"success")}else r.globalData.showToast(t.data.msg)},fail:function(){uni.hideLoading(),r.globalData.showToast("服务器请求出错")}})}}})},delete_event:function(t){var a=this;uni.showModal({title:"温馨提示",content:"删除后不可恢复，确定继续吗?",confirmText:"确认",cancelText:"不了",success:function(e){if(e.confirm){var n=t.currentTarget.dataset.value,i=t.currentTarget.dataset.index;uni.showLoading({title:"处理中..."}),uni.request({url:r.globalData.get_request_url("delete","order"),method:"POST",data:{id:n},dataType:"json",success:function(t){if(uni.hideLoading(),0==t.data.code){var e=a.data_list;e.splice(i,1);var n=e.length;a.setData({data_list:e,data_list_loding_status:0==n?0:3,data_bottom_line_status:0!=n&&a.data_bottom_line_status}),r.globalData.showToast(t.data.msg,"success")}else r.globalData.showToast(t.data.msg)},fail:function(){uni.hideLoading(),r.globalData.showToast("服务器请求出错")}})}}})},rush_event:function(t){r.globalData.showToast("催促成功","success")},nav_event:function(t){this.setData({nav_status_index:t.currentTarget.dataset.index||0,data_page:1,order_select_ids:[]}),this.get_data_list(1)},orderaftersale_event:function(t){var a=t.currentTarget.dataset.oid||0,e=t.currentTarget.dataset.did||0;if(0==a||0==e)return r.globalData.showToast("参数有误"),!1;uni.navigateTo({url:"/pages/user-orderaftersale-detail/user-orderaftersale-detail?oid="+a+"&did="+e})},comments_event:function(t){uni.navigateTo({url:"/pages/user-order-comments/user-order-comments?id="+t.currentTarget.dataset.value})},selected_event:function(t){var a=t.currentTarget.dataset.oid||0,e=this.order_select_ids;if(-1==e.indexOf(a))e.push(a);else for(var n in e)e[n]==a&&e.splice(n,1);this.setData({order_select_ids:e})},pay_merge_event:function(t){this.setData({is_show_payment_popup:!0,temp_pay_value:this.order_select_ids.join(",")})},url_event:function(t){r.globalData.url_event(t)},popup_view_pay_qrcode_event_close:function(t){this.setData({popup_view_pay_qrcode_is_show:!1}),clearInterval(this.popup_view_pay_timer)},popup_view_pay_html_event_close:function(t){this.setData({popup_view_pay_html_is_show:!1})},onUnload:function(t){clearInterval(this.popup_view_pay_timer)}}};a.default=u},7986:function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return i})),e.d(a,"a",(function(){}));var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[e("v-uni-view",{class:"popup "+(t.propClassname||"")+" "+(t.propShow?"popup-show":"")+" "+(t.propAnimation,"animation"),attrs:{"disable-scroll":t.propDisablescroll}},[(t.propMask,e("v-uni-view",{staticClass:"popup-mask",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onMaskTap.apply(void 0,arguments)}}})),e("v-uni-view",{class:"popup-content popup-"+(t.propPosition||"bottom")+" "+(t.propIsBar?"popup-bar":"")},[t._t("default")],2)],1)],1)},i=[]},"870b":function(t,a,e){"use strict";e("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n={data:function(){return{}},components:{},props:{propStatus:Boolean,propMsg:String},methods:{}};a.default=n},"8e69":function(t,a,e){"use strict";e.r(a);var n=e("870b"),i=e.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(s);a["default"]=i.a},a7c9:function(t,a,e){"use strict";e.r(a);var n=e("f3a3"),i=e.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(s);a["default"]=i.a},ae53:function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return i})),e.d(a,"a",(function(){}));var n=function(){var t=this.$createElement,a=this._self._c||t;return a("v-uni-view",[this.propStatus?a("v-uni-view",{staticClass:"data-bottom-line"},[a("v-uni-view",{staticClass:"left"}),a("v-uni-view",{staticClass:"msg"},[this._v(this._s(this.propMsg||"我是有底线的"))]),a("v-uni-view",{staticClass:"right"})],1):this._e()],1)},i=[]},bb0f:function(t,a,e){var n=e("66fd");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=e("4f06").default;i("429ff98b",n,!0,{sourceMap:!1,shadowMode:!1})},c56d:function(t,a,e){var n=e("d699");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=e("4f06").default;i("312d75a0",n,!0,{sourceMap:!1,shadowMode:!1})},ca06:function(t,a,e){"use strict";var n=e("53e6"),i=e.n(n);i.a},d699:function(t,a,e){var n=e("24fb");a=n(!1),a.push([t.i,"/*\r\n* 导航\r\n*/.nav-base .item[data-v-dff5fa06]{width:16.66%}\r\n/*\r\n* 列表\r\n*/.goods-base[data-v-dff5fa06]{min-height:%?160?%;margin-left:%?180?%}.goods-image[data-v-dff5fa06]{width:%?160?%;height:%?160?%}.warehouse-group-icon[data-v-dff5fa06]{width:%?30?%;height:%?30?%}.orderaftersale-btn-text[data-v-dff5fa06]{right:0;bottom:0;z-index:1}\r\n/**\r\n* 支付方式\r\n*/.payment-list .item[data-v-dff5fa06]{width:50%}.payment-list .item-content[data-v-dff5fa06]{padding:%?20?% %?10?%}.payment-list .item-content uni-image[data-v-dff5fa06]{width:%?50?%;height:%?50?%!important}\r\n/**\r\n* 选择\r\n*/.selected .icon[data-v-dff5fa06]{width:%?35?%;height:%?35?%!important;margin:0 %?20?% 0 %?10?%}\r\n/**\r\n* 合并支付按钮\r\n*/.pay-merge-submit[data-v-dff5fa06]{width:%?220?%;height:%?70?%!important;line-height:%?74?%!important;left:calc(50% - %?110?%);bottom:%?50?%}",""]),t.exports=a},f3a3:function(t,a,e){"use strict";e("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n={data:function(){return{}},components:{},props:{propClassname:{type:String,default:""},propShow:{type:Boolean,default:!1},propPosition:{type:String,default:"bottom"},propMask:{type:Boolean,default:!0},propAnimation:{type:Boolean,default:!0},propDisablescroll:{type:Boolean,default:!1},propIsBar:{type:Boolean,default:!1}},methods:{onMaskTap:function(){this.$emit("onclose",{detail:{}},{})}}};a.default=n}}]);