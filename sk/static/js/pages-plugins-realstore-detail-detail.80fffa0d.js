(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-plugins-realstore-detail-detail"],{"0140":function(t,a,e){"use strict";e.r(a);var i=e("175c"),n=e("8082");for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(s);e("4d34");var o=e("f0c5"),l=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"33aa355b",null,!1,i["a"],void 0);a["default"]=l.exports},"0e8b":function(t,a,e){var i=e("d0a0");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("716fcc30",i,!0,{sourceMap:!1,shadowMode:!1})},"10f9":function(t,a,e){var i=e("1f7b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("0937d3fd",i,!0,{sourceMap:!1,shadowMode:!1})},"14af":function(t,a,e){"use strict";e.r(a);var i=e("7986"),n=e("a7c9");for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(s);e("ca06");var o=e("f0c5"),l=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"7a19d9c2",null,!1,i["a"],void 0);a["default"]=l.exports},"14ca":function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".search-content .search-icon[data-v-2a024986]{line-height:12px;left:10px;top:calc(50% - 11px);z-index:1;padding:5px}.search-content uni-input[data-v-2a024986]{font-size:12px;padding:0 15px 0 38px;box-sizing:border-box;height:30px;line-height:30px}",""]),t.exports=a},"175c":function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){return i}));var i={uniIcons:e("c262").default},n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[null!=(t.info||null)?e("v-uni-view",[e("v-uni-view",{staticClass:"pr"},[e("v-uni-view",{staticClass:"header",style:"background-image: url("+t.info.banner+");"},[0==t.is_single_page?e("v-uni-view",{staticClass:"header-top padding-horizontal-main",style:"padding-top:"+(t.status_bar_height+8)+"px;"},[1==t.is_realstore_top_nav_back?e("v-uni-view",{staticClass:"nav-back dis-inline-block round tc va-m",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.top_nav_left_back_event.apply(void 0,arguments)}}},[e("uni-icons",{attrs:{type:"arrowleft",size:"20",color:"#fff"}})],1):t._e(),e("v-uni-view",{class:"fr va-m "+(1==t.is_realstore_top_nav_back?"nav-search":"wh-auto")},[e("component-search",{attrs:{propIsOnEvent:!0,propIsRequired:!1,propIconColor:"#9A9A9A",propPlaceholderClass:"cr-grey",propTextColor:"#fff",propPlaceholder:"商品搜索",propBgColor:"rgba(0, 0, 0, 0.1)",propBrColor:"rgb(205 205 205 / 60%)"},on:{onsearch:function(a){arguments[0]=a=t.$handleEvent(a),t.search_button_event.apply(void 0,arguments)}}})],1)],1):t._e(),null!=(t.tablecode||null)?e("v-uni-view",{staticClass:"tablecode dis-inline-block margin-left-main round cr-red"},[t._v(t._s(t.tablecode.name)+"("+t._s(t.tablecode.code)+")")]):t._e()],1),e("v-uni-view",{staticClass:"header-content margin-main padding-main border-radius-main bg-white pa br"},[e("v-uni-view",{staticClass:"base oh"},[e("v-uni-image",{staticClass:"logo circle fl br",attrs:{src:t.info.logo,mode:"widthFix","data-value":t.info.logo},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.image_show_event.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"base-right fr"},[null!=(t.info.buy_use_type_list||null)&&t.info.buy_use_type_list.length>0?e("v-uni-view",{staticClass:"use-type-icon pa text-size-xs cr-white bg-main",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.buy_use_type_event.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"va-m margin-right-xs"},[t._v(t._s(t.info.buy_use_type_list[t.buy_use_type_index]["name"]))]),e("v-uni-view",{staticClass:"dis-inline-block va-m"},[e("uni-icons",{attrs:{type:"arrowdown",size:"12",color:"#fff"}})],1)],1):t._e(),e("v-uni-view",{class:"title fw-b text-size single-text "+(null!=(t.info.buy_use_type_list||null)&&t.info.buy_use_type_list.length>0?"title-length-limit":"")},[null!=(t.info.alias||null)?e("v-uni-text",{staticClass:"va-m title-icon round br-main cr-main text-size-xs padding-left-sm padding-right-sm margin-right-xs"},[t._v(t._s(t.info.alias))]):t._e(),e("v-uni-text",{staticClass:"va-m"},[t._v(t._s(t.info.name))])],1),e("v-uni-view",{staticClass:"margin-top-xs text-size-xs cr-grey"},[null!=(t.info.status_info.time||null)?e("v-uni-view",[t._v("营业时间："+t._s(t.info.status_info.time))]):t._e(),null!=(t.info.distance||null)?e("v-uni-view",[t._v("距离您"+t._s(t.info.distance))]):t._e()],1)],1)],1),e("v-uni-view",{staticClass:"margin-top-sm oh cp"},[e("v-uni-view",{staticClass:"dis-inline-block va-m"},[e("uni-icons",{attrs:{type:"location-filled",size:"12",color:"#8d8d8d"}})],1),e("v-uni-view",{staticClass:"address-content single-text cr-base margin-left-xs dis-inline-block text-size-sm va-m",attrs:{"data-value":t.info.province_name+t.info.city_name+t.info.county_name+t.info.address},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.text_copy_event.apply(void 0,arguments)}}},[t._v(t._s(t.info.province_name)+t._s(t.info.city_name)+t._s(t.info.county_name)+t._s(t.info.address))])],1),e("v-uni-view",{staticClass:"icon-list pa"},[0!=t.info.lat&&0!=t.info.lng?e("v-uni-view",{staticClass:"icon-item bg-green circle dis-inline-block tc cp",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.address_map_event.apply(void 0,arguments)}}},[e("uni-icons",{attrs:{type:"paperplane-filled",size:"12",color:"#fff"}})],1):t._e(),null!=(t.info.service_tel||null)?e("v-uni-view",{staticClass:"icon-item bg-yellow circle dis-inline-block tc cp",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.tel_event.apply(void 0,arguments)}}},[e("uni-icons",{attrs:{type:"phone-filled",size:"12",color:"#fff"}})],1):t._e(),e("v-uni-view",{class:"icon-item circle dis-inline-block tc cp pr "+(1==t.favor_info.status?"bg-red":"bg-gray"),on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.favor_event.apply(void 0,arguments)}}},[e("uni-icons",{attrs:{type:"heart-filled",size:"12",color:"#fff"}}),e("v-uni-view",{staticClass:"badge-icon pa"},[e("component-badge",{attrs:{propNumber:t.favor_info.count}})],1)],1)],1)],1)],1),e("v-uni-view",{staticClass:"content oh"},[e("v-uni-scroll-view",{staticClass:"left-content fl ht-auto bg-white",attrs:{"scroll-y":!0}},[e("v-uni-view",{staticClass:"left-content-actual"},[e("v-uni-view",{class:"item tc cr-base text-size-sm cp "+(-1==t.nav_active_index?"active cr-main border-color-main fw-b":""),attrs:{"data-index":-1,"data-itemindex":-1},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.nav_event.apply(void 0,arguments)}}},[t._v("全部")]),null!=(t.goods_category||null)&&t.goods_category.length>0?[t._l(t.goods_category,(function(a,i){return[e("v-uni-view",{key:i+"_0",class:"item tc cr-base text-size-sm pr cp "+(t.nav_active_index==i?"active cr-main border-color-main fw-b":""),attrs:{"data-index":i,"data-itemindex":-1},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.nav_event.apply(void 0,arguments)}}},[e("v-uni-text",[t._v(t._s(a.name))]),(a.buy_number||0)>0?e("v-uni-view",{staticClass:"badge-icon pa"},[e("component-badge",{attrs:{propNumber:a.buy_number}})],1):t._e()],1)]}))]:t._e()],2)],1),e("v-uni-scroll-view",{staticClass:"right-content padding-right-main fr ht-auto goods-list",attrs:{"scroll-y":!0,"scroll-top":t.scroll_top,"lower-threshold":"30"},on:{scroll:function(a){arguments[0]=a=t.$handleEvent(a),t.scroll_event.apply(void 0,arguments)},scrolltolower:function(a){arguments[0]=a=t.$handleEvent(a),t.scroll_lower.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"right-content-actual pr"},[null!=(t.goods_category||null)&&t.goods_category.length>0&&-1!=t.nav_active_index&&null!=(t.goods_category[t.nav_active_index]["items"]||null)&&t.goods_category[t.nav_active_index]["items"].length>0?e("v-uni-view",{staticClass:"word-list scroll-view-horizontal"},[e("v-uni-scroll-view",{attrs:{"scroll-x":!0}},[e("v-uni-view",{class:"word-icon dis-inline-block text-size-sm round padding-top-xs padding-bottom-xs padding-left padding-right "+(-1==t.nav_active_item_index?"bg-main-light br-main-light cr-main":"br-gray cr-gray"),attrs:{"data-index":t.nav_active_index,"data-itemindex":-1},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.nav_event.apply(void 0,arguments)}}},[t._v("全部")]),t._l(t.goods_category[t.nav_active_index]["items"],(function(a,i){return[e("v-uni-view",{key:i+"_0",class:"word-icon dis-inline-block text-size-sm round padding-top-xs padding-bottom-xs padding-left padding-right "+(-1!=t.nav_active_item_index&&t.nav_active_item_index==i?"bg-main-light br-main-light cr-main":"br-gray cr-gray"),attrs:{"data-index":t.nav_active_index,"data-itemindex":i},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.nav_event.apply(void 0,arguments)}}},[t._v(t._s(a.name))])]}))],2)],1):t._e(),null!=(t.data_list||null)&&t.data_list.length>0?t._l(t.data_list,(function(a,i){return e("v-uni-view",{key:i,staticClass:"item bg-white padding-main border-radius-main oh spacing-mb"},[e("v-uni-view",{attrs:{"data-value":"/pages/goods-detail/goods-detail?id="+a.id+"&is_opt_back=1&buy_use_type_index="+t.buy_use_type_index+"&realstore_id="+t.info.id},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.url_event.apply(void 0,arguments)}}},[e("v-uni-image",{staticClass:"goods-img radius fl br",attrs:{src:a.images,mode:"widthFix"}}),e("v-uni-view",{staticClass:"goods-base fr"},[e("v-uni-view",{staticClass:"goods-base-content"},[e("v-uni-view",{staticClass:"goods-title text-size-sm single-text"},[t._v(t._s(a.title))]),null!=(a.simple_desc||null)?e("v-uni-view",{staticClass:"simple-desc cr-red text-size-xs margin-top-xs multi-text"},[t._v(t._s(a.simple_desc))]):t._e()],1),e("v-uni-view",{staticClass:"margin-top-sm oh"},[e("v-uni-view",{staticClass:"sales-price text-size-sm single-text dis-inline-block va-m"},[t._v(t._s(t.currency_symbol)+t._s(a.min_price))]),e("v-uni-view",{staticClass:"tc fr"},[0==(a.is_error||0)?[(a.buy_number||0)>0?e("v-uni-view",{staticClass:"dis-inline-block va-m cp",attrs:{"data-index":i,"data-type":"0"},on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.buy_number_event.apply(void 0,arguments)}}},[e("uni-icons",{attrs:{type:"minus",size:"22",color:"#f00"}})],1):t._e(),(a.buy_number||0)>0?e("v-uni-view",{staticClass:"buy-number dis-inline-block cr-base text-size-sm padding-left-xs padding-right-xs va-m"},[t._v(t._s(a.buy_number))]):t._e(),e("v-uni-view",{staticClass:"dis-inline-block va-m cp",attrs:{"data-index":i,"data-type":"1"},on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.buy_number_event.apply(void 0,arguments)}}},[e("uni-icons",{attrs:{type:"plus",size:"22",color:"#1AAD19"}})],1)]:[e("v-uni-text",{staticClass:"cr-grey text-size-xs"},[t._v(t._s(a.is_error_msg))])]],2)],1)],1)],1)],1)})):[e("component-no-data",{attrs:{propStatus:t.data_list_loding_status,propMsg:t.data_list_loding_msg}})]],2)],1)],1),t.cart_status?[e("v-uni-view",{staticClass:"cart-mask wh-auto ht-auto pf",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.cart_event.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"cart-content bg-white border-radius-main pa oh"},[null!=(t.cart||null)&&null!=(t.cart.data||null)&&t.cart.data.length>0?[e("v-uni-view",{staticClass:"oh br-b padding-vertical-main padding-horizontal-main"},[e("v-uni-text",{staticClass:"va-m text-size-xs cr-base"},[t._v("已选商品")]),e("v-uni-view",{staticClass:"dis-inline-block margin-left-xl text-size-xs"},[e("v-uni-text",{staticClass:"cr-red"},[t._v("没有已加购的商品？")]),e("v-uni-text",{staticClass:"br-green cr-green round padding-left padding-right padding-top-xs padding-bottom-xs cp",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.buy_use_type_event.apply(void 0,arguments)}}},[t._v("切换下单类型")])],1),e("v-uni-view",{staticClass:"fr cp",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.cart_all_delete_event.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"dis-inline-block va-m"},[e("uni-icons",{attrs:{type:"trash",size:"12",color:"#f00"}})],1),e("v-uni-text",{staticClass:"cr-red va-m text-size-xs margin-left-xs"},[t._v("清空")])],1)],1),e("v-uni-scroll-view",{staticClass:"cart-list goods-list",attrs:{"scroll-y":!0}},t._l(t.cart.data,(function(a,i){return e("v-uni-view",{key:i,staticClass:"item padding-main oh spacing-mb"},[e("v-uni-navigator",{attrs:{url:"/pages/goods-detail/goods-detail?id="+a.goods_id+"&is_opt_back=1&buy_use_type_index="+t.buy_use_type_index+"&realstore_id="+t.info.id,"hover-class":"none"}},[e("v-uni-image",{staticClass:"goods-img radius fl br",attrs:{src:a.images,mode:"widthFix"}}),e("v-uni-view",{staticClass:"goods-base fr"},[e("v-uni-view",{staticClass:"goods-base-content"},[e("v-uni-view",{staticClass:"goods-title text-size-sm single-text"},[t._v(t._s(a.title))]),null!=a.spec?e("v-uni-view",{staticClass:"text-size-xs cr-grey margin-top-sm"},[t._l(a.spec,(function(a,i){return[i>0?e("v-uni-text",{key:i+"_0",staticClass:"padding-left-xs padding-right-xs"},[t._v(";")]):t._e(),e("v-uni-text",[t._v(t._s(a.value))])]}))],2):t._e()],1),e("v-uni-view",{staticClass:"margin-top-sm oh"},[e("v-uni-view",{staticClass:"sales-price text-size-sm single-text dis-inline-block va-m"},[t._v(t._s(t.currency_symbol)+t._s(a.price))]),e("v-uni-view",{staticClass:"tc fr"},[(a.stock||0)>0?e("v-uni-view",{staticClass:"dis-inline-block va-m cp",attrs:{"data-index":i,"data-type":"0"},on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.cart_buy_number_event.apply(void 0,arguments)}}},[e("uni-icons",{attrs:{type:"minus",size:"22",color:"#f00"}})],1):t._e(),(a.stock||0)>0?e("v-uni-view",{staticClass:"buy-number dis-inline-block cr-base text-size-sm padding-left-xs padding-right-xs va-m"},[t._v(t._s(a.stock))]):t._e(),e("v-uni-view",{staticClass:"dis-inline-block va-m cp",attrs:{"data-index":i,"data-type":"1"},on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.cart_buy_number_event.apply(void 0,arguments)}}},[e("uni-icons",{attrs:{type:"plus",size:"22",color:"#1AAD19"}})],1)],1)],1)],1)],1)],1)})),1)]:[e("component-no-data",{attrs:{propStatus:"0",propMsg:"请先选购商品"}}),e("v-uni-view",{staticClass:"padding-bottom-xxxl margin-bottom-xxxl tc text-size-xs"},[e("v-uni-text",{staticClass:"cr-red"},[t._v("没有已加购的商品？")]),e("v-uni-text",{staticClass:"br-green cr-green round padding-left padding-right padding-top-xs padding-bottom-xs cp",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.buy_use_type_event.apply(void 0,arguments)}}},[t._v("切换下单类型")])],1)]],2)]:t._e(),e("v-uni-view",{staticClass:"botton-nav round pa bg-main-pair oh"},[e("v-uni-view",{staticClass:"cart dis-inline-block va-m margin-left-xxl pr cp",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.cart_event.apply(void 0,arguments)}}},[e("uni-icons",{attrs:{type:"cart",size:"18",color:"#fff"}}),null!=(t.cart||null)&&(t.cart.buy_number||0)>0?e("v-uni-view",{staticClass:"badge-icon pa"},[e("component-badge",{attrs:{propNumber:t.cart.buy_number}})],1):t._e()],1),e("v-uni-view",{staticClass:"cart-total-price single-text dis-inline-block fw-b cr-white va-m margin-left-xl"},[e("v-uni-text",{staticClass:"text-size-sm"},[t._v(t._s(t.currency_symbol))]),e("v-uni-text",{staticClass:"text-size-lg"},[t._v(t._s(null==(t.cart||null)?0:t.cart.total_price||0))])],1),e("v-uni-button",{class:"text-size-sm pa radius-0 "+(1==t.info.status_info.status?"bg-main cr-white":"bg-gray cr-gray"),attrs:{type:"default",size:"mini","hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.buy_submit_event.apply(void 0,arguments)}}},[t._v(t._s(1==t.info.status_info.status?"去结算":t.info.status_info.msg))])],1),e("component-popup",{attrs:{propShow:t.popup_spec_status,propPosition:"bottom"},on:{onclose:function(a){arguments[0]=a=t.$handleEvent(a),t.popup_spec_close_event.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"goods-spec-popup padding-main bg-white pr"},[e("v-uni-view",{staticClass:"close fr oh"},[e("v-uni-view",{staticClass:"fr",on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.popup_spec_close_event.apply(void 0,arguments)}}},[e("v-uni-icon",{attrs:{type:"clear",size:"20"}})],1)],1),e("v-uni-view",{staticClass:"goods-spec-popup-base oh br-b pr"},[e("v-uni-image",{staticClass:"radius br",attrs:{src:t.goods_spec_base_images,mode:"scaleToFill","data-value":t.goods_spec_base_images},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goods_spec_base_images_view_event.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"goods-spec-popup-base-content"},[e("v-uni-view",{staticClass:"goods-price"},[e("v-uni-view",{staticClass:"sales-price"},[t._v(t._s(t.currency_symbol)+t._s(t.goods_spec_base_price))]),null!=(t.goods_spec_base_original_price||null)&&0!=t.goods_spec_base_original_price?e("v-uni-view",{staticClass:"original-price"},[t._v(t._s(t.currency_symbol)+t._s(t.goods_spec_base_original_price))]):t._e()],1),e("v-uni-view",{staticClass:"inventory"},[e("v-uni-text",{staticClass:"cr-gray"},[t._v("库存")]),e("v-uni-text",{staticClass:"cr-base"},[t._v(t._s(t.goods_spec_base_inventory))]),e("v-uni-text",{staticClass:"cr-gray"},[t._v(t._s(t.goods_choose_data.inventory_unit))])],1)],1)],1),e("v-uni-view",{staticClass:"goods-spec-popup-content"},[t.goods_specifications_choose.length>0?e("v-uni-view",{staticClass:"goods-spec-choose"},t._l(t.goods_specifications_choose,(function(a,i){return e("v-uni-view",{key:i,staticClass:"item br-b"},[e("v-uni-view",{staticClass:"text-size"},[t._v(t._s(a.name))]),a.value.length>0?e("v-uni-view",{staticClass:"spec margin-top-sm"},[t._l(a.value,(function(a,n){return[e("v-uni-button",{key:n+"_0",class:a.is_active+" "+a.is_dont+" "+a.is_disabled,attrs:{"data-key":i,"data-keys":n,type:"default",size:"mini","hover-class":"none"},on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.goods_specifications_event.apply(void 0,arguments)}}},[null!=(a.images||null)?e("v-uni-image",{staticClass:"va-m dis-inline-block round margin-right-sm",attrs:{src:a.images,mode:"scaleToFill"}}):t._e(),e("v-uni-text",{staticClass:"va-m"},[t._v(t._s(a.name))])],1)]}))],2):t._e()],1)})),1):t._e()],1),e("v-uni-button",{staticClass:"goods-spec-popup-submit bg-main cr-white",attrs:{type:"default","hover-class":"none"},on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.goods_spec_confirm_event.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],2):e("v-uni-view",[e("component-no-data",{attrs:{propStatus:t.data_list_loding_status,propMsg:t.data_list_loding_msg}})],1)],1)},s=[]},"1a3c":function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".popup-content[data-v-7a19d9c2]{position:fixed;background:#fff;z-index:101;overflow:hidden}.popup-mask[data-v-7a19d9c2]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.6);opacity:0;pointer-events:none;z-index:100}.popup-left[data-v-7a19d9c2]{-webkit-transform:translateX(-100%);transform:translateX(-100%);left:0;top:0;bottom:0}.popup-right[data-v-7a19d9c2]{-webkit-transform:translateX(100%);transform:translateX(100%);right:0;top:0;bottom:0}.popup-top[data-v-7a19d9c2]{top:0;width:100vw;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.popup-bottom[data-v-7a19d9c2]{bottom:var(--window-bottom);width:100vw;-webkit-transform:translateY(100%);transform:translateY(100%)}.popup-show .popup-content[data-v-7a19d9c2]{-webkit-transform:none;transform:none}.popup-show .popup-mask[data-v-7a19d9c2]{opacity:1;pointer-events:auto}.popup.animation .popup-mask[data-v-7a19d9c2],\n.popup.animation .popup-content[data-v-7a19d9c2]{transition:all .25s linear}.popup-top[data-v-7a19d9c2]{border-bottom-right-radius:%?20?%;border-bottom-left-radius:%?20?%}.popup-bottom[data-v-7a19d9c2]{border-top-right-radius:%?20?%;border-top-left-radius:%?20?%}.popup-left[data-v-7a19d9c2]{border-top-right-radius:%?20?%;border-bottom-right-radius:%?20?%}.popup-right[data-v-7a19d9c2]{border-top-left-radius:%?20?%;border-bottom-left-radius:%?20?%}.popup-bar[data-v-7a19d9c2]{\nbottom:var(--window-bottom)!important\n}",""]),t.exports=a},"1f7b":function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,"/**\n * 头部\n */.header[data-v-33aa355b]{background-repeat:no-repeat;background-position:50%;background-size:cover;border-bottom-left-radius:%?100?%;border-bottom-right-radius:%?100?%;height:%?310?%;\n}\n/**\n * 顶部\n */.header-top[data-v-33aa355b]{padding-right:%?250?%;\n\n\npadding-right:%?20?%;\npadding-bottom:10px}.nav-back[data-v-33aa355b]{width:30px;background:rgba(0,0,0,.6);height:30px;line-height:30px}.nav-search[data-v-33aa355b]{width:calc(100% - %?90?%);\nwidth:100%\n}\n/**\n * 头部内容\n */.header-content[data-v-33aa355b]{top:%?140?%;\n\nwidth:calc(100% - %?80?%);box-shadow:0 0 8px rgba(0,0,0,.06)}.header-content .address-content[data-v-33aa355b]{width:calc(100% - %?220?%)}.header-content .icon-list[data-v-33aa355b]{right:%?20?%;bottom:%?20?%}.header-content .icon-list .icon-item[data-v-33aa355b]{width:%?50?%;height:%?50?%;line-height:%?50?%}.header-content .icon-item .badge-icon[data-v-33aa355b]{top:-10px;right:2px}.header-content .icon-list .icon-item[data-v-33aa355b]:not(:last-child){margin-right:%?15?%}.header-content .logo[data-v-33aa355b]{width:%?110?%;height:%?110?%!important}.header-content .base-right[data-v-33aa355b]{width:calc(100% - %?130?%)}.header-content .base-right .title-length-limit[data-v-33aa355b]{width:calc(100% - %?110?%)}.header-content .base-right .use-type-icon[data-v-33aa355b]{border-top-left-radius:%?50?%;border-bottom-left-radius:%?50?%;top:%?20?%;right:-1px;padding:%?5?% %?20?%;box-shadow:-1px 1px 3px rgba(0,0,0,.1)}\n/**\n * 桌码\n */.tablecode[data-v-33aa355b]{background:hsla(0,0%,100%,.6);padding:%?2?% %?20?%;\n}\n/**\n * 中间内容\n */.content[data-v-33aa355b]{margin-top:%?80?%;height:calc(100vh - %?440?%);\nheight:calc(100vh - %?390?%);\n}\n/**\n* 左侧导航\n*/.left-content-actual[data-v-33aa355b]{padding-bottom:%?120?%}.left-content[data-v-33aa355b]{width:%?180?%}.left-content .item[data-v-33aa355b]{height:%?80?%;line-height:%?80?%;padding:0 %?10?%;border-left:3px solid #fff;border-right:3px solid #fff;overflow:hidden}.left-content .item[data-v-33aa355b]:not(:last-child){border-bottom:1px solid #f1f1f1!important}.left-content .active[data-v-33aa355b]{background:#f5f5f5;border-width:0 0 0 3px;border-right:3px solid #f5f5f5!important}.left-content .badge-icon[data-v-33aa355b]{top:%?-16?%;right:%?26?%}\n/**\n*  右侧内容\n*/.right-content-actual[data-v-33aa355b]{padding-bottom:%?105?%}.right-content[data-v-33aa355b]{width:calc(100% - %?220?%)}.right-content-actual .word-list[data-v-33aa355b]{position:-webkit-sticky;position:sticky;top:0;right:0;background:#f5f5f5;z-index:1;padding:0 1px %?20?% 1px}.goods-list .goods-img[data-v-33aa355b]{width:%?160?%;height:%?160?%!important}.goods-list .goods-base[data-v-33aa355b]{width:calc(100% - %?180?%)}.goods-list .goods-base-content[data-v-33aa355b]{min-height:%?100?%}.goods-list .goods-base .simple-desc[data-v-33aa355b]{line-height:%?30?%;min-height:%?30?%;max-height:%?58?%}.goods-list .goods-base .sales-price[data-v-33aa355b]{width:calc(100% - %?160?%)}.goods-list .goods-base .buy-number[data-v-33aa355b]{min-width:%?32?%}\n/**\n * 底部导航\n */.botton-nav[data-v-33aa355b]{width:calc(100% - %?40?%);left:auto;bottom:%?20?%;line-height:%?80?%;z-index:6;max-width:calc(800px - %?40?%);margin-left:%?20?%}.botton-nav .cart .badge-icon[data-v-33aa355b]{top:%?-20?%;right:%?-2?%}.botton-nav .cart-total-price[data-v-33aa355b]{width:calc(100% - %?260?%)}.botton-nav uni-button[data-v-33aa355b]{top:0;right:0;line-height:%?88?%;height:%?88?%;border:0;\n}\n/**\n * 购物车\n */.cart-mask[data-v-33aa355b]{left:0;top:0;background:rgba(0,0,0,.6);z-index:5}.cart-content[data-v-33aa355b]{left:auto;bottom:%?130?%;width:calc(100% - %?40?%);z-index:6;max-width:calc(800px - %?40?%);margin-left:%?20?%}.cart-content .cart-list[data-v-33aa355b]{max-height:60vh}.cart-content .cart-list .goods-img[data-v-33aa355b]{width:%?120?%;height:%?120?%!important}.cart-content .cart-list .goods-base[data-v-33aa355b]{width:calc(100% - %?140?%)}.cart-content .cart-list .goods-base-content[data-v-33aa355b]{min-height:%?60?%}\n/**\n * 规格选择弹窗\n */.goods-spec-popup .close[data-v-33aa355b]{position:absolute;top:%?20?%;right:%?20?%;z-index:2}.goods-spec-popup-base[data-v-33aa355b]{height:%?180?%}.goods-spec-popup-base uni-image[data-v-33aa355b]{width:%?150?%;height:%?150?%;position:absolute;left:0;top:0}.goods-spec-popup-base-content[data-v-33aa355b]{position:absolute;left:%?170?%;top:0}.goods-spec-popup-base-content .goods-price[data-v-33aa355b]{margin-bottom:%?10?%}.goods-spec-popup-content[data-v-33aa355b]{max-height:50vh;overflow-y:scroll;overflow-x:hidden;margin-top:%?20?%}.goods-spec-choose .item[data-v-33aa355b]{margin-bottom:%?30?%;padding-bottom:%?30?%}.goods-spec-choose .item .spec uni-button[data-v-33aa355b]{margin-right:%?25?%;padding:0 %?30?%;background-color:#f5f5f5;color:#666;height:%?60?%;line-height:%?50?%!important;border:1px solid #ccc}.goods-spec-choose .item .spec uni-button uni-image[data-v-33aa355b]{width:%?40?%;height:%?40?%!important}.spec-dont-choose[data-v-33aa355b]{color:#b4b3b3!important;background-color:#fff!important;border:1px solid #ebeaea!important}.spec-dont-choose uni-image[data-v-33aa355b]{opacity:.5}.spec-items-disabled[data-v-33aa355b]{color:#d2cfcf!important;background-color:#fff!important;border:1px dashed #d5d5d5!important}.spec-items-disabled uni-image[data-v-33aa355b]{opacity:.3}.goods-spec-choose .item .spec uni-button[data-v-33aa355b],\n.goods-spec-popup-submit[data-v-33aa355b]{border-radius:%?50?%}.goods-spec-popup-submit[data-v-33aa355b]{height:%?85?%;line-height:%?85?%;font-size:%?36?%;margin-top:%?20?%;border:0}",""]),t.exports=a},"2fa6":function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".no-data-box[data-v-9455811c]{padding:10% 0;text-align:center}.no-data-box uni-image[data-v-9455811c]{width:%?160?%;margin-bottom:%?30?%}.no-data-box .no-data-tips[data-v-9455811c]{font-size:%?28?%;color:#a6a6a6}.no-data-loading uni-text[data-v-9455811c]{color:#999}",""]),t.exports=a},"382f":function(t,a,e){var i=e("2fa6");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("c08120bc",i,!0,{sourceMap:!1,shadowMode:!1})},4141:function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return n})),e.d(a,"a",(function(){}));var i=function(){var t=this.$createElement,a=this._self._c||t;return a("v-uni-view",[this.propNumber>0?a("v-uni-view",{staticClass:"am-badge"},[a("v-uni-view",{class:"am-badge-text "+(this.propNumber>99?"am-badge-text-max":"")},[a("v-uni-text",[this._v(this._s(this.propNumber>99?"99+":this.propNumber))])],1)],1):this._e()],1)},n=[]},"4a87":function(t,a,e){"use strict";e.r(a);var i=e("6aa4"),n=e("c482");for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(s);e("d9d0");var o=e("f0c5"),l=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"2a024986",null,!1,i["a"],void 0);a["default"]=l.exports},"4d34":function(t,a,e){"use strict";var i=e("10f9"),n=e.n(i);n.a},"4fed":function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return n})),e.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[1==t.propStatus?e("v-uni-view",{staticClass:"no-data-box no-data-loading"},[e("v-uni-text",[t._v("加载中...")])],1):2==t.propStatus?e("v-uni-view",{staticClass:"no-data-box"},[e("v-uni-image",{attrs:{src:t.static_dir+"error.png",mode:"widthFix"}}),e("v-uni-view",{staticClass:"no-data-tips"},[t._v(t._s(t.propMsg||"处理错误"))])],1):0==t.propStatus?e("v-uni-view",{staticClass:"no-data-box"},[e("v-uni-image",{attrs:{src:t.static_dir+"empty.png",mode:"widthFix"}}),e("v-uni-view",{staticClass:"no-data-tips"},[t._v(t._s(t.propMsg||"没有相关数据"))])],1):t._e()],1)},n=[]},"53e6":function(t,a,e){var i=e("1a3c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("3c048b08",i,!0,{sourceMap:!1,shadowMode:!1})},"58f4":function(t,a,e){var i=e("14ca");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("6cd9eb20",i,!0,{sourceMap:!1,shadowMode:!1})},"6aa4":function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){return i}));var i={uniIcons:e("c262").default},n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[e("v-uni-view",{staticClass:"search-content pr"},[e("v-uni-view",{staticClass:"search-icon dis-inline-block pa",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.search_icon_event.apply(void 0,arguments)}}},[e("uni-icons",{attrs:{type:t.propIcon,size:"12",color:t.propIconColor}})],1),e("v-uni-input",{staticClass:"round wh-auto dis-block",style:"color:"+t.propTextColor+";background:"+t.propBgColor+";"+(null!=(t.propBrColor||null)?"border:1px solid "+t.propBrColor+";":""),attrs:{type:"text","confirm-type":"search",placeholder:t.propPlaceholder,"placeholder-class":t.propPlaceholderClass,value:t.propDefaultValue},on:{confirm:function(a){arguments[0]=a=t.$handleEvent(a),t.search_input_event.apply(void 0,arguments)}}})],1)],1)},s=[]},"6b46":function(t,a,e){"use strict";e.r(a);var i=e("9c15"),n=e.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(s);a["default"]=n.a},7986:function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return n})),e.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[e("v-uni-view",{class:"popup "+(t.propClassname||"")+" "+(t.propShow?"popup-show":"")+" "+(t.propAnimation,"animation"),attrs:{"disable-scroll":t.propDisablescroll}},[(t.propMask,e("v-uni-view",{staticClass:"popup-mask",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onMaskTap.apply(void 0,arguments)}}})),e("v-uni-view",{class:"popup-content popup-"+(t.propPosition||"bottom")+" "+(t.propIsBar?"popup-bar":"")},[t._t("default")],2)],1)],1)},n=[]},8082:function(t,a,e){"use strict";e.r(a);var i=e("b3ff"),n=e.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(s);a["default"]=n.a},"97c7":function(t,a,e){"use strict";e.r(a);var i=e("4fed"),n=e("aff5");for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(s);e("a9750");var o=e("f0c5"),l=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"9455811c",null,!1,i["a"],void 0);a["default"]=l.exports},"9c15":function(t,a,e){"use strict";e("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("a9e3");var i={data:function(){return{}},components:{},props:{propNumber:{type:[Number,String],default:0}},methods:{}};a.default=i},a7c9:function(t,a,e){"use strict";e.r(a);var i=e("f3a3"),n=e.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(s);a["default"]=n.a},a9750:function(t,a,e){"use strict";var i=e("382f"),n=e.n(i);n.a},aff5:function(t,a,e){"use strict";e.r(a);var i=e("eba1"),n=e.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(s);a["default"]=n.a},b3ff:function(t,a,e){"use strict";e("7a82");var i=e("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(e("53ca"));e("e25e"),e("c975"),e("14d9"),e("e9c4"),e("acd8"),e("d401"),e("d3b7"),e("25f0"),e("d81d"),e("ddb0");var s=i(e("97c7")),o=i(e("4a87")),l=i(e("ccec")),r=i(e("14af")),c=getApp(),d=c.globalData.get_static_url("common"),u={data:function(){return{status_bar_height:parseInt(c.globalData.get_system_info("statusBarHeight",0)),common_static_url:d,data_list_loding_status:1,data_list_loding_msg:"",currency_symbol:c.globalData.data.currency_symbol,cache_buy_use_type_index_key:"cache_plugins_realstore_buy_use_type_index",buy_use_type_index:0,params:null,is_first:1,scroll_top:0,scroll_top_old:0,user:null,info:null,goods_category:[],data_list:[],data_total:0,data_page_total:0,data_page:1,cart:null,goods_count:0,data_base:null,favor_user:[],tablecode:null,category:[],goods_list:[],search_keywords_value:"",nav_active_index:-1,nav_active_item_index:-1,cart_status:!1,popup_spec_status:!1,goods_spec_base_price:0,goods_spec_base_original_price:0,goods_spec_base_inventory:0,goods_spec_base_images:"",goods_choose_data:{},goods_specifications_choose:[],favor_info:{text:"收藏",status:0,count:0},user_location:null,share_info:{},is_single_page:c.globalData.is_current_single_page()||0,is_realstore_top_nav_back:c.globalData.data.is_realstore_top_nav_back||0}},components:{componentNoData:s.default,componentSearch:o.default,componentBadge:l.default,componentPopup:r.default},props:{},onLoad:function(t){this.setData({params:c.globalData.launch_params_handle(t),user:c.globalData.get_user_cache_info()})},onShow:function(){this.setData({buy_use_type_index:this.get_buy_use_type_index()}),this.user_location_init(),this.get_detail_init(),this.init_config()},onPullDownRefresh:function(){this.setData({data_page:1}),this.reset_scroll(),this.get_detail_init()},methods:{init_config:function(t){1==(t||!1)?this.setData({currency_symbol:c.globalData.get_config("currency_symbol")}):c.globalData.is_config(this,"init_config")},get_detail_init:function(){var t=this;uni.request({url:c.globalData.get_request_url("index","detail","realstore"),method:"POST",data:this.request_params_merge({id:this.params.id||0},"init"),dataType:"json",success:function(a){if(uni.stopPullDownRefresh(),0==a.data.code){var e=a.data.data;if(t.setData({data_base:e.base||null,info:e.info||null,goods_category:e.goods_category||[],favor_user:e.favor_user||[],tablecode:e.tablecode||null}),t.setData({buy_use_type_index:t.get_buy_use_type_index()}),null!=(t.info||null)){var i=-1!=t.favor_user.indexOf(t.info.id)?1:0;t.setData({favor_info:{count:t.info.favor_count||0,status:i,text:(1==i?"已":"")+"收藏"}}),t.setData({share_info:{title:t.info.seo_title||t.info.name,desc:t.info.seo_desc||t.info.describe,path:"/pages/plugins/realstore/detail/detail",query:"id="+t.info.id,img:t.info.logo}}),uni.setNavigationBarTitle({title:t.info.name}),1==t.is_first?(t.get_data_list(),t.get_cart_data(t.is_first),t.setData({is_first:0})):(t.setData({cart:e.cart||null}),t.cart_data_list_handle())}}else t.setData({data_list_loding_status:2,data_list_loding_msg:a.data.msg});c.globalData.page_share_handle(t.share_info)},fail:function(){uni.stopPullDownRefresh(),t.setData({data_list_loding_status:2,data_list_loding_msg:"服务器请求出错"}),c.globalData.showToast("服务器请求出错")}})},get_data_list:function(t){var a=this;if(0==(t||0)&&1==this.data_bottom_line_status)return uni.stopPullDownRefresh(),!1;uni.showLoading({title:"加载中...",mask:!0});var e=this.goods_category;if(-1!=this.nav_active_item_index)var i=e[this.nav_active_index]["items"][this.nav_active_item_index]["id"];else i=-1==this.nav_active_index?0:e[this.nav_active_index]["id"];uni.request({url:c.globalData.get_request_url("datalist","detail","realstore"),method:"POST",data:this.request_params_merge({id:this.params.id||0,page:this.data_page,keywords:this.search_keywords_value,category_id:i},"data"),dataType:"json",success:function(t){if(uni.hideLoading(),uni.stopPullDownRefresh(),0==t.data.code){var e=t.data.data;if(e.data.length>0){if(a.data_page<=1)var i=e.data;else{i=a.data_list||[];var n=e.data;for(var s in n)i.push(n[s])}a.setData({data_list:i,data_total:e.total,data_page_total:e.page_total,data_list_loding_status:3,data_page:a.data_page+1}),a.setData({data_bottom_line_status:a.data_page>1&&a.data_page>a.data_page_total})}else a.setData({data_list_loding_status:0}),a.data_page<=1&&a.setData({data_list:[],data_bottom_line_status:!1})}else a.setData({data_list_loding_status:0,data_list_loding_msg:t.data.msg}),c.globalData.showToast(t.data.msg)},fail:function(){uni.hideLoading(),uni.stopPullDownRefresh(),a.setData({data_list_loding_status:2,data_list_loding_msg:"服务器请求出错"}),c.globalData.showToast("服务器请求出错")}})},favor_event:function(t){var a=this;if(!c.globalData.is_single_page_check())return!1;var e=c.globalData.get_user_info(this,"favor_event");if(0!=e){if(c.globalData.user_is_need_login(e))return uni.navigateTo({url:"/pages/login/login?event_callback=favor_event"}),!1;uni.showLoading({title:"处理中..."}),uni.request({url:c.globalData.get_request_url("reversal","favor","realstore"),method:"POST",data:{id:this.info.id},dataType:"json",success:function(t){uni.hideLoading(),0==t.data.code?(a.setData({favor_info:t.data.data}),c.globalData.showToast(t.data.msg,"success")):c.globalData.is_login_check(t.data,a,"favor_event")&&c.globalData.showToast(t.data.msg)},fail:function(){uni.hideLoading(),c.globalData.showToast("服务器请求出错")}})}},buy_number_event:function(t){if(!c.globalData.is_single_page_check())return!1;var a=c.globalData.get_user_info(this);if(0!=a){if(c.globalData.user_is_need_login(a))return uni.navigateTo({url:"/pages/login/login?event_callback=buy_number_event"}),!1;var e=t.currentTarget.dataset.index,i=parseInt(t.currentTarget.dataset.type)||0,n=this.data_list[e];if(0!=(n.is_exist_many_spec||0)){if(0==i)this.setData({cart_status:!0}),c.globalData.showToast("不同规格的商品需在购物车减购");else{var s=n["specifications"]["choose"]||[];if(s.length>0)for(var o in s)for(var l in s[o]["value"])s[o]["value"][l]["is_active"]="",o>0&&(s[o]["value"][l]["is_dont"]="spec-dont-choose");this.setData({popup_spec_status:!0,goods_choose_data:n,goods_specifications_choose:s,goods_spec_base_price:n.price,goods_spec_base_original_price:n.original_price||0,goods_spec_base_inventory:n.inventory,goods_spec_base_images:n.images})}return!1}this.buy_number_event_handle(i,n)}},buy_number_event_handle:function(t,a){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=this.buy_number_handle(t,a,"buy_number");if(!1===i)return!1;var s=null;if(0==t||1==t&&a["buy_number"]>0){var o=this.cart.data,l=null==(e||null)||"object"!=(0,n.default)(e)?"":JSON.stringify(e);for(var r in o)if(a["id"]==o[r]["goods_id"]){var d=null==(o[r]["spec"]||null)||"object"!=(0,n.default)(o[r]["spec"])?"":JSON.stringify(o[r]["spec"]);(0==t||1==t&&d==l)&&(s=o[r]);break}}if(0==i){if(null==s)return c.globalData.showToast("购物车id有误"),!1;this.cart_delete(s.id)}else if(null==s)this.cart_save(a["id"],i,e);else{var u=0==t?parseInt(s["stock"])-i:i+parseInt(s["stock"]);this.cart_update(s.id,a["id"],u)}return!0},cart_buy_number_event:function(t){if(!c.globalData.is_single_page_check())return!1;var a=c.globalData.get_user_info(this);if(0!=a){if(c.globalData.user_is_need_login(a))return uni.navigateTo({url:"/pages/login/login?event_callback=cart_buy_number_event"}),!1;var e=t.currentTarget.dataset.index,i=parseInt(t.currentTarget.dataset.type)||0,n=this.cart.data,s=n[e],o=this.buy_number_handle(i,s,"stock");if(!1===o)return!1;if(0==o)this.cart_delete(s["id"]);else{var l=0==i?parseInt(s["stock"])-o:o+parseInt(s["stock"]);this.cart_update(s["id"],s["goods_id"],l)}}},cart_all_delete_event:function(t){var a=this;uni.showModal({title:"温馨提示",content:"挑了这么久，真的要清空吗？",confirmText:"确认",cancelText:"暂不",success:function(t){if(t.confirm){var e=[],i=a.cart.data;for(var n in i)e.push(i[n]["id"]);a.cart_delete(e.join(","))}}})},buy_number_handle:function(t,a,e){if(1==t&&!this.is_status_check())return!1;var i=parseInt(a[e])||0;0==t?i-=1:i+=1,i<0&&(i=0);var n=parseInt(a["buy_min_number"])||1,s=parseInt(a["buy_max_number"])||0,o=parseInt(a["inventory"]),l=a["inventory_unit"];if(n>0&&(0==t?i<n&&(i=0):i<n&&(i=n)),s>0&&i>s)return c.globalData.showToast("限购"+s+l),!1;if(i>o)return c.globalData.showToast("库存数量"+o+l),!1;if(a[e]==i)return c.globalData.showToast("数量为改变"),!1;var r=1;return 0==t?i<=0&&(r=0):i>a["buy_number"]&&(r=i-a["buy_number"]),r},cart_save:function(t,a){var e=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";uni.showLoading({title:"处理中..."}),uni.request({url:c.globalData.get_request_url("save","cart"),method:"POST",data:{goods_id:t,stock:a,spec:i},dataType:"json",success:function(t){uni.hideLoading(),0==t.data.code?e.get_cart_data():c.globalData.is_login_check(t.data)&&c.globalData.showToast(t.data.msg)},fail:function(){uni.hideLoading(),c.globalData.showToast("服务器请求出错")}})},cart_update:function(t,a,e){var i=this;uni.showLoading({title:"处理中...",mask:!0}),uni.request({url:c.globalData.get_request_url("stock","cart"),method:"POST",data:{id:t,goods_id:a,stock:e},dataType:"json",success:function(t){uni.hideLoading(),0==t.data.code?i.get_cart_data():c.globalData.is_login_check(t.data)?c.globalData.showToast(t.data.msg):c.globalData.showToast("提交失败，请重试！")},fail:function(){uni.hideLoading(),c.globalData.showToast("服务器请求出错")}})},cart_delete:function(t){var a=this;uni.showLoading({title:"处理中...",mask:!0}),uni.request({url:c.globalData.get_request_url("delete","cart"),method:"POST",data:{id:t},dataType:"json",success:function(t){uni.hideLoading(),0==t.data.code?a.get_cart_data():c.globalData.is_login_check(t.data)?c.globalData.showToast(t.data.msg):c.globalData.showToast("提交失败，请重试！")},fail:function(){uni.hideLoading(),c.globalData.showToast("服务器请求出错")}})},get_cart_data:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;uni.request({url:c.globalData.get_request_url("cartdata","detail","realstore"),method:"POST",data:this.request_params_merge({id:this.params.id||0},"cart"),dataType:"json",success:function(e){0==e.data.code?(t.setData({cart:e.data.data}),t.cart_data_list_handle(),1==a&&1==(t.params.is_show_cart||0)&&t.setData({cart_status:!0})):c.globalData.showToast("请求失败，请重试！")},fail:function(){c.globalData.showToast("服务器请求出错")}})},cart_data_list_handle:function(){var t=this.cart||null;if(null!=t){var a=this.data_list;if(a.length>0)for(var e in a)if(a[e]["buy_number"]=0,t.data.length>0)for(var i in t.data)t.data[i]["goods_id"]==a[e]["id"]&&(a[e]["buy_number"]+=parseInt(t.data[i]["stock"]));this.setData({data_list:a})}},is_status_check:function(){return null==(this.info||null)?(c.globalData.showToast("门店信息有误"),!1):1==this.info.status_info.status||(c.globalData.showToast(this.info.status_info.msg),!1)},search_button_event:function(t){this.setData({search_keywords_value:t||"",data_page:1}),this.reset_scroll(),this.get_data_list(1)},search_icon_event:function(t){var a=c.globalData.get_user_info(this);if(0!=a){if(c.globalData.user_is_need_login(a))return uni.navigateTo({url:"/pages/login/login?event_callback=cart_buy_number_event"}),!1;if(!this.is_status_check())return!1;var e=this;uni.scanCode({success:function(t){uni.showLoading({title:"处理中...",mask:!0}),uni.request({url:c.globalData.get_request_url("scan","detail","realstore"),method:"POST",data:e.request_params_merge({value:t.result},"buy"),dataType:"json",success:function(t){uni.hideLoading(),0==t.data.code?1==t.data.data.is_error?c.globalData.showToast(t.data.data.is_error_msg):e.cart_save(t.data.data.goods_id,1,t.data.data.spec):c.globalData.is_login_check(t.data)?c.globalData.showToast(t.data.msg):c.globalData.showToast("提交失败，请重试！")},fail:function(){uni.hideLoading(),c.globalData.showToast("服务器请求出错")}})}})}},cart_event:function(t){this.setData({cart_status:!this.cart_status})},buy_submit_event:function(t){if(!c.globalData.is_single_page_check())return!1;if(!this.is_status_check())return!1;var a=[];if(null!=(this.cart||null)){var e=this.cart.data||[];for(var i in e)a.push(e[i]["id"])}if(a.length<=0)return c.globalData.showToast("请先选购商品"),!1;var n=parseFloat(this.info.starting_price)||0;if(n>0&&this.cart.total_price<n){var s=this.info.starting_price_limit_type_list||[];if(!(s.length>0))return c.globalData.showToast("起步价"+n+"元"),!1;var o=this.info.buy_use_type_list[this.buy_use_type_index];if(-1!=s.indexOf(o["index"])||-1!=s.indexOf(o["index"].toString()))return c.globalData.showToast(o["name"]+"起步价"+n+"元"),!1}var l=this.request_params_merge({buy_type:"cart",ids:a.join(",")},"buy");uni.navigateTo({url:"/pages/buy/buy?data="+encodeURIComponent(JSON.stringify(l))})},text_copy_event:function(t){c.globalData.text_copy_event(t)},address_map_event:function(t){var a=this.info;if(0==a.lat||0==a.lng)return c.globalData.showToast("地址有误"),!1;var e=(a.province_name||"")+(a.city_name||"")+(a.county_name||"")+(a.address||"");c.globalData.open_location(a.lng,a.lat,a.name,e)},tel_event:function(t){c.globalData.call_tel(this.info.service_tel||null)},image_show_event:function(t){c.globalData.image_show_event(t)},nav_event:function(t){this.setData({nav_active_index:t.currentTarget.dataset.index,nav_active_item_index:t.currentTarget.dataset.itemindex,data_page:1}),this.reset_scroll(),this.get_data_list(1)},reset_scroll:function(){var t=this;this.setData({scroll_top:this.scroll_top_old}),this.$nextTick((function(){t.setData({scroll_top:0})}))},scroll_event:function(t){this.setData({scroll_top_old:t.detail.scrollTop})},scroll_lower:function(t){this.get_data_list()},top_nav_left_back_event:function(t){var a=getCurrentPages();a.length<=1?uni.switchTab({url:c.globalData.data.tabbar_pages[0]}):uni.navigateBack()},user_location_init:function(){var t=uni.getStorageSync(c.globalData.data.cache_userlocation_key)||null,a=null;null!=t&&(a={name:t.name||null,address:t.address||null,lat:t.latitude||null,lng:t.longitude||null}),this.setData({user_location:a})},buy_use_type_event:function(t){var a=this;uni.showActionSheet({itemList:this.info.buy_use_type_list.map((function(t){return t.name})),success:function(t){a.setData({buy_use_type_index:t.tapIndex,data_page:1}),uni.setStorageSync(a.cache_buy_use_type_index_key,t.tapIndex),a.reset_scroll(),a.get_data_list(1),a.get_cart_data()}})},get_buy_use_type_index:function(){var t=uni.getStorageSync(this.cache_buy_use_type_index_key);if(null!=(this.info||null)){if((null===t||""===t)&&void 0!=this.info.default_buy_use_type&&-1!=this.info.default_buy_use_type){var a=null;for(var e in this.info.buy_use_type_list)this.info.buy_use_type_list[e]["index"]==this.info.default_buy_use_type&&(a=e);null!==a&&(t=a)}void 0==this.info.buy_use_type_list[t]&&(t=0)}return t||0},request_params_merge:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"init",e=this.buy_use_type_index;if(null!=(this.info||null)&&null!=(this.info.buy_use_type_list||null)&&this.info.buy_use_type_list.length>0&&(void 0==this.info.buy_use_type_list[e]&&(e=0),t["buy_use_type_index"]=this.buy_use_type_index),"init"==a&&null!=(this.params.tablecode_id||null)&&(t["tablecode_id"]=this.params.tablecode_id),"init"==a||"data"==a||"cart"==a){var i=0,n=0;null!=(this.user_location||null)&&(i=this.user_location.lng||0,n=this.user_location.lat||0),t["lng"]=i,t["lat"]=n}return"buy"==a&&(t["realstore_id"]=this.info.id,null!=(this.tablecode||null)&&(t["tablecode_id"]=this.tablecode.id)),t},popup_spec_close_event:function(t){this.setData({popup_spec_status:!1})},goods_specifications_event:function(t){var a=t.currentTarget.dataset.key||0,e=t.currentTarget.dataset.keys||0;this.goods_specifications_handle(a,e)},goods_specifications_handle:function(t,a){var e=this.goods_specifications_choose,i=this.goods_spec_base_images;if(null==(e[t]["value"][a]["is_dont"]||null)&&null==(e[t]["value"][a]["is_disabled"]||null)){for(var n in e)for(var s in e[n]["value"])null==(e[n]["value"][s]["is_dont"]||null)&&null==(e[n]["value"][s]["is_disabled"]||null)&&t==n&&(a==s&&null==(e[n]["value"][s]["is_active"]||null)?(e[n]["value"][s]["is_active"]="cr-white bg-main br-main",null!=(e[n]["value"][s]["images"]||null)&&(i=e[n]["value"][s]["images"])):e[n]["value"][s]["is_active"]="");this.setData({goods_specifications_choose:e,goods_spec_base_images:i}),this.goods_specifications_choose_handle_dont(t),this.get_goods_specifications_type(t),this.get_goods_specifications_detail()}var o=[];for(var n in e)for(var s in e[n]["value"])null!=(e[n]["value"][s]["is_active"]||null)&&o.push(e[n]["value"][s]["name"]);this.setData({goods_spec_selected_text:o.length<=0?"请选择规格":o.join(" / ")})},goods_specifications_choose_handle_dont:function(t){var a=this.goods_specifications_choose||[];if(a.length<=0)return!1;for(var e in t=parseInt(t),a)for(var i in a[e]["value"])e>t&&(a[e]["value"][i]["is_dont"]="spec-dont-choose",a[e]["value"][i]["is_disabled"]="",a[e]["value"][i]["is_active"]=""),0==t&&1==a.length&&(a[e]["value"][i]["is_disabled"]=null!=(a[e]["value"][i]["is_only_level_one"]||null)&&(a[e]["value"][i]["inventory"]||0)<=0?"spec-items-disabled":"");this.setData({goods_specifications_choose:a})},get_goods_specifications_type:function(t){var a=this,e=this.goods_specifications_choose,i=parseInt(t)+1,n=c.globalData.get_length(e);if(i<=0||i>=n)return!1;var s=[];for(var o in e)for(var l in e[o]["value"])if(null!=(e[o]["value"][l]["is_active"]||null)){s.push({type:e[o]["name"],value:e[o]["value"][l]["name"]});break}if(s.length<=0)return!1;uni.request({url:c.globalData.get_request_url("spectype","goods"),method:"POST",data:{id:this.goods_choose_data.id,spec:JSON.stringify(s),buy_use_type_index:this.buy_use_type_index,realstore_id:this.info.id},dataType:"json",success:function(t){if(0==t.data.code){var i=t.data.data.spec_type,o=s.length,l=o>0?o:0;if(l<n){for(var r in e)for(var d in e[r]["value"])if(l==r){e[r]["value"][d]["is_dont"]="";var u=e[r]["value"][d]["name"],_=!1;for(var p in i)if(i[p]==u){_=!0;break}e[r]["value"][d]["is_disabled"]=1==_?"":"spec-items-disabled"}a.setData({goods_specifications_choose:e})}}else c.globalData.showToast(t.data.msg)},fail:function(){c.globalData.showToast("服务器请求出错")}})},get_goods_specifications_detail:function(){var t=this,a=this.goods_selected_spec(),e=this.goods_specifications_choose.length,i=a.length;if(a.length<=0||i<e)return this.setData({goods_spec_base_price:this.goods_choose_data.price,goods_spec_base_original_price:this.goods_choose_data.original_price||0,goods_spec_base_inventory:this.goods_choose_data.inventory}),!1;uni.request({url:c.globalData.get_request_url("specdetail","goods"),method:"POST",data:{id:this.goods_choose_data.id,spec:JSON.stringify(a),stock:1,buy_use_type_index:this.buy_use_type_index,realstore_id:this.info.id},dataType:"json",success:function(a){0==a.data.code?t.goods_spec_detail_back_handle(a.data.data):c.globalData.showToast(a.data.msg)},fail:function(){c.globalData.showToast("服务器请求出错")}})},goods_selected_spec:function(){var t=[],a=this.goods_specifications_choose;for(var e in a)for(var i in a[e]["value"])if(null!=(a[e]["value"][i]["is_active"]||null)){t.push({type:a[e]["name"],value:a[e]["value"][i]["name"]});break}return t},goods_spec_detail_back_handle:function(t){var a=t.spec_base;t={goods_spec_base_price:a.price,goods_spec_base_original_price:a.original_price||0,goods_spec_base_inventory:parseInt(a.inventory)};this.setData(t)},goods_spec_confirm_event:function(t){var a=c.globalData.get_user_info(this,"goods_spec_confirm_event");if(0!=a){if(c.globalData.user_is_need_login(a))return uni.navigateTo({url:"/pages/login/login?event_callback=goods_spec_confirm_event"}),!1;var e=this.goods_specifications_choose,i=e.length,n=0,s=[];if(i>0){for(var o in e)for(var l in e[o]["value"])null!=(e[o]["value"][l]["is_active"]||null)&&(n++,s.push({type:e[o]["name"],value:e[o]["value"][l]["name"]}));if(n<i)return c.globalData.showToast("请选择规格"),!1}this.buy_number_event_handle(1,this.goods_choose_data,s)&&this.setData({popup_spec_status:!1})}},goods_spec_base_images_view_event:function(t){var a=t.currentTarget.dataset.value||null;null!=a&&uni.previewImage({current:a,urls:[a]})},url_event:function(t){c.globalData.url_event(t)}}};a.default=u},c482:function(t,a,e){"use strict";e.r(a);var i=e("f42d"),n=e.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(s);a["default"]=n.a},ca06:function(t,a,e){"use strict";var i=e("53e6"),n=e.n(i);n.a},ccec:function(t,a,e){"use strict";e.r(a);var i=e("4141"),n=e("6b46");for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(s);e("e789");var o=e("f0c5"),l=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"3f860f66",null,!1,i["a"],void 0);a["default"]=l.exports},d0a0:function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".am-badge[data-v-3f860f66]{display:inline-block;position:relative;vertical-align:middle}.am-badge-text[data-v-3f860f66]{display:inline-block;position:absolute;right:0;-webkit-transform:translate(50%,-50%);transform:translate(50%,-50%);top:0;min-width:16px;padding:0;height:16px;line-height:16px;text-align:center;background-color:#ff3b30;border-radius:16px;color:#fff;font-size:10px;padding:1px 1px;box-shadow:0 0 5px rgba(0,0,0,.6)}.am-badge-text-max[data-v-3f860f66]{padding:1px 2px}",""]),t.exports=a},d9d0:function(t,a,e){"use strict";var i=e("58f4"),n=e.n(i);n.a},e789:function(t,a,e){"use strict";var i=e("0e8b"),n=e.n(i);n.a},eba1:function(t,a,e){"use strict";e("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("a9e3");getApp();var i={data:function(){return{static_dir:"/static/images/common/"}},components:{},props:{propStatus:{type:[Number,String],default:0},propMsg:{type:String,default:"没有相关数据"}},methods:{}};a.default=i},f3a3:function(t,a,e){"use strict";e("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i={data:function(){return{}},components:{},props:{propClassname:{type:String,default:""},propShow:{type:Boolean,default:!1},propPosition:{type:String,default:"bottom"},propMask:{type:Boolean,default:!0},propAnimation:{type:Boolean,default:!0},propDisablescroll:{type:Boolean,default:!1},propIsBar:{type:Boolean,default:!1}},methods:{onMaskTap:function(){this.$emit("onclose",{detail:{}},{})}}};a.default=i},f42d:function(t,a,e){"use strict";e("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=getApp(),n={data:function(){return{}},components:{},props:{propUrl:{type:String,default:"/pages/goods-search/goods-search"},propFormName:{type:String,default:"keywords"},propPlaceholder:{type:String,default:"其实搜索很简单 ^_^!"},propDefaultValue:{type:String,default:""},propPlaceholderClass:{type:String,default:"cr-grey"},propTextColor:{type:String,default:"#666"},propBgColor:{type:String,default:"#f0f0f0"},propBrColor:{type:String,default:""},propIsRequired:{type:Boolean,default:!0},propIsOnEvent:{type:Boolean,default:!1},propIcon:{type:String,default:"search"},propIconColor:{type:String,default:"#b7b7b7"},propIsIconOnEvent:{type:Boolean,default:!1}},methods:{search_input_event:function(t){var a=t.detail.value||null;if(this.propIsRequired&&null==a)return i.globalData.showToast("请输入搜索关键字"),!1;this.propIsOnEvent?this.$emit("onsearch",a):uni.navigateTo({url:this.propUrl+"?"+this.propFormName+"="+a})},search_icon_event:function(t){this.propIsIconOnEvent&&this.$emit("onicon",{})}}};a.default=n}}]);