(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-personal-personal"],{"1cc2":function(t,a,e){"use strict";e.r(a);var i=e("fed5"),s=e("348c");for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(a,t,(function(){return s[t]}))}(n);e("dbfe");var o=e("f0c5"),r=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,"5ab14120",null,!1,i["a"],void 0);a["default"]=r.exports},"2fa6":function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".no-data-box[data-v-9455811c]{padding:10% 0;text-align:center}.no-data-box uni-image[data-v-9455811c]{width:%?160?%;margin-bottom:%?30?%}.no-data-box .no-data-tips[data-v-9455811c]{font-size:%?28?%;color:#a6a6a6}.no-data-loading uni-text[data-v-9455811c]{color:#999}",""]),t.exports=a},"348c":function(t,a,e){"use strict";e.r(a);var i=e("9dd6"),s=e.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(n);a["default"]=s.a},"382f":function(t,a,e){var i=e("2fa6");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("4f06").default;s("c08120bc",i,!0,{sourceMap:!1,shadowMode:!1})},"4fed":function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[1==t.propStatus?e("v-uni-view",{staticClass:"no-data-box no-data-loading"},[e("v-uni-text",[t._v("加载中...")])],1):2==t.propStatus?e("v-uni-view",{staticClass:"no-data-box"},[e("v-uni-image",{attrs:{src:t.static_dir+"error.png",mode:"widthFix"}}),e("v-uni-view",{staticClass:"no-data-tips"},[t._v(t._s(t.propMsg||"处理错误"))])],1):0==t.propStatus?e("v-uni-view",{staticClass:"no-data-box"},[e("v-uni-image",{attrs:{src:t.static_dir+"empty.png",mode:"widthFix"}}),e("v-uni-view",{staticClass:"no-data-tips"},[t._v(t._s(t.propMsg||"没有相关数据"))])],1):t._e()],1)},s=[]},"97c7":function(t,a,e){"use strict";e.r(a);var i=e("4fed"),s=e("aff5");for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(a,t,(function(){return s[t]}))}(n);e("a9750");var o=e("f0c5"),r=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,"9455811c",null,!1,i["a"],void 0);a["default"]=r.exports},"9dd6":function(t,a,e){"use strict";e("7a82");var i=e("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=i(e("53ca")),n=i(e("97c7")),o=getApp(),r={data:function(){return{application_client_type:o.globalData.application_client_type(),data_list_loding_status:1,data_list_loding_msg:"",form_submit_disabled_status:!1,default_avatar:o.globalData.data.default_user_head_src,user_data:{},gender_list:[]}},components:{componentNoData:n.default},onShow:function(){this.init()},methods:{init:function(){var t=o.globalData.get_user_info(this,"init");if(0!=t){if(o.globalData.user_is_need_login(t))return uni.redirectTo({url:"/pages/login/login?event_callback=init"}),this.setData({data_list_loding_status:0,data_list_loding_msg:"请先绑定手机"}),!1;this.get_data()}else this.setData({data_list_loding_status:0,data_list_loding_msg:"请先登录"})},get_data:function(){var t=this;uni.request({url:o.globalData.get_request_url("index","personal"),method:"POST",data:{},dataType:"json",success:function(a){0==a.data.code?t.setData({data_list_loding_status:3,user_data:a.data.data.data||{},gender_list:a.data.data.gender_list||[]}):t.setData({data_list_loding_status:0,data_list_loding_msg:a.msg})},fail:function(){t.setData({data_list_loding_status:2,data_list_loding_msg:"服务器请求出错"}),o.globalData.showToast("服务器请求出错")}})},url_event:function(t){o.globalData.url_event(t)},select_change_event:function(t){var a=this.user_data;a[t.currentTarget.dataset.field]=t.detail.value,this.setData({user_data:a})},choose_avatar_event:function(t){var a=this;"weixin"==this.application_client_type?a.upload_handle(t.detail.avatarUrl):uni.chooseImage({count:1,success:function(t){t.tempFilePaths.length>0&&a.upload_handle(t.tempFilePaths[0])}})},upload_handle:function(t){var a=this;uni.uploadFile({url:o.globalData.get_request_url("useravatarupload","personal"),filePath:t,name:"file",formData:{},success:function(t){if(200==t.statusCode){var e="object"==(0,s.default)(t.data)?t.data:JSON.parse(t.data);if(0==e.code){var i=a.user_data;i["avatar"]=e.data,a.setData({user_data:i})}else o.globalData.showToast(e.msg)}}})},form_submit:function(t){var a=this,e=t.detail.value;e["avatar"]=this.user_data.avatar||"",e["birthday"]=this.user_data.birthday||"",e["gender"]=this.user_data.gender||0,this.setData({form_submit_disabled_status:!0}),uni.showLoading({title:"处理中..."}),uni.request({url:o.globalData.get_request_url("save","personal"),method:"POST",data:e,dataType:"json",success:function(t){uni.hideLoading(),a.setData({form_submit_disabled_status:!1}),0==t.data.code?(uni.setStorageSync(o.globalData.data.cache_user_info_key,t.data.data),o.globalData.showToast(t.data.msg,"success"),setTimeout((function(){uni.navigateBack()}),1e3)):o.globalData.is_login_check(t.data)?o.globalData.showToast(t.data.msg):o.globalData.showToast("提交失败，请重试！")},fail:function(){uni.hideLoading(),a.setData({form_submit_disabled_status:!1}),o.globalData.showToast("服务器请求出错")}})}}};a.default=r},a5ff:function(t,a,e){var i=e("d604");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("4f06").default;s("25f95320",i,!0,{sourceMap:!1,shadowMode:!1})},a9750:function(t,a,e){"use strict";var i=e("382f"),s=e.n(i);s.a},aff5:function(t,a,e){"use strict";e.r(a);var i=e("eba1"),s=e.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(n);a["default"]=s.a},d604:function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".user-avatar[data-v-5ab14120]{width:%?80?%;height:%?80?%!important}",""]),t.exports=a},dbfe:function(t,a,e){"use strict";var i=e("a5ff"),s=e.n(i);s.a},eba1:function(t,a,e){"use strict";e("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("a9e3");getApp();var i={data:function(){return{static_dir:"/static/images/common/"}},components:{},props:{propStatus:{type:[Number,String],default:0},propMsg:{type:String,default:"没有相关数据"}},methods:{}};a.default=i},fed5:function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[e("v-uni-view",{staticClass:"page-bottom-fixed"},[3==t.data_list_loding_status?[e("v-uni-form",{staticClass:"form-container",on:{submit:function(a){arguments[0]=a=t.$handleEvent(a),t.form_submit.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"padding-main oh"},[e("v-uni-view",{staticClass:"form-gorup oh"},[e("v-uni-view",{staticClass:"fw-b fl margin-top-lg"},[t._v("头像")]),e("v-uni-button",{staticClass:"fr bg-white br-0 lh-0",attrs:{"hover-class":"none","open-type":"chooseAvatar"},on:{chooseavatar:function(a){arguments[0]=a=t.$handleEvent(a),t.choose_avatar_event.apply(void 0,arguments)},click:function(a){arguments[0]=a=t.$handleEvent(a),t.choose_avatar_event.apply(void 0,arguments)}}},[e("v-uni-image",{staticClass:"circle br user-avatar",attrs:{src:t.user_data.avatar||t.default_avatar,mode:"widthFix"}})],1)],1),e("v-uni-view",{staticClass:"form-gorup oh"},[e("v-uni-view",{staticClass:"form-gorup-item-left"},[e("v-uni-view",{staticClass:"form-gorup-title"},[t._v("昵称"),e("v-uni-text",{staticClass:"form-group-tips-must"},[t._v("*")])],1),e("v-uni-input",{staticClass:"cr-base",attrs:{type:"weixin"==t.application_client_type?"nickname":"text",name:"nickname",value:t.user_data.nickname||"",maxlength:"16","placeholder-class":"cr-grey",placeholder:"昵称2~16个字符"}})],1),e("v-uni-view",{staticClass:"form-gorup-item-right"},[e("v-uni-view",{staticClass:"form-gorup-title"},[t._v("生日")]),e("v-uni-picker",{attrs:{name:"birthday",mode:"date",value:t.user_data.birthday||"","data-field":"birthday"},on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.select_change_event.apply(void 0,arguments)}}},[e("v-uni-view",{class:"picker "+(null==(t.user_data.birthday||null)?"cr-grey":"")},[t._v(t._s(t.user_data.birthday||"请选择生日"))])],1)],1)],1),e("v-uni-view",{staticClass:"form-gorup"},[e("v-uni-view",{staticClass:"oh"},[e("v-uni-view",{staticClass:"form-gorup-item-left"},[e("v-uni-view",{staticClass:"form-gorup-title"},[t._v("所在省")]),e("v-uni-input",{staticClass:"cr-base",attrs:{type:"text",name:"province",value:t.user_data.province||"",maxlength:"30","placeholder-class":"cr-grey",placeholder:"所在省最多30个字符"}})],1),e("v-uni-view",{staticClass:"form-gorup-item-right"},[e("v-uni-view",{staticClass:"form-gorup-title"},[t._v("所在市")]),e("v-uni-input",{staticClass:"cr-base",attrs:{type:"text",name:"city",value:t.user_data.city||"",maxlength:"30","placeholder-class":"cr-grey",placeholder:"所在市最多30个字符"}})],1)],1),e("v-uni-view",{staticClass:"oh br-t"},[e("v-uni-view",{staticClass:"form-gorup-item-left padding-top-lg"},[e("v-uni-view",{staticClass:"form-gorup-title"},[t._v("所在区/县")]),e("v-uni-input",{staticClass:"cr-base",attrs:{type:"text",name:"county",value:t.user_data.county||"",maxlength:"30","placeholder-class":"cr-grey",placeholder:"所在区/县最多30个字符"}})],1),e("v-uni-view",{staticClass:"form-gorup-item-right padding-top-lg"},[e("v-uni-view",{staticClass:"form-gorup-title"},[t._v("详细地址")]),e("v-uni-input",{staticClass:"cr-base",attrs:{type:"text",name:"address",value:t.user_data.address||"",maxlength:"30","placeholder-class":"cr-grey",placeholder:"详细地址最多30个字符"}})],1)],1)],1),e("v-uni-view",{staticClass:"form-gorup oh"},[e("v-uni-view",{staticClass:"form-gorup-title"},[t._v("性别")]),e("v-uni-view",{staticClass:"radio-gorup"},[e("v-uni-radio-group",{attrs:{"data-field":"gender"},on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.select_change_event.apply(void 0,arguments)}}},[t._l(t.gender_list,(function(a,i){return[e("v-uni-label",{key:i+"_0",staticClass:"radio"},[e("v-uni-radio",{attrs:{value:a.id.toString(),checked:parseInt(t.user_data.gender||0)==a.id}}),e("v-uni-text",{staticClass:"va-m"},[t._v(t._s(a.name))])],1)]}))],2)],1)],1),e("v-uni-view",{staticClass:"bottom-fixed padding-main"},[e("v-uni-button",{staticClass:"bg-main br-main cr-white round text-size",attrs:{type:"default","form-type":"submit","hover-class":"none",disabled:t.form_submit_disabled_status}},[t._v("保存")])],1)],1)],1)]:t._e(),e("component-no-data",{attrs:{propStatus:t.data_list_loding_status,propMsg:t.data_list_loding_msg}})],2)],1)},s=[]}}]);