(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-plugins-invoice-invoice-invoice"],{"2fa6":function(t,a,e){var n=e("24fb");a=n(!1),a.push([t.i,".no-data-box[data-v-9455811c]{padding:10% 0;text-align:center}.no-data-box uni-image[data-v-9455811c]{width:%?160?%;margin-bottom:%?30?%}.no-data-box .no-data-tips[data-v-9455811c]{font-size:%?28?%;color:#a6a6a6}.no-data-loading uni-text[data-v-9455811c]{color:#999}",""]),t.exports=a},"30f6":function(t,a,e){"use strict";e("7a82");var n=e("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("14d9"),e("a434");var i=n(e("97c7")),s=n(e("3174")),o=getApp(),l={data:function(){return{data_base:null,data_list:[],data_total:0,data_page_total:0,data_page:1,data_list_loding_status:1,data_bottom_line_status:!1,params:null,nav_status_list:[{name:"全部",value:"-1"},{name:"待审核",value:"0"},{name:"待开票",value:"1"},{name:"已开票",value:"2"},{name:"已拒绝",value:"3"}],nav_status_index:0,content_list:[{name:"业务类型",field:"business_type_name"},{name:"申请类型",field:"apply_type_name"},{name:"发票类型",field:"invoice_type_name"},{name:"发票金额",field:"total_price",unit:"元"},{name:"发票抬头",field:"invoice_title"}]}},components:{componentNoData:i.default,componentBottomLine:s.default},props:{},onLoad:function(t){var a=0;if(null!=(t.status||null))for(var e in this.nav_status_list)if(this.nav_status_list[e]["value"]==t.status){a=e;break}this.setData({params:t,nav_status_index:a})},onShow:function(){this.init(),o.globalData.page_share_handle()},onPullDownRefresh:function(){this.setData({data_page:1}),this.get_data_list(1)},methods:{init:function(){var t=o.globalData.get_user_info(this,"init");if(0!=t){if(o.globalData.user_is_need_login(t))return uni.redirectTo({url:"/pages/login/login?event_callback=init"}),!1;this.get_data_list()}else this.setData({data_list_loding_status:0,data_bottom_line_status:!1})},get_data_list:function(t){var a=this;if(0==(t||0)&&1==this.data_bottom_line_status)return uni.stopPullDownRefresh(),!1;uni.showLoading({title:"加载中..."}),this.setData({data_list_loding_status:1});var e={page:this.data_page},n=null==(this.nav_status_list[this.nav_status_index]||null)?-1:this.nav_status_list[this.nav_status_index]["value"];-1!=n&&(e["status"]=n),uni.request({url:o.globalData.get_request_url("index","user","invoice"),method:"POST",data:e,dataType:"json",success:function(t){if(uni.hideLoading(),uni.stopPullDownRefresh(),0==t.data.code)if(t.data.data.data.length>0){if(a.data_page<=1)var e=t.data.data.data;else{e=a.data_list||[];var n=t.data.data.data;for(var i in n)e.push(n[i])}a.setData({data_base:t.data.data.base||null,data_list:e,data_total:t.data.data.total,data_page_total:t.data.data.page_total,data_list_loding_status:3,data_page:a.data_page+1}),a.setData({data_bottom_line_status:a.data_page>1&&a.data_page>a.data_page_total})}else a.setData({data_list_loding_status:0,data_list:[],data_bottom_line_status:!1});else a.setData({data_list_loding_status:0}),o.globalData.is_login_check(t.data,a,"get_data_list")&&o.globalData.showToast(t.data.msg)},fail:function(){uni.hideLoading(),uni.stopPullDownRefresh(),a.setData({data_list_loding_status:2}),o.globalData.showToast("服务器请求出错")}})},scroll_lower:function(t){this.get_data_list()},nav_event:function(t){this.setData({nav_status_index:t.currentTarget.dataset.index||0,data_page:1}),this.get_data_list(1)},edit_event:function(t){uni.navigateTo({url:"/pages/plugins/invoice/invoice-saveinfo/invoice-saveinfo?id="+t.currentTarget.dataset.value})},delete_event:function(t){var a=this;uni.showModal({title:"温馨提示",content:"删除后不可恢复，确定继续吗?",confirmText:"确认",cancelText:"不了",success:function(e){if(e.confirm){var n=t.currentTarget.dataset.value,i=t.currentTarget.dataset.index;uni.showLoading({title:"处理中..."}),uni.request({url:o.globalData.get_request_url("delete","user","invoice"),method:"POST",data:{ids:n},dataType:"json",success:function(t){if(uni.hideLoading(),0==t.data.code){var e=a.data_list;e.splice(i,1),a.setData({data_list:e}),0==e.length&&a.setData({data_list_loding_status:0,data_bottom_line_status:!1}),o.globalData.showToast(t.data.msg,"success")}else o.globalData.showToast(t.data.msg)},fail:function(){uni.hideLoading(),o.globalData.showToast("服务器请求出错")}})}}})}}};a.default=l},3174:function(t,a,e){"use strict";e.r(a);var n=e("ae53"),i=e("8e69");for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(s);e("361d");var o=e("f0c5"),l=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"aa9399c8",null,!1,n["a"],void 0);a["default"]=l.exports},"361d":function(t,a,e){"use strict";var n=e("bb0f"),i=e.n(n);i.a},"382f":function(t,a,e){var n=e("2fa6");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=e("4f06").default;i("c08120bc",n,!0,{sourceMap:!1,shadowMode:!1})},"4fed":function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return i})),e.d(a,"a",(function(){}));var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[1==t.propStatus?e("v-uni-view",{staticClass:"no-data-box no-data-loading"},[e("v-uni-text",[t._v("加载中...")])],1):2==t.propStatus?e("v-uni-view",{staticClass:"no-data-box"},[e("v-uni-image",{attrs:{src:t.static_dir+"error.png",mode:"widthFix"}}),e("v-uni-view",{staticClass:"no-data-tips"},[t._v(t._s(t.propMsg||"处理错误"))])],1):0==t.propStatus?e("v-uni-view",{staticClass:"no-data-box"},[e("v-uni-image",{attrs:{src:t.static_dir+"empty.png",mode:"widthFix"}}),e("v-uni-view",{staticClass:"no-data-tips"},[t._v(t._s(t.propMsg||"没有相关数据"))])],1):t._e()],1)},i=[]},"66fd":function(t,a,e){var n=e("24fb");a=n(!1),a.push([t.i,".data-bottom-line[data-v-aa9399c8]{padding:%?40?%;overflow:hidden}.data-bottom-line uni-view[data-v-aa9399c8]{width:33.3%}.data-bottom-line .left[data-v-aa9399c8],\n.data-bottom-line .right[data-v-aa9399c8]{margin-top:8px;border-bottom:1px solid #e1e1e1}.data-bottom-line .msg[data-v-aa9399c8]{color:#999;text-align:center;font-size:%?24?%}.data-bottom-line .left[data-v-aa9399c8],\n.data-bottom-line .msg[data-v-aa9399c8]{float:left}.data-bottom-line .right[data-v-aa9399c8]{float:right}",""]),t.exports=a},"86df":function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return i})),e.d(a,"a",(function(){}));var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[e("v-uni-view",{staticClass:"nav-base bg-white"},[t._l(t.nav_status_list,(function(a,n){return[e("v-uni-view",{key:n+"_0",class:"item fl tc cr-gray "+(t.nav_status_index==n?"cr-main":""),attrs:{"data-index":n},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.nav_event.apply(void 0,arguments)}}},[t._v(t._s(a.name))])]}))],2),e("v-uni-scroll-view",{staticClass:"scroll-box scroll-box-ece-nav",attrs:{"scroll-y":!0,"lower-threshold":"30"},on:{scrolltolower:function(a){arguments[0]=a=t.$handleEvent(a),t.scroll_lower.apply(void 0,arguments)}}},[t.data_list.length>0?e("v-uni-view",{staticClass:"data-list padding-horizontal-main padding-top-main"},t._l(t.data_list,(function(a,n){return e("v-uni-view",{key:n,staticClass:"item padding-main border-radius-main oh bg-white spacing-mb"},[e("v-uni-view",{staticClass:"base oh br-b padding-bottom-main"},[e("v-uni-text",{staticClass:"cr-base"},[t._v(t._s(a.add_time))]),e("v-uni-text",{staticClass:"fr cr-main"},[t._v(t._s(a.status_name))])],1),e("v-uni-view",{staticClass:"content margin-top"},[e("v-uni-navigator",{attrs:{url:"/pages/plugins/invoice/invoice-detail/invoice-detail?id="+a.id,"hover-class":"none"}},[t._l(t.content_list,(function(n,i){return[e("v-uni-view",{staticClass:"single-text margin-top-xs"},[e("v-uni-text",{staticClass:"cr-gray margin-right-xl"},[t._v(t._s(n.name))]),e("v-uni-text",{staticClass:"cr-base"},[t._v(t._s(a[n.field]))]),null!=(n.unit||null)?e("v-uni-text",{staticClass:"cr-gray"},[t._v(t._s(n.unit))]):t._e()],1)]}))],2)],1),0==a.status||3==a.status||4==a.status?e("v-uni-view",{staticClass:"item-operation tr br-t padding-top-main margin-top-main"},[0==a.status||3==a.status?e("v-uni-button",{staticClass:"round cr-base bg-white br",attrs:{type:"default",size:"mini","data-value":a.id,"hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.edit_event.apply(void 0,arguments)}}},[t._v("编辑")]):t._e(),e("v-uni-button",{staticClass:"round cr-red br-red bg-white",attrs:{type:"default",size:"mini","data-value":a.id,"data-index":n,"hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.delete_event.apply(void 0,arguments)}}},[t._v("删除")])],1):t._e()],1)})),1):e("v-uni-view",[e("component-no-data",{attrs:{propStatus:t.data_list_loding_status}})],1),e("component-bottom-line",{attrs:{propStatus:t.data_bottom_line_status}})],1)],1)},i=[]},"870b":function(t,a,e){"use strict";e("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n={data:function(){return{}},components:{},props:{propStatus:Boolean,propMsg:String},methods:{}};a.default=n},"8a12":function(t,a,e){"use strict";e.r(a);var n=e("86df"),i=e("efcd");for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(s);e("ad80");var o=e("f0c5"),l=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"31200eaa",null,!1,n["a"],void 0);a["default"]=l.exports},"8e69":function(t,a,e){"use strict";e.r(a);var n=e("870b"),i=e.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(s);a["default"]=i.a},"97c7":function(t,a,e){"use strict";e.r(a);var n=e("4fed"),i=e("aff5");for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(s);e("a9750");var o=e("f0c5"),l=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"9455811c",null,!1,n["a"],void 0);a["default"]=l.exports},a9750:function(t,a,e){"use strict";var n=e("382f"),i=e.n(n);i.a},ad80:function(t,a,e){"use strict";var n=e("f391"),i=e.n(n);i.a},ae53:function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return i})),e.d(a,"a",(function(){}));var n=function(){var t=this.$createElement,a=this._self._c||t;return a("v-uni-view",[this.propStatus?a("v-uni-view",{staticClass:"data-bottom-line"},[a("v-uni-view",{staticClass:"left"}),a("v-uni-view",{staticClass:"msg"},[this._v(this._s(this.propMsg||"我是有底线的"))]),a("v-uni-view",{staticClass:"right"})],1):this._e()],1)},i=[]},aff5:function(t,a,e){"use strict";e.r(a);var n=e("eba1"),i=e.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(s);a["default"]=i.a},bb0f:function(t,a,e){var n=e("66fd");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=e("4f06").default;i("429ff98b",n,!0,{sourceMap:!1,shadowMode:!1})},d436:function(t,a,e){var n=e("24fb");a=n(!1),a.push([t.i,"/*\r\n* 导航\r\n*/.nav-base .item[data-v-31200eaa]{width:20%}",""]),t.exports=a},eba1:function(t,a,e){"use strict";e("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("a9e3");getApp();var n={data:function(){return{static_dir:"/static/images/common/"}},components:{},props:{propStatus:{type:[Number,String],default:0},propMsg:{type:String,default:"没有相关数据"}},methods:{}};a.default=n},efcd:function(t,a,e){"use strict";e.r(a);var n=e("30f6"),i=e.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(s);a["default"]=i.a},f391:function(t,a,e){var n=e("d436");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=e("4f06").default;i("3e4881ed",n,!0,{sourceMap:!1,shadowMode:!1})}}]);