(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-address-user-address"],{"2fa6":function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".no-data-box[data-v-9455811c]{padding:10% 0;text-align:center}.no-data-box uni-image[data-v-9455811c]{width:%?160?%;margin-bottom:%?30?%}.no-data-box .no-data-tips[data-v-9455811c]{font-size:%?28?%;color:#a6a6a6}.no-data-loading uni-text[data-v-9455811c]{color:#999}",""]),t.exports=a},3174:function(t,a,e){"use strict";e.r(a);var i=e("ae53"),s=e("8e69");for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(a,t,(function(){return s[t]}))}(n);e("361d");var o=e("f0c5"),d=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,"aa9399c8",null,!1,i["a"],void 0);a["default"]=d.exports},"361d":function(t,a,e){"use strict";var i=e("bb0f"),s=e.n(i);s.a},"382f":function(t,a,e){var i=e("2fa6");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("4f06").default;s("c08120bc",i,!0,{sourceMap:!1,shadowMode:!1})},"4c16":function(t,a,e){"use strict";var i=e("5d4d"),s=e.n(i);s.a},"4fed":function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[1==t.propStatus?e("v-uni-view",{staticClass:"no-data-box no-data-loading"},[e("v-uni-text",[t._v("加载中...")])],1):2==t.propStatus?e("v-uni-view",{staticClass:"no-data-box"},[e("v-uni-image",{attrs:{src:t.static_dir+"error.png",mode:"widthFix"}}),e("v-uni-view",{staticClass:"no-data-tips"},[t._v(t._s(t.propMsg||"处理错误"))])],1):0==t.propStatus?e("v-uni-view",{staticClass:"no-data-box"},[e("v-uni-image",{attrs:{src:t.static_dir+"empty.png",mode:"widthFix"}}),e("v-uni-view",{staticClass:"no-data-tips"},[t._v(t._s(t.propMsg||"没有相关数据"))])],1):t._e()],1)},s=[]},"5d4d":function(t,a,e){var i=e("bf3c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("4f06").default;s("27c4ad90",i,!0,{sourceMap:!1,shadowMode:!1})},"66fd":function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".data-bottom-line[data-v-aa9399c8]{padding:%?40?%;overflow:hidden}.data-bottom-line uni-view[data-v-aa9399c8]{width:33.3%}.data-bottom-line .left[data-v-aa9399c8],\n.data-bottom-line .right[data-v-aa9399c8]{margin-top:8px;border-bottom:1px solid #e1e1e1}.data-bottom-line .msg[data-v-aa9399c8]{color:#999;text-align:center;font-size:%?24?%}.data-bottom-line .left[data-v-aa9399c8],\n.data-bottom-line .msg[data-v-aa9399c8]{float:left}.data-bottom-line .right[data-v-aa9399c8]{float:right}",""]),t.exports=a},"870b":function(t,a,e){"use strict";e("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i={data:function(){return{}},components:{},props:{propStatus:Boolean,propMsg:String},methods:{}};a.default=i},"8e69":function(t,a,e){"use strict";e.r(a);var i=e("870b"),s=e.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(n);a["default"]=s.a},"97c7":function(t,a,e){"use strict";e.r(a);var i=e("4fed"),s=e("aff5");for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(a,t,(function(){return s[t]}))}(n);e("a9750");var o=e("f0c5"),d=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,"9455811c",null,!1,i["a"],void 0);a["default"]=d.exports},a9750:function(t,a,e){"use strict";var i=e("382f"),s=e.n(i);s.a},ae53:function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){}));var i=function(){var t=this.$createElement,a=this._self._c||t;return a("v-uni-view",[this.propStatus?a("v-uni-view",{staticClass:"data-bottom-line"},[a("v-uni-view",{staticClass:"left"}),a("v-uni-view",{staticClass:"msg"},[this._v(this._s(this.propMsg||"我是有底线的"))]),a("v-uni-view",{staticClass:"right"})],1):this._e()],1)},s=[]},aff5:function(t,a,e){"use strict";e.r(a);var i=e("eba1"),s=e.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(n);a["default"]=s.a},bb0f:function(t,a,e){var i=e("66fd");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("4f06").default;s("429ff98b",i,!0,{sourceMap:!1,shadowMode:!1})},be9c:function(t,a,e){"use strict";e.r(a);var i=e("fd76"),s=e.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(n);a["default"]=s.a},bf3c:function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".address .item-icon[data-v-3543b218]{width:%?30?%;height:%?35?%!important}.address-alias[data-v-3543b218]{padding:0 %?10?%}.address .text[data-v-3543b218]{line-height:%?44?%;width:calc(100% - %?40?%)}.default-checkbox uni-image[data-v-3543b218]{width:%?35?%;height:%?35?%!important}.submit-list uni-button[data-v-3543b218]{width:calc(50% - %?10?%)}",""]),t.exports=a},c831:function(t,a,e){"use strict";e.r(a);var i=e("fbd7"),s=e("be9c");for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(a,t,(function(){return s[t]}))}(n);e("4c16");var o=e("f0c5"),d=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,"3543b218",null,!1,i["a"],void 0);a["default"]=d.exports},eba1:function(t,a,e){"use strict";e("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("a9e3");getApp();var i={data:function(){return{static_dir:"/static/images/common/"}},components:{},props:{propStatus:{type:[Number,String],default:0},propMsg:{type:String,default:"没有相关数据"}},methods:{}};a.default=i},fbd7:function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[e("v-uni-view",{staticClass:"page-bottom-fixed padding-main"},[t.data_list.length>0?e("v-uni-view",t._l(t.data_list,(function(a,i){return e("v-uni-view",{key:i,staticClass:"item padding-horizontal-main border-radius-main bg-white spacing-mb"},[e("v-uni-view",{attrs:{"data-index":i},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.address_conent_event.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"oh padding-vertical-main"},[null!=(a.alias||null)?e("v-uni-text",{staticClass:"address-alias br-main cr-main round margin-right-sm"},[t._v(t._s(a.alias))]):t._e(),e("v-uni-text",[t._v(t._s(a.name))]),e("v-uni-text",{staticClass:"fr"},[t._v(t._s(a.tel))])],1),e("v-uni-view",{staticClass:"address oh padding-bottom-lg"},[e("v-uni-image",{staticClass:"item-icon fl margin-top-xs",attrs:{src:t.common_static_url+"map-icon.png",mode:"widthFix"}}),e("v-uni-view",{staticClass:"text fr"},[e("v-uni-text",[t._v(t._s(a.province_name||"")+t._s(a.city_name||"")+t._s(a.county_name||"")+t._s(a.address||""))]),null!=(a.distance_value||null)&&null!=(a.distance_unit||null)?e("v-uni-text",{staticClass:"cr-grey margin-left-lg fr"},[t._v("距离"),e("v-uni-text",{staticClass:"cr-base"},[t._v(t._s(a.distance_value))]),t._v(t._s(a.distance_unit))],1):t._e()],1)],1)],1),e("v-uni-view",{staticClass:"br-t oh padding-vertical-main"},[e("v-uni-view",{staticClass:"default-checkbox fl margin-top-sm",attrs:{"data-value":a.id},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.address_default_event.apply(void 0,arguments)}}},[e("v-uni-image",{staticClass:"va-m",attrs:{src:t.common_static_url+"select"+(t.is_default==a.id?"-active":"")+"-icon.png",mode:"widthFix"}}),e("v-uni-text",{staticClass:"va-m margin-left-sm"},[t._v("设为默认地址")])],1),e("v-uni-view",{staticClass:"item-operation fr oh"},[0!=(a.lng||0)&&0!=(a.lat||0)?e("v-uni-button",{staticClass:"round bg-white cr-base br",attrs:{type:"default",size:"mini","data-index":i,"hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.address_map_event.apply(void 0,arguments)}}},[t._v("位置")]):t._e(),e("v-uni-button",{staticClass:"round bg-white cr-green br-green",attrs:{type:"default",size:"mini","data-index":i,"hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.address_edit_event.apply(void 0,arguments)}}},[t._v("编辑")]),e("v-uni-button",{staticClass:"round bg-white cr-red br-red",attrs:{type:"default",size:"mini","data-index":i,"data-value":a.id,"hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.address_delete_event.apply(void 0,arguments)}}},[t._v("删除")])],1)],1)],1)})),1):e("v-uni-view",[e("component-no-data",{attrs:{propStatus:t.data_list_loding_status}})],1),e("component-bottom-line",{attrs:{propStatus:t.data_bottom_line_status}})],1),e("v-uni-view",{staticClass:"bottom-fixed padding-main"},[t.common_user_address_platform_import_list.length>0&&-1!=t.common_user_address_platform_import_list.indexOf(t.client_value)?[e("v-uni-view",{staticClass:"submit-list"},[e("v-uni-button",{staticClass:"bg-main br-main cr-white round text-size dis-inline-block fl",attrs:{type:"default","hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.address_add_event.apply(void 0,arguments)}}},[t._v("添加新地址")]),e("v-uni-button",{staticClass:"bg-main-pair br-main-pair cr-white round text-size dis-inline-block fr",attrs:{type:"default","hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.choose_system_address_event.apply(void 0,arguments)}}},[t._v("导入系统地址")])],1)]:[e("v-uni-button",{staticClass:"bg-main br-main cr-white round text-size wh-auto",attrs:{type:"default","hover-class":"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.address_add_event.apply(void 0,arguments)}}},[t._v("添加新地址")])]],2)],1)},s=[]},fd76:function(t,a,e){"use strict";e("7a82");var i=e("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("a434");var s=i(e("97c7")),n=i(e("3174")),o=getApp(),d=o.globalData.get_static_url("common"),l={data:function(){return{common_static_url:d,data_list_loding_status:1,data_bottom_line_status:!1,common_user_address_platform_import_list:[],client_value:o.globalData.application_client_type(),data_list:[],params:null,is_default:0}},components:{componentNoData:s.default,componentBottomLine:n.default},props:{},onLoad:function(t){this.setData({params:t})},onShow:function(){this.init_config(),this.init(),o.globalData.page_share_handle()},onPullDownRefresh:function(){this.get_data_list()},methods:{init_config:function(t){1==(t||!1)?this.setData({common_user_address_platform_import_list:o.globalData.get_config("config.common_user_address_platform_import_list",[])}):o.globalData.is_config(this,"init_config")},init:function(){var t=o.globalData.get_user_info(this,"init");if(0!=t){if(o.globalData.user_is_need_login(t))return uni.redirectTo({url:"/pages/login/login?event_callback=init"}),!1;this.get_data_list()}else this.setData({data_list_loding_status:0,data_bottom_line_status:!1})},get_data_list:function(){var t=this;uni.showLoading({title:"加载中..."}),this.setData({data_list_loding_status:1}),uni.request({url:o.globalData.get_request_url("index","useraddress"),method:"POST",data:this.params,dataType:"json",success:function(a){if(uni.hideLoading(),uni.stopPullDownRefresh(),0==a.data.code){var e=a.data.data;if(e.data.length>0){var i=0;for(var s in e.data)1==e.data[s]["is_default"]&&(i=e.data[s]["id"]);t.setData({data_list:e.data,is_default:i,data_list_loding_status:3,data_bottom_line_status:!0})}else t.setData({data_list_loding_status:0})}else t.setData({data_list_loding_status:0}),o.globalData.is_login_check(a.data,t,"get_data_list")&&o.globalData.showToast(a.data.msg)},fail:function(){uni.hideLoading(),uni.stopPullDownRefresh(),t.setData({data_list_loding_status:2}),o.globalData.showToast("服务器请求出错")}})},address_delete_event:function(t){var a=t.currentTarget.dataset.index,e=t.currentTarget.dataset.value||null;if(null==e)return o.globalData.showToast("地址ID有误"),!1;var i=this;uni.showModal({title:"温馨提示",content:"删除后不可恢复，确定继续吗?",confirmText:"确认",cancelText:"不了",success:function(t){t.confirm&&(uni.showLoading({title:"处理中..."}),uni.request({url:o.globalData.get_request_url("delete","useraddress"),method:"POST",data:{id:e},dataType:"json",success:function(t){if(uni.hideLoading(),0==t.data.code){var s=i.data_list;s.splice(a,1),i.setData({data_list:s,data_list_loding_status:0==s.length?0:3,data_bottom_line_status:0!=s.length}),o.globalData.showToast(t.data.msg,"success");var n=uni.getStorageSync(o.globalData.data.cache_buy_user_address_select_key);null!=(n.data||null)&&n.data.id==e&&uni.removeStorageSync(o.globalData.data.cache_buy_user_address_select_key)}else o.globalData.is_login_check(t.data)?o.globalData.showToast(t.data.msg):o.globalData.showToast("提交失败，请重试！")},fail:function(){uni.hideLoading(),o.globalData.showToast("服务器请求出错")}}))}})},address_default_event:function(t){var a=t.currentTarget.dataset.value||null;if(null==a)return o.globalData.showToast("地址ID有误"),!1;var e=this;if(a==e.is_default)return o.globalData.showToast("设置成功","success"),!1;uni.showLoading({title:"处理中..."}),uni.request({url:o.globalData.get_request_url("setdefault","useraddress"),method:"POST",data:{id:a},dataType:"json",success:function(t){uni.hideLoading(),0==t.data.code?(e.setData({is_default:a}),o.globalData.showToast(t.data.msg,"success")):o.globalData.is_login_check(t.data)?o.globalData.showToast(t.data.msg):o.globalData.showToast("提交失败，请重试！")},fail:function(){uni.hideLoading(),o.globalData.showToast("服务器请求出错")}})},address_conent_event:function(t){var a=t.currentTarget.dataset.index||0,e=this.params.is_back||0;1==e&&(uni.setStorage({key:o.globalData.data.cache_buy_user_address_select_key,data:this.data_list[a]}),uni.navigateBack())},choose_system_address_event:function(t){uni.chooseAddress({success:function(t){var a=this,e={name:t.userName||"",tel:t.telNumber||"",province:t.provinceName||"",city:t.cityName||"",county:t.countyName||"",address:t.detailInfo||""};uni.showLoading({title:"处理中..."}),uni.request({url:o.globalData.get_request_url("outsystemadd","useraddress"),method:"POST",data:e,dataType:"json",success:function(t){uni.hideLoading(),0==t.data.code?a.get_data_list():o.globalData.is_login_check(t.data)?o.globalData.showToast(t.data.msg):o.globalData.showToast("提交失败，请重试！")},fail:function(){uni.hideLoading(),o.globalData.showToast("服务器请求出错")}})}})},address_add_event:function(t){var a=this.params;a["id"]=0;var e=o.globalData.json_to_url_params(a);uni.navigateTo({url:"/pages/user-address-save/user-address-save?"+e})},address_edit_event:function(t){var a=t.currentTarget.dataset.index||0,e=this.data_list[a]||null;if(null==e)return o.globalData.showToast("地址有误"),!1;var i=this.params;i["id"]=e.id;var s=o.globalData.json_to_url_params(i);uni.navigateTo({url:"/pages/user-address-save/user-address-save?"+s})},address_map_event:function(t){var a=t.currentTarget.dataset.index||0,e=this.data_list[a]||null;if(null==e)return o.globalData.showToast("地址有误"),!1;var i=e.alias||e.name||"",s=(e.province_name||"")+(e.city_name||"")+(e.county_name||"")+(e.address||"");o.globalData.open_location(e.lng,e.lat,i,s)}}};a.default=l}}]);