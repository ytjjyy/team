(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-creditEdit"],{"0f68":function(t,i,n){"use strict";var e;n.d(i,"b",(function(){return a})),n.d(i,"c",(function(){return o})),n.d(i,"a",(function(){return e}));var a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",{staticClass:"container"},[n("cu-custom",{attrs:{bgColor:"bg-gradual-orange",isBack:!0}},[n("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),n("template",{attrs:{slot:"content"},slot:"content"},[t._v("红利领取")])],2),n("v-uni-view",{staticClass:"main_wrap"},[n("v-uni-view",{staticClass:"content_box"},[n("v-uni-view",{staticClass:"info_title_box"},[n("v-uni-view",{staticClass:"info_title"},[n("v-uni-label",{staticClass:"text-orange text-bold text-xxl"},[t._v(t._s(t.credit))]),n("v-uni-label",{staticClass:"text-grey text-df"},[t._v("红利余额")])],1),n("v-uni-view",{staticClass:"info_title"},[n("v-uni-label",{staticClass:"text-orange text-bold text-xxl"},[t._v(t._s(t.balance))]),n("v-uni-label",{staticClass:"text-grey text-df"},[t._v("账户余额")])],1)],1),n("v-uni-view",{staticClass:"info_balance"},[n("v-uni-label",[t._v("红利金额将领取到余额账户。")])],1),n("v-uni-view",{staticClass:"info_input"},[n("v-uni-view",{staticClass:"left-label"},[n("v-uni-label",[t._v("领取金额")])],1),n("v-uni-view",{staticClass:"login-text"},[n("v-uni-input",{attrs:{type:"number",placeholder:"请输入领取金额"},model:{value:t.amount,callback:function(i){t.amount=i},expression:"amount"}})],1)],1),n("v-uni-view",{staticClass:"info_tips text-red"},[n("v-uni-label",[t._v("红利金额将领取到余额账户。")])],1),n("v-uni-view",{staticClass:"info_btn"},[n("v-uni-button",{staticClass:"cu-btn submit_btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickSubmit.apply(void 0,arguments)}}},[t._v("领取")])],1)],1)],1)],1)},o=[]},7647:function(t,i,n){var e=n("24fb");i=e(!1),i.push([t.i,'.tabs_box[data-v-3c80f90f]{position:fixed;left:0;right:0}.main_wrap[data-v-3c80f90f]{padding:%?15?%}.content_box[data-v-3c80f90f]{padding:%?60?% %?30?%;background:#fff;border-radius:%?15?%;box-shadow:%?1?% %?6?% %?16?% rgba(0,0,0,.1)}.info_balance[data-v-3c80f90f]{height:%?80?%;border-radius:%?8?%;border:%?2?% solid #b7eb8f;display:flex;align-items:center;margin-bottom:%?30?%;padding-left:%?30?%;background:#f6ffed}.info_title_box[data-v-3c80f90f]{display:flex;flex-direction:row;align-items:center;padding-bottom:%?30?%}.info_title[data-v-3c80f90f]{flex:1;display:flex;flex-direction:column;align-items:center}.info_title_box uni-label[data-v-3c80f90f]{margin-bottom:%?10?%}.info_input[data-v-3c80f90f]{display:flex;align-items:center;font-size:%?26?%;line-height:%?68?%;height:%?80?%;background-color:hsla(0,0%,100%,.3);margin-bottom:%?30?%;border:%?2?% solid #ccc;border-radius:%?8?%;color:#666;background-color:#fff;padding:0 %?30?%}.info_input .left-label[data-v-3c80f90f]{display:flex;justify-content:left;align-items:center;padding-right:%?30?%;border-right:%?2?% solid #ccc}.info_input .login-text[data-v-3c80f90f]{display:flex;flex:1;align-items:center;margin-left:%?15?%;margin-right:%?15?%}.login-text uni-input[data-v-3c80f90f]{width:100%;font-size:%?26?%}.info_tips[data-v-3c80f90f]{display:flex;flex-direction:column;font-size:%?26?%;margin-bottom:%?30?%}.info_input .text-price[data-v-3c80f90f]::before{content:"¥";font-size:100%;margin-right:%?10?%}.info_btn[data-v-3c80f90f]{display:flex;justify-content:center}.submit_btn[data-v-3c80f90f]{color:#fff;width:50%;background-image:-webkit-linear-gradient(left,#f63,#f63);background-image:linear-gradient(90deg,#f63,#f63);box-shadow:0 %?5?% %?15?% 0 rgba(255,90,123,.65);border-radius:%?15?%;font-size:%?32?%;line-height:%?80?%;height:%?80?%;margin-top:%?20?%}',""]),t.exports=i},8312:function(t,i,n){"use strict";var e=n("f820"),a=n.n(e);a.a},8823:function(t,i,n){"use strict";var e=n("4ea4");n("acd8"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;e(n("2b4c"));var a={data:function(){return{roleId:"",amount:"",balance:"0.00",credit:"0.00"}},onShow:function(){try{var t=uni.getStorageSync("token"),i=uni.getStorageSync("role_id");t&&i?this.roleId=i:uni.reLaunch({url:"../public/login"})}catch(n){}this.loadData()},onPullDownRefresh:function(){this.loadData(),uni.stopPullDownRefresh()},methods:{loadData:function(){var t=this;uni.showLoading({title:"数据加载中...",mask:!0}),this.$u.api.userInfo({role_id:this.roleId}).then((function(i){t.balance=parseFloat(i.data.balance).toFixed(2),t.credit=parseFloat(i.data.credit).toFixed(2)})).catch((function(t){uni.showToast({icon:"none",title:t.message?t.message:"获取用户信息异常,请稍后重试",duration:2e3})}))},clickSubmit:function(){""!=this.amount.length?parseFloat(this.amount)<.01?uni.showToast({icon:"none",title:"领取金额必须大于0.01"}):parseFloat(this.amount)>parseFloat(this.credit)?uni.showToast({icon:"none",title:"可领取金额不足"}):(uni.showLoading({title:"数据提交中...",mask:!0}),this.$u.api.transFee({role_id:this.roleId,amount:parseFloat(this.amount).toFixed(2)}).then((function(t){uni.showToast({icon:"none",title:"红利金领取成功",duration:2e3,complete:function(){setTimeout((function(){uni.reLaunch({url:"/pages/home/index"})}),1e3)}})})).catch((function(t){uni.showToast({icon:"none",title:t.message?t.message:"提交失败，请稍后重试",duration:2e3})})),this.amount=""):uni.showToast({icon:"none",title:"请输入领取金额"})}}};i.default=a},"9c91":function(t,i,n){"use strict";n.r(i);var e=n("0f68"),a=n("cdf7");for(var o in a)"default"!==o&&function(t){n.d(i,t,(function(){return a[t]}))}(o);n("8312");var s,l=n("f0c5"),c=Object(l["a"])(a["default"],e["b"],e["c"],!1,null,"3c80f90f",null,!1,e["a"],s);i["default"]=c.exports},cdf7:function(t,i,n){"use strict";n.r(i);var e=n("8823"),a=n.n(e);for(var o in e)"default"!==o&&function(t){n.d(i,t,(function(){return e[t]}))}(o);i["default"]=a.a},f820:function(t,i,n){var e=n("7647");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=n("4f06").default;a("78d2fc84",e,!0,{sourceMap:!1,shadowMode:!1})}}]);